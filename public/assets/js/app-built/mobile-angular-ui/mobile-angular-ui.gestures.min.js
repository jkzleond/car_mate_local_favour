!function(){angular.module("mobile-angular-ui.gestures.drag",["mobile-angular-ui.gestures.touch","mobile-angular-ui.gestures.transform"]).provider("$drag",function(){this.$get=["$touch","$transform",function(e,t){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n);var r=n.sheet;return r.insertRule("html .ui-drag-move{z-index: 99999 !important;}",0),r.insertRule("html .ui-drag-move{-webkit-transition: none !important;-moz-transition: none !important;-o-transition: none !important;-ms-transition: none !important;transition: none !important;}",0),r.insertRule("html .ui-drag-move, html .ui-drag-move *{-webkit-touch-callout: none !important;-webkit-user-select: none !important;-khtml-user-select: none !important;-moz-user-select: none !important;-ms-user-select: none !important;user-select: none !important;}",0),n=r=null,{NULL_TRANSFORM:function(e,t){return t},TRANSLATE_BOTH:function(e,t,n){return t.translateX=n.distanceX,t.translateY=n.distanceY,t},TRANSLATE_HORIZONTAL:function(e,t,n){return t.translateX=n.distanceX,t.translateY=0,t},TRANSLATE_UP:function(e,t,n){return t.translateY=n.distanceY<=0?n.distanceY:0,t.translateX=0,t},TRANSLATE_DOWN:function(e,t,n){return t.translateY=n.distanceY>=0?n.distanceY:0,t.translateX=0,t},TRANSLATE_LEFT:function(e,t,n){return t.translateX=n.distanceX<=0?n.distanceX:0,t.translateY=0,t},TRANSLATE_RIGHT:function(e,t,n){return t.translateX=n.distanceX>=0?n.distanceX:0,t.translateY=0,t},TRANSLATE_VERTICAL:function(e,t,n){return t.translateX=0,t.translateY=n.distanceY,t},TRANSLATE_INSIDE:function(e){return e=e.length?e[0]:e,function(t,n,r){t=t.length?t[0]:t;var i,s,o=t.getBoundingClientRect(),u=e instanceof Element?e.getBoundingClientRect():e;return i=o.width>=u.width?0:o.right+r.stepX>u.right?u.right-o.right:o.left+r.stepX<u.left?u.left-o.left:r.stepX,s=o.height>=u.height?0:o.bottom+r.stepY>u.bottom?u.bottom-o.bottom:o.top+r.stepY<u.top?u.top-o.top:r.stepY,n.translateX+=i,n.translateY+=s,n}},bind:function(n,r,i){n=angular.element(n),r=r||{},i=i||{};var s,o,u=r.start,a=r.end,f=r.move,l=r.cancel,c=r.transform||this.TRANSLATE_BOTH,h=n[0],p=t.get(n),d=h.getBoundingClientRect(),v=!1,m=function(){return v},g=function(){v=!1,s=o=null,n.removeClass("ui-drag-move")},y=function(){t.set(h,p)},b=function(){t.set(h,s||p)},w=function(){v=!0,o=h.getBoundingClientRect(),s=t.get(h),n.addClass("ui-drag-move")},E=function(e){return e=angular.extend({},e),e.originalTransform=p,e.originalRect=d,e.startRect=o,e.rect=h.getBoundingClientRect(),e.startTransform=s,e.transform=t.get(h),e.reset=y,e.undo=b,e},S=function(e,r){if(r.preventDefault(),m()){e=E(e);var i=c(n,angular.extend({},e.transform),e,r);t.set(h,i),f&&f(e,r)}else w(),u&&u(E(e),r)},x=function(e,t){m()&&(t.__UiSwipeHandled__=!0,e=E(e),g(),a&&a(e,t))},T=function(e,t){m()&&(e=E(e),b(),g(),l&&l(e,t))};return e.bind(n,{move:S,end:x,cancel:T},i)}}}]})}(),function(){var e=angular.module("mobile-angular-ui.gestures.swipe",["mobile-angular-ui.gestures.touch"]);e.factory("$swipe",["$touch",function(e){var t=500,n=10,r=10,i=10,s=Math.abs,o={movementThreshold:n,valid:function(e){var n=s(e.angle);n=n>=90?n-90:n;var o=e.total-e.distance<=r,u=i>=n||n>=90-i,f=e.averageVelocity>=t;return o&&u&&f}};return{bind:function(t,n,r){return r=angular.extend({},o,r||{}),e.bind(t,n,r)}}}]),angular.forEach(["ui","ng"],function(n){angular.forEach(["Left","Right"],function(r){var i=n+"Swipe"+r;e.directive(i,["$swipe","$parse",function(e,t){return{link:function(n,s,o){var u=t(o[i]);e.bind(s,{end:function(e,t){e.direction===r.toUpperCase()&&(t.__UiSwipeHandled__||(t.__UiSwipeHandled__=!0,n.$apply(function(){u(n,{$touch:e})})))}})}}}])})})}(),function(){var e=angular.module("mobile-angular-ui.gestures.touch",[]);e.provider("$touch",function(){var e=function(){return!0},t=1,n={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}},r=["mouse","touch"],i=function(e){return e[0].ownerDocument.documentElement.getBoundingClientRect()};this.setPointerEvents=function(e){n=e,r=Object.keys(n)},this.setValid=function(t){e=t},this.setMovementThreshold=function(e){t=e},this.setSensitiveArea=function(e){i=e};var s=Math.abs,o=Math.atan2,u=Math.sqrt,a=function(e){var t=e.touches&&e.touches.length?e.touches:[e],n=e.changedTouches&&e.changedTouches[0]||e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]||t[0].originalEvent||t[0];return{x:n.clientX,y:n.clientY}},f=function(e,t){var r=[];return angular.forEach(e,function(e){var i=n[e][t];i&&r.push(i)}),r.join(" ")},l=function(){return new Date},c=function(e,t){return t=t||l(),s(t-e)},h=function(e,t){return u(e*e+t*t)},p=function(e,t,n,r){n=n||{},r=r||{};var i=l(),u=n.timestamp||i,a=r.timestamp||u,f=t.x,p=t.y,d=n.x||f,m=n.y||p,g=r.x||d,y=r.y||m,b=r.totalX||0,w=r.totalY||0,E=b+s(f-g),S=w+s(p-y),x=h(E,S),T=c(i,u),N=c(i,a),C=f-g,k=p-y,L=h(C,k),A=f-d,O=p-m,M=h(A,O),_=N>0?s(L/(N/1e3)):0,D=T>0?s(x/(T/1e3)):0,P=s(A)>s(O)?0>A?"LEFT":"RIGHT":0>O?"TOP":"BOTTOM",H=0!==A||0!==O?o(O,A)*(180/Math.PI):null;return H=-180===H?180:H,{type:e,timestamp:i,duration:T,startX:d,startY:m,prevX:g,prevY:y,x:t.x,y:t.y,step:L,stepX:C,stepY:k,velocity:_,averageVelocity:D,distance:M,distanceX:A,distanceY:O,total:x,totalX:E,totalY:S,direction:P,angle:H}};this.$get=[function(){return{bind:function(n,s,o){n=angular.element(n),o=o||{};var u,l,c=o.pointerTypes||r,h=void 0===o.valid?e:o.valid,d=void 0===o.movementThreshold?t:o.valid,v=void 0===o.sensitiveArea?i:o.sensitiveArea,g=f(c,"start"),y=f(c,"end"),b=f(c,"move"),w=f(c,"cancel"),E=s.start,S=s.end,x=s.move,T=s.cancel,N=angular.element(n[0].ownerDocument),C=function(){u=l=null,N.off(b,O),N.off(y,M),w&&N.off(w,A)},k=function(){return!!u},L=function(e){e.touches&&e.touches.length>1||(l=u=p("touchstart",a(e)),N.on(b,O),N.on(y,M),w&&N.on(w,A),E&&E(u,e))},A=function(e){var t=p("touchcancel",a(e),u,l);C(),T&&T(t,e)},O=function(e){if(!(e.touches&&e.touches.length>1)&&k()){var t=a(e),r="function"==typeof v?v(n):v;r=r.length?r[0]:r;var i=r instanceof Element?r.getBoundingClientRect():r;if(!(t.x<i.left||t.x>i.right||t.y<i.top||t.y>i.bottom)){var s=p("touchmove",t,u,l),o=s.totalX,f=s.totalY;l=s,d>o&&d>f||h(s,e)&&((void 0===e.cancelable||e.cancelable)&&e.preventDefault(),x&&x(s,e))}}},M=function(e){if(!(e.touches&&e.touches.length>1)&&k()){var t=angular.extend({},l,{type:"touchend"});h(t,e)&&((void 0===e.cancelable||e.cancelable)&&e.preventDefault(),S&&setTimeout(function(){S(t,e)},0)),C()}};return n.on(g,L),function(){n&&(n.off(g,L),w&&N.off(w,A),N.off(b,O),N.off(y,M),n=N=g=w=b=y=L=A=O=M=c=h=d=v=null)}}}}]})}(),function(){var e=angular.module("mobile-angular-ui.gestures.transform",[]);e.factory("$transform",function(){for(var e,t,n,r=["","webkit","Moz","O","ms"],i=document.createElement("div"),s=0;s<r.length;s++){var o=r[s];if(o+"Perspective"in i.style){e=""===o?"":"-"+o.toLowerCase()+"-",n=o+(""===o?"transform":"Transform"),t=e+"transform";break}}i=null;var u=function(e){e=e.length?e[0]:e;var n=window.getComputedStyle(e,null).getPropertyValue(t);return n},a=function(e,t){e=e.length?e[0]:e,e.style[n]=t},f=1e-7,l=function(e){return 180*e/Math.PI},c=Math.sqrt,h=Math.asin,p=Math.atan2,d=Math.cos,v=Math.abs,m=Math.floor,g=function(e){for(var t=[[],[],[],[]],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)t[n][r]=e[n][r];return t},y=function(e,t,n,r){return e*r-t*n},b=function(e,t,n,r,i,s,o,u,a){return e*y(i,s,u,a)-r*y(t,n,u,a)+o*y(t,n,i,s)},w=function(e){var t=e[0][0],n=e[0][1],r=e[0][2],i=e[0][3],s=e[1][0],o=e[1][1],u=e[1][2],a=e[1][3],f=e[2][0],l=e[2][1],c=e[2][2],h=e[2][3],p=e[3][0],d=e[3][1],v=e[3][2],m=e[3][3];return t*b(o,l,d,u,c,v,a,h,m)-n*b(s,f,p,u,c,v,a,h,m)+r*b(s,f,p,o,l,d,a,h,m)-i*b(s,f,p,o,l,d,u,c,v)},E=function(e){var t=[[],[],[],[]],n=e[0][0],r=e[0][1],i=e[0][2],s=e[0][3],o=e[1][0],u=e[1][1],a=e[1][2],f=e[1][3],l=e[2][0],c=e[2][1],h=e[2][2],p=e[2][3],d=e[3][0],v=e[3][1],m=e[3][2],g=e[3][3];return t[0][0]=b(u,c,v,a,h,m,f,p,g),t[1][0]=-b(o,l,d,a,h,m,f,p,g),t[2][0]=b(o,l,d,u,c,v,f,p,g),t[3][0]=-b(o,l,d,u,c,v,a,h,m),t[0][1]=-b(r,c,v,i,h,m,s,p,g),t[1][1]=b(n,l,d,i,h,m,s,p,g),t[2][1]=-b(n,l,d,r,c,v,s,p,g),t[3][1]=b(n,l,d,r,c,v,i,h,m),t[0][2]=b(r,u,v,i,a,m,s,f,g),t[1][2]=-b(n,o,d,i,a,m,s,f,g),t[2][2]=b(n,o,d,r,u,v,s,f,g),t[3][2]=-b(n,o,d,r,u,v,i,a,m),t[0][3]=-b(r,u,c,i,a,h,s,f,p),t[1][3]=b(n,o,l,i,a,h,s,f,p),t[2][3]=-b(n,o,l,r,u,c,s,f,p),t[3][3]=b(n,o,l,r,u,c,i,a,h),t},S=function(e){var t=E(e),n=w(e);if(v(n)<f)return!1;for(var r=0;4>r;r++)for(var i=0;4>i;i++)t[r][i]=t[r][i]/n;return t},x=function(e){for(var t=[[],[],[],[]],n=0;4>n;n++)for(var r=0;4>r;r++)t[n][r]=e[r][n];return t},T=function(e,t){var n=[];return n[0]=e[0]*t[0][0]+e[1]*t[1][0]+e[2]*t[2][0]+e[3]*t[3][0],n[1]=e[0]*t[0][1]+e[1]*t[1][1]+e[2]*t[2][1]+e[3]*t[3][1],n[2]=e[0]*t[0][2]+e[1]*t[1][2]+e[2]*t[2][2]+e[3]*t[3][2],n[3]=e[0]*t[0][3]+e[1]*t[1][3]+e[2]*t[2][3]+e[3]*t[3][3],n},N=function(e){return c(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},C=function(e,t){var n=[],r=N(e);if(0!==r){var i=t/r;n[0]*=i,n[1]*=i,n[2]*=i}return n},k=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},L=function(e,t,n,r){var i=[];return i[0]=n*e[0]+r*t[0],i[1]=n*e[1]+r*t[1],i[2]=n*e[2]+r*t[2],i},A=function(e,t){var n=[];return n[0]=e[1]*t[2]-e[2]*t[1],n[1]=e[2]*t[0]-e[0]*t[2],n[2]=e[0]*t[1]-e[1]*t[0],n},O=function(e){var t,n,r={},i=g(e);if(0===i[3][3])return!1;for(t=0;4>t;t++)for(n=0;4>n;n++)i[t][n]/=i[3][3];var s=g(i);for(t=0;3>t;t++)s[t][3]=0;if(s[3][3]=1,0===w(s))return!1;if(0!==i[0][3]||0!==i[1][3]||0!==i[2][3]){var o=[];o[0]=i[0][3],o[1]=i[1][3],o[2]=i[2][3],o[3]=i[3][3];var u=S(s),a=x(u),f=T(o,a);r.perspectiveX=f[0],r.perspectiveY=f[1],r.perspectiveZ=f[2],r.perspectiveW=f[3],i[0][3]=i[1][3]=i[2][3]=0,i[3][3]=1}else r.perspectiveX=r.perspectiveY=r.perspectiveZ=0,r.perspectiveW=1;r.translateX=i[3][0],i[3][0]=0,r.translateY=i[3][1],i[3][1]=0,r.translateZ=i[3][2],i[3][2]=0;var c,v=[[],[],[]];for(t=0;3>t;t++)v[t][0]=i[t][0],v[t][1]=i[t][1],v[t][2]=i[t][2];if(r.scaleX=N(v[0]),C(v[0],1),r.skewXY=k(v[0],v[1]),L(v[1],v[0],v[1],1,-r.skewXY),r.scaleY=N(v[1]),C(v[1],1),r.skewXY/=r.scaleY,r.skewXZ=k(v[0],v[2]),L(v[2],v[0],v[2],1,-r.skewXZ),r.skewYZ=k(v[1],v[2]),L(v[2],v[1],v[2],1,-r.skewYZ),r.scaleZ=N(v[2]),C(v[2],1),r.skewXZ/=r.scaleZ,r.skewYZ/=r.scaleZ,c=A(v[1],v[2]),k(v[0],c)<0)for(t=0;3>t;t++)r.scaleX*=-1,v[t][0]*=-1,v[t][1]*=-1,v[t][2]*=-1;return r.rotateY=l(h(-v[0][2]))||0,0!==d(r.rotateY)?(r.rotateX=l(p(v[1][2],v[2][2]))||0,r.rotateZ=l(p(v[0][1],v[0][0]))||0):(r.rotateX=l(p(-v[2][0],v[1][1]))||0,r.rotateZ=0),r},M=function(e,t){var n=e||t||0;return""+n.toFixed(20)},_=function(e,t){return M(e,t)+"px"},D=function(e,t){return M(e,t)+"deg"};return{fromCssMatrix:function(e){var t=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];if(e&&"none"!==e){var n=e.split("(")[1].split(")")[0].split(",").map(Number);if(e.match(/^matrix\(/))t[0][0]=n[0],t[1][0]=n[1],t[0][1]=n[2],t[1][1]=n[3],t[3][0]=n[4],t[3][1]=n[5];else for(var r=0;16>r;r++){var i=m(r/4),s=r%4;t[i][s]=n[r]}}return O(t)},toCss:function(e){var t=[M(e.perspectiveX),M(e.perspectiveY),M(e.perspectiveZ),M(e.perspectiveW,1)],n=[_(e.translateX),_(e.translateY),_(e.translateZ)],r=[M(e.scaleX),M(e.scaleY),M(e.scaleZ)],i=[D(e.rotateX),D(e.rotateY),D(e.rotateZ)],s=[M(e.skewXY),M(e.skewXZ),M(e.skewYZ)];return["matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+t.join(",")+")","translate3d("+n.join(",")+")","rotateX("+i[0]+") rotateY("+i[1]+") rotateZ("+i[2]+")","matrix3d(1,0,0,0,0,1,0,0,0,"+s[2]+",1,0,0,0,0,1)","matrix3d(1,0,0,0,0,1,0,0,"+s[1]+",0,1,0,0,0,0,1)","matrix3d(1,0,0,0,"+s[0]+",1,0,0,0,0,1,0,0,0,0,1)","scale3d("+r.join(",")+")"].join(" ")},get:function(e){return this.fromCssMatrix(u(e))},set:function(e,t){var n="string"==typeof t?t:this.toCss(t);a(e,n)}}})}(),function(){angular.module("mobile-angular-ui.gestures",["mobile-angular-ui.gestures.drag","mobile-angular-ui.gestures.swipe","mobile-angular-ui.gestures.transform"])}();