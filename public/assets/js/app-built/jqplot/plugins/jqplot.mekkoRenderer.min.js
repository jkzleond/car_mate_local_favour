/* jqPlot 1.0.8r1250 | (c) 2009-2013 Chris Leonello | jplot.com
   jsDate | (c) 2010-2013 Chris Leonello
 */

(function(e){function t(t,n,r){r=r||{},r.axesDefaults=r.axesDefaults||{},r.legend=r.legend||{},r.seriesDefaults=r.seriesDefaults||{};var i=!1;if(r.seriesDefaults.renderer==e.jqplot.MekkoRenderer)i=!0;else if(r.series)for(var s=0;s<r.series.length;s++)r.series[s].renderer==e.jqplot.MekkoRenderer&&(i=!0);i&&(r.axesDefaults.renderer=e.jqplot.MekkoAxisRenderer,r.legend.renderer=e.jqplot.MekkoLegendRenderer,r.legend.preDraw=!0)}e.jqplot.MekkoRenderer=function(){this.shapeRenderer=new e.jqplot.ShapeRenderer,this.borderColor=null,this.showBorders=!0},e.jqplot.MekkoRenderer.prototype.init=function(t,n){this.fill=!1,this.fillRect=!0,this.strokeRect=!0,this.shadow=!1,this._xwidth=0,this._xstart=0,e.extend(!0,this.renderer,t);var r={lineJoin:"miter",lineCap:"butt",isarc:!1,fillRect:this.fillRect,strokeRect:this.strokeRect};this.renderer.shapeRenderer.init(r),n.axes.x2axis._series.push(this),this._type="mekko"},e.jqplot.MekkoRenderer.prototype.setGridData=function(e){var t=this._xaxis.series_u2p,n=this._yaxis.series_u2p,r=this._plotData;this.gridData=[],this._xwidth=t(this._sumy)-t(0),this.index>0&&(this._xstart=e.series[this.index-1]._xstart+e.series[this.index-1]._xwidth);var i=this.canvas.getHeight(),s=0,o,u;for(var a=0;a<r.length;a++)r[a]!=null&&(s+=r[a][1],o=i-s/this._sumy*i,u=r[a][1]/this._sumy*i,this.gridData.push([this._xstart,o,this._xwidth,u]))},e.jqplot.MekkoRenderer.prototype.makeGridData=function(e,t){var n=this._xaxis.series_u2p,r=this.canvas.getHeight(),i=0,s,o,u=[];for(var a=0;a<e.length;a++)e[a]!=null&&(i+=e[a][1],s=r-i/this._sumy*r,o=e[a][1]/this._sumy*r,u.push([this._xstart,s,this._xwidth,o]));return u},e.jqplot.MekkoRenderer.prototype.draw=function(t,n,r){var i,s=r!=undefined?r:{},o=s.showLine!=undefined?s.showLine:this.showLine,u=new e.jqplot.ColorGenerator(this.seriesColors);t.save();if(n.length&&o)for(i=0;i<n.length;i++)s.fillStyle=u.next(),this.renderer.showBorders?s.strokeStyle=this.renderer.borderColor:s.strokeStyle=s.fillStyle,this.renderer.shapeRenderer.draw(t,n[i],s);t.restore()},e.jqplot.MekkoRenderer.prototype.drawShadow=function(e,t,n){},e.jqplot.MekkoLegendRenderer=function(){},e.jqplot.MekkoLegendRenderer.prototype.init=function(t){this.numberRows=null,this.numberColumns=null,this.placement="outside",e.extend(!0,this,t)},e.jqplot.MekkoLegendRenderer.prototype.draw=function(){var t=this;if(this.show){var n=this._series,r="position:absolute;";r+=this.background?"background:"+this.background+";":"",r+=this.border?"border:"+this.border+";":"",r+=this.fontSize?"font-size:"+this.fontSize+";":"",r+=this.fontFamily?"font-family:"+this.fontFamily+";":"",r+=this.textColor?"color:"+this.textColor+";":"",this._elem=e('<table class="jqplot-table-legend" style="'+r+'"></table>');var i=!1,s=!0,o,u,a=n[0],f=new e.jqplot.ColorGenerator(a.seriesColors);if(a.show){var l=a.data;this.numberRows?(o=this.numberRows,this.numberColumns?u=this.numberColumns:u=Math.ceil(l.length/o)):this.numberColumns?(u=this.numberColumns,o=Math.ceil(l.length/this.numberColumns)):(o=l.length,u=1);var c,h,p,d,v,m,g,y,w=0;for(c=0;c<o;c++){s?p=e('<tr class="jqplot-table-legend"></tr>').prependTo(this._elem):p=e('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem);for(h=0;h<u;h++)w<l.length&&(m=this.labels[w]||l[w][0].toString(),y=f.next(),s?c==o-1?i=!1:i=!0:c>0?i=!0:i=!1,g=i?this.rowSpacing:"0",d=e('<td class="jqplot-table-legend" style="text-align:center;padding-top:'+g+';"><div><div class="jqplot-table-legend-swatch" style="border-color:'+y+';"></div></div></td>'),v=e('<td class="jqplot-table-legend" style="padding-top:'+g+';"></td>'),this.escapeHtml?v.text(m):v.html(m),s?(v.prependTo(p),d.prependTo(p)):(d.appendTo(p),v.appendTo(p)),i=!0),w++}p=null,d=null,v=null}}return this._elem},e.jqplot.MekkoLegendRenderer.prototype.pack=function(e){if(this.show){var t={_top:e.top,_left:e.left,_right:e.right,_bottom:this._plotDimensions.height-e.bottom};if(this.placement=="insideGrid")switch(this.location){case"nw":var n=t._left+this.xoffset,r=t._top+this.yoffset;this._elem.css("left",n),this._elem.css("top",r);break;case"n":var n=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,r=t._top+this.yoffset;this._elem.css("left",n),this._elem.css("top",r);break;case"ne":var n=e.right+this.xoffset,r=t._top+this.yoffset;this._elem.css({right:n,top:r});break;case"e":var n=e.right+this.xoffset,r=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({right:n,top:r});break;case"se":var n=e.right+this.xoffset,r=e.bottom+this.yoffset;this._elem.css({right:n,bottom:r});break;case"s":var n=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,r=e.bottom+this.yoffset;this._elem.css({left:n,bottom:r});break;case"sw":var n=t._left+this.xoffset,r=e.bottom+this.yoffset;this._elem.css({left:n,bottom:r});break;case"w":var n=t._left+this.xoffset,r=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({left:n,top:r});break;default:var n=t._right-this.xoffset,r=t._bottom+this.yoffset;this._elem.css({right:n,bottom:r})}else switch(this.location){case"nw":var n=this._plotDimensions.width-t._left+this.xoffset,r=t._top+this.yoffset;this._elem.css("right",n),this._elem.css("top",r);break;case"n":var n=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,r=this._plotDimensions.height-t._top+this.yoffset;this._elem.css("left",n),this._elem.css("bottom",r);break;case"ne":var n=this._plotDimensions.width-e.right+this.xoffset,r=t._top+this.yoffset;this._elem.css({left:n,top:r});break;case"e":var n=this._plotDimensions.width-e.right+this.xoffset,r=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({left:n,top:r});break;case"se":var n=this._plotDimensions.width-e.right+this.xoffset,r=e.bottom+this.yoffset;this._elem.css({left:n,bottom:r});break;case"s":var n=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,r=this._plotDimensions.height-e.bottom+this.yoffset;this._elem.css({left:n,top:r});break;case"sw":var n=this._plotDimensions.width-t._left+this.xoffset,r=e.bottom+this.yoffset;this._elem.css({right:n,bottom:r});break;case"w":var n=this._plotDimensions.width-t._left+this.xoffset,r=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({right:n,top:r});break;default:var n=t._right-this.xoffset,r=t._bottom+this.yoffset;this._elem.css({right:n,bottom:r})}}},e.jqplot.preInitHooks.push(t)})(jQuery);