/**
 * jqPlot
 * Pure JavaScript plotting plugin using jQuery
 *
 * Version: 1.0.8
 * Revision: 1250
 *
 * Copyright (c) 2009-2013 Chris Leonello
 * jqPlot is currently available for use in all personal or commercial projects 
 * under both the MIT (http://www.opensource.org/licenses/mit-license.php) and GPL 
 * version 2.0 (http://www.gnu.org/licenses/gpl-2.0.html) licenses. This means that you can 
 * choose the license that best suits your project and use it accordingly. 
 *
 * Although not required, the author would appreciate an email letting him 
 * know of any substantial use of jqPlot.  You can reach the author at: 
 * chris at jqplot dot com or see http://www.jqplot.com/info.php .
 *
 * If you are feeling kind and generous, consider supporting the project by
 * making a donation at: http://www.jqplot.com/donate.php .
 *
 * sprintf functions contained in jqplot.sprintf.js by Ash Searle:
 *
 *     version 2007.04.27
 *     author Ash Searle
 *     http://hexmen.com/blog/2007/03/printf-sprintf/
 *     http://hexmen.com/js/sprintf.js
 *     The author (Ash Searle) has placed this code in the public domain:
 *     "This code is unrestricted: you are free to use it however you like."
 * 
 */

(function(e){function t(e,t,n){var r;for(var i=e.length-1;i>=0;i--){r=t/(e[i]*Math.pow(10,n));if(r==4||r==5)return r-1}return null}function n(t,n,r){r=r||{},r.axesDefaults=r.axesDefaults||{},r.legend=r.legend||{},r.seriesDefaults=r.seriesDefaults||{},r.grid=r.grid||{};var i=!1;if(r.seriesDefaults.renderer==e.jqplot.MeterGaugeRenderer)i=!0;else if(r.series)for(var s=0;s<r.series.length;s++)r.series[s].renderer==e.jqplot.MeterGaugeRenderer&&(i=!0);i&&(r.axesDefaults.renderer=e.jqplot.MeterGaugeAxisRenderer,r.legend.renderer=e.jqplot.MeterGaugeLegendRenderer,r.legend.preDraw=!0,r.grid.background=r.grid.background||"white",r.grid.drawGridlines=!1,r.grid.borderWidth=r.grid.borderWidth!=null?r.grid.borderWidth:0,r.grid.shadow=r.grid.shadow!=null?r.grid.shadow:!1)}function r(e){}e.jqplot.MeterGaugeRenderer=function(){e.jqplot.LineRenderer.call(this)},e.jqplot.MeterGaugeRenderer.prototype=new e.jqplot.LineRenderer,e.jqplot.MeterGaugeRenderer.prototype.constructor=e.jqplot.MeterGaugeRenderer,e.jqplot.MeterGaugeRenderer.prototype.init=function(n){this.diameter=null,this.padding=null,this.shadowOffset=2,this.shadowAlpha=.07,this.shadowDepth=4,this.background="#efefef",this.ringColor="#BBC6D0",this.needleColor="#C3D3E5",this.tickColor="#989898",this.ringWidth=null,this.min,this.max,this.ticks=[],this.showTicks=!0,this.showTickLabels=!0,this.label=null,this.labelHeightAdjust=0,this.labelPosition="inside",this.intervals=[],this.intervalColors=["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],this.intervalInnerRadius=null,this.intervalOuterRadius=null,this.tickRenderer=e.jqplot.MeterGaugeTickRenderer,this.tickPositions=[1,2,2.5,5,10],this.tickSpacing=30,this.numberMinorTicks=null,this.hubRadius=null,this.tickPadding=null,this.needleThickness=null,this.needlePad=6,this.pegNeedle=!0,this._type="meterGauge",e.extend(!0,this,n),this.type=null,this.numberTicks=null,this.tickInterval=null,this.span=180,this.type=="circular"?this.semiCircular=!1:this.type!="circular"?this.semiCircular=!0:this.semiCircular=this.span<=180?!0:!1,this._tickPoints=[],this._labelElem=null,this.startAngle=(90+(360-this.span)/2)*Math.PI/180,this.endAngle=(90-(360-this.span)/2)*Math.PI/180,this.setmin=this.min==null,this.setmax=this.max==null;if(this.intervals.length)if(this.intervals[0].length==null||this.intervals.length==1)for(var r=0;r<this.intervals.length;r++)this.intervals[r]=[this.intervals[r],this.intervals[r],this.intervalColors[r]];else if(this.intervals[0].length==2)for(r=0;r<this.intervals.length;r++)this.intervals[r]=[this.intervals[r][0],this.intervals[r][1],this.intervalColors[r]];if(this.ticks.length){if(this.ticks[0].length==null||this.ticks[0].length==1)for(var r=0;r<this.ticks.length;r++)this.ticks[r]=[this.ticks[r],this.ticks[r]];this.min=this.min==null?this.ticks[0][0]:this.min,this.max=this.max==null?this.ticks[this.ticks.length-1][0]:this.max,this.setmin=!1,this.setmax=!1,this.numberTicks=this.ticks.length,this.tickInterval=this.ticks[1][0]-this.ticks[0][0],this.tickFactor=Math.floor(parseFloat((Math.log(this.tickInterval)/Math.log(10)).toFixed(11))),this.numberMinorTicks=t(this.tickPositions,this.tickInterval,this.tickFactor),this.numberMinorTicks||(this.numberMinorTicks=t(this.tickPositions,this.tickInterval,this.tickFactor-1)),this.numberMinorTicks||(this.numberMinorTicks=1)}else this.intervals.length?(this.min=this.min==null?0:this.min,this.setmin=!1,this.max==null?this.intervals[this.intervals.length-1][0]>=this.data[0][1]&&(this.max=this.intervals[this.intervals.length-1][0],this.setmax=!1):this.setmax=!1):(this.min=this.min==null?0:this.min,this.setmin=!1,this.max==null?(this.max=this.data[0][1]*1.25,this.setmax=!0):this.setmax=!1)},e.jqplot.MeterGaugeRenderer.prototype.setGridData=function(e){var t=[],n=[],r=this.startAngle;for(var i=0;i<this.data.length;i++)t.push(this.data[i][1]),n.push([this.data[i][0]]),i>0&&(t[i]+=t[i-1]);var s=Math.PI*2/t[t.length-1];for(var i=0;i<t.length;i++)n[i][1]=t[i]*s;this.gridData=n},e.jqplot.MeterGaugeRenderer.prototype.makeGridData=function(e,t){var n=[],r=[],i=this.startAngle;for(var s=0;s<e.length;s++)n.push(e[s][1]),r.push([e[s][0]]),s>0&&(n[s]+=n[s-1]);var o=Math.PI*2/n[n.length-1];for(var s=0;s<n.length;s++)r[s][1]=n[s]*o;return r},e.jqplot.MeterGaugeRenderer.prototype.draw=function(n,r,i){var s,o=i!=undefined?i:{},u=0,a=0,f=1;if(i.legendInfo&&i.legendInfo.placement=="inside"){var l=i.legendInfo;switch(l.location){case"nw":u=l.width+l.xoffset;break;case"w":u=l.width+l.xoffset;break;case"sw":u=l.width+l.xoffset;break;case"ne":u=l.width+l.xoffset,f=-1;break;case"e":u=l.width+l.xoffset,f=-1;break;case"se":u=l.width+l.xoffset,f=-1;break;case"n":a=l.height+l.yoffset;break;case"s":a=l.height+l.yoffset,f=-1;break;default:}}this.label&&(this._labelElem=e('<div class="jqplot-meterGauge-label" style="position:absolute;">'+this.label+"</div>"),this.canvas._elem.after(this._labelElem));var c=o.shadow!=undefined?o.shadow:this.shadow,h=o.showLine!=undefined?o.showLine:this.showLine,p=o.fill!=undefined?o.fill:this.fill,d=n.canvas.width,v=n.canvas.height;this.padding==null&&(this.padding=Math.round(Math.min(d,v)/30));var m=d-u-2*this.padding,g=v-a-2*this.padding;this.labelPosition=="bottom"&&this.label&&(g-=this._labelElem.outerHeight(!0));var y=Math.min(m,g),b=y;this.diameter||(this.semiCircular?(m>=2*g?(this.ringWidth||(this.ringWidth=2*g/35),this.needleThickness=this.needleThickness||2+Math.pow(this.ringWidth,.8),this.innerPad=this.ringWidth/2+this.needleThickness/2+this.needlePad,this.diameter=2*(g-2*this.innerPad)):(this.ringWidth||(this.ringWidth=m/35),this.needleThickness=this.needleThickness||2+Math.pow(this.ringWidth,.8),this.innerPad=this.ringWidth/2+this.needleThickness/2+this.needlePad,this.diameter=m-2*this.innerPad-this.ringWidth-this.padding),this._center=[(d-f*u)/2+f*u,v+f*a-this.padding-this.ringWidth-this.innerPad]):(this.ringWidth||(this.ringWidth=b/35),this.needleThickness=this.needleThickness||2+Math.pow(this.ringWidth,.8),this.innerPad=0,this.diameter=b-this.ringWidth,this._center=[(d-f*u)/2+f*u,(v-f*a)/2+f*a]),this._labelElem&&this.labelPosition=="bottom"&&(this._center[1]-=this._labelElem.outerHeight(!0))),this._radius=this.diameter/2,this.tickSpacing=6e3/this.diameter,this.hubRadius||(this.hubRadius=this.diameter/18),this.shadowOffset=.5+this.ringWidth/9,this.shadowWidth=this.ringWidth*1,this.tickPadding=3+Math.pow(this.diameter/20,.7),this.tickOuterRadius=this._radius-this.ringWidth/2-this.tickPadding,this.tickLength=this.showTicks?this._radius/13:0;if(this.ticks.length==0){var w=this.max,E=this.min,S=this.setmax,x=this.setmin,T=(w-E)*this.tickSpacing/this.span,N=Math.floor(parseFloat((Math.log(T)/Math.log(10)).toFixed(11))),C=T/Math.pow(10,N);C>2&&C<=2.5?C=2.5:C=Math.ceil(C);var k=this.tickPositions,L,A;for(s=0;s<k.length;s++)if(C==k[s]||s&&k[s-1]<C&&C<k[s])T=k[s]*Math.pow(10,N),L=s;for(s=0;s<k.length;s++)if(C==k[s]||s&&k[s-1]<C&&C<k[s])T=k[s]*Math.pow(10,N),A=Math.ceil((w-E)/T);if(S&&x){var O=E>0?E-E%T:E-E%T-T;if(!this.forceZero){var M=Math.min(E-O,.8*T),_=Math.floor(M/k[L]);_>1&&(O+=k[L]*(_-1),parseInt(O,10)!=O&&parseInt(O-k[L],10)==O-k[L]&&(O-=k[L]))}E==O?E-=T:E-O>.23*T?E=O:(E=O-T,A+=1),A+=1;var D=E+(A-1)*T;w>=D&&(D+=T,A+=1),D-w<.23*T&&(D+=T,A+=1),this.max=w=D,this.min=E,this.tickInterval=T,this.numberTicks=A;var P;for(s=0;s<A;s++)P=parseFloat((E+s*T).toFixed(11)),this.ticks.push([P,P]);this.max=this.ticks[A-1][1],this.tickFactor=N,this.numberMinorTicks=t(this.tickPositions,this.tickInterval,this.tickFactor),this.numberMinorTicks||(this.numberMinorTicks=t(this.tickPositions,this.tickInterval,this.tickFactor-1))}else if(S){var D=E+(A-1)*T;w>=D?(w=D+T,A+=1):w=D,this.tickInterval=this.tickInterval||T,this.numberTicks=this.numberTicks||A;var P;for(s=0;s<this.numberTicks;s++)P=parseFloat((E+s*this.tickInterval).toFixed(11)),this.ticks.push([P,P]);this.max=this.ticks[this.numberTicks-1][1],this.tickFactor=N,this.numberMinorTicks=t(this.tickPositions,this.tickInterval,this.tickFactor),this.numberMinorTicks||(this.numberMinorTicks=t(this.tickPositions,this.tickInterval,this.tickFactor-1))}if(!S&&!x){var H=this.max-this.min;N=Math.floor(parseFloat((Math.log(H)/Math.log(10)).toFixed(11)))-1;var B=[5,6,4,7,3,8,9,10,2],j,F,I=0,q;if(H>1){var R=String(H);if(R.search(/\./)==-1){var U=R.search(/0+$/);I=U>0?R.length-U-1:0}}q=H/Math.pow(10,I);for(s=0;s<B.length;s++){j=q/(B[s]-1);if(j==parseInt(j,10)){this.numberTicks=B[s],this.tickInterval=H/(this.numberTicks-1),this.tickFactor=N+1;break}}var P;for(s=0;s<this.numberTicks;s++)P=parseFloat((this.min+s*this.tickInterval).toFixed(11)),this.ticks.push([P,P]);this.numberMinorTicks=t(this.tickPositions,this.tickInterval,this.tickFactor),this.numberMinorTicks||(this.numberMinorTicks=t(this.tickPositions,this.tickInterval,this.tickFactor-1));if(!this.numberMinorTicks){this.numberMinorTicks=1;var z=[4,5,3,6,2];for(s=0;s<5;s++){var W=this.tickInterval/z[s];if(W==parseInt(W,10)){this.numberMinorTicks=z[s]-1;break}}}}}var X=this._radius,V=this.startAngle,J=this.endAngle,K=Math.PI,Q=Math.PI/2;if(this.semiCircular){var G=Math.atan(this.innerPad/X),Y=this.outerStartAngle=V-G,Z=this.outerEndAngle=J+G,et=this.hubStartAngle=V-Math.atan(this.innerPad/this.hubRadius*2),tt=this.hubEndAngle=J+Math.atan(this.innerPad/this.hubRadius*2);n.save(),n.translate(this._center[0],this._center[1]),n.lineJoin="round",n.lineCap="round",n.save(),n.beginPath(),n.fillStyle=this.background,n.arc(0,0,X,Y,Z,!1),n.closePath(),n.fill(),n.restore();var nt="rgba(0,0,0,"+this.shadowAlpha+")";n.save();for(var s=0;s<this.shadowDepth;s++)n.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI)),n.beginPath(),n.strokeStyle=nt,n.lineWidth=this.shadowWidth,n.arc(0,0,X,Y,Z,!1),n.closePath(),n.stroke();n.restore(),n.save();var rt=parseInt((this.shadowDepth+1)/2,10);for(var s=0;s<rt;s++)n.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI)),n.beginPath(),n.fillStyle=nt,n.arc(0,0,this.hubRadius,et,tt,!1),n.closePath(),n.fill();n.restore(),n.save(),n.beginPath(),n.strokeStyle=this.ringColor,n.lineWidth=this.ringWidth,n.arc(0,0,X,Y,Z,!1),n.closePath(),n.stroke(),n.restore(),n.save(),n.beginPath(),n.fillStyle=this.ringColor,n.arc(0,0,this.hubRadius,et,tt,!1),n.closePath(),n.fill(),n.restore();if(this.showTicks){n.save();var it=this.tickOuterRadius,st=this.tickLength,ot=st/2,ut=this.numberMinorTicks,at=this.span*Math.PI/180/(this.ticks.length-1),ft=at/(ut+1);for(s=0;s<this.ticks.length;s++){n.beginPath(),n.lineWidth=1.5+this.diameter/360,n.strokeStyle=this.ringColor;var lt=at*s+V;n.moveTo(-it*Math.cos(at*s+V),it*Math.sin(at*s+V)),n.lineTo(-(it-st)*Math.cos(at*s+V),(it-st)*Math.sin(at*s+V)),this._tickPoints.push([(it-st)*Math.cos(at*s+V)+this._center[0]+this.canvas._offsets.left,(it-st)*Math.sin(at*s+V)+this._center[1]+this.canvas._offsets.top,at*s+V]),n.stroke(),n.lineWidth=1+this.diameter/440;if(s<this.ticks.length-1)for(var ct=1;ct<=ut;ct++)n.beginPath(),n.moveTo(-it*Math.cos(at*s+ft*ct+V),it*Math.sin(at*s+ft*ct+V)),n.lineTo(-(it-ot)*Math.cos(at*s+ft*ct+V),(it-ot)*Math.sin(at*s+ft*ct+V)),n.stroke()}n.restore()}if(this.showTickLabels){var ht,pt,k,dt,vt,mt,gt=0,C=this.tickPadding*(1-1/(this.diameter/80+1));for(s=0;s<this.ticks.length;s++)ht=e('<div class="jqplot-meterGauge-tick" style="position:absolute;">'+this.ticks[s][1]+"</div>"),this.canvas._elem.after(ht),dt=ht.outerWidth(!0),vt=ht.outerHeight(!0),pt=this._tickPoints[s][0]-dt*(this._tickPoints[s][2]-Math.PI)/Math.PI-C*Math.cos(this._tickPoints[s][2]),k=this._tickPoints[s][1]-vt/2+vt/2*Math.pow(Math.abs(Math.sin(this._tickPoints[s][2])),.5)+C/3*Math.pow(Math.abs(Math.sin(this._tickPoints[s][2])),.5),ht.css({left:pt,top:k,color:this.tickColor}),mt=dt*Math.cos(this._tickPoints[s][2])+vt*Math.sin(Math.PI/2+this._tickPoints[s][2]/2),gt=mt>gt?mt:gt}if(this.label&&this.labelPosition=="inside"){var pt=this._center[0]+this.canvas._offsets.left,C=this.tickPadding*(1-1/(this.diameter/80+1)),k=.5*(this._center[1]+this.canvas._offsets.top-this.hubRadius)+.5*(this._center[1]+this.canvas._offsets.top-this.tickOuterRadius+this.tickLength+C)+this.labelHeightAdjust;pt-=this._labelElem.outerWidth(!0)/2,k-=this._labelElem.outerHeight(!0)/2,this._labelElem.css({left:pt,top:k})}else if(this.label&&this.labelPosition=="bottom"){var pt=this._center[0]+this.canvas._offsets.left-this._labelElem.outerWidth(!0)/2,k=this._center[1]+this.canvas._offsets.top+this.innerPad+this.ringWidth+this.padding+this.labelHeightAdjust;this._labelElem.css({left:pt,top:k})}n.save();var yt=this.intervalInnerRadius||this.hubRadius*1.5;if(this.intervalOuterRadius==null)if(this.showTickLabels)var bt=this.tickOuterRadius-this.tickLength-this.tickPadding-this.diameter/8;else var bt=this.tickOuterRadius-this.tickLength-this.diameter/16;else var bt=this.intervalOuterRadius;var H=this.max-this.min,wt=this.intervals[this.intervals.length-1]-this.min,Et,St,xt=this.span*Math.PI/180;for(s=0;s<this.intervals.length;s++)Et=s==0?V:V+(this.intervals[s-1][0]-this.min)*xt/H,Et<0&&(Et=0),St=V+(this.intervals[s][0]-this.min)*xt/H,St<0&&(St=0),n.beginPath(),n.fillStyle=this.intervals[s][2],n.arc(0,0,yt,Et,St,!1),n.lineTo(bt*Math.cos(St),bt*Math.sin(St)),n.arc(0,0,bt,St,Et,!0),n.lineTo(yt*Math.cos(Et),yt*Math.sin(Et)),n.closePath(),n.fill();n.restore();var Tt=this.data[0][1],Nt=this.max-this.min;this.pegNeedle&&(this.data[0][1]>this.max+Nt*3/this.span&&(Tt=this.max+Nt*3/this.span),this.data[0][1]<this.min-Nt*3/this.span&&(Tt=this.min-Nt*3/this.span));var Ct=(Tt-this.min)/Nt*this.span*Math.PI/180+this.startAngle;n.save(),n.beginPath(),n.fillStyle=this.ringColor,n.strokeStyle=this.ringColor,this.needleLength=(this.tickOuterRadius-this.tickLength)*.85,this.needleThickness=this.needleThickness<2?2:this.needleThickness;var kt=this.needleThickness*.4,Lt=this.needleLength/10,At=(this.needleThickness-kt)/10,Ot;for(var s=0;s<10;s++)Ot=this.needleThickness-s*At,n.moveTo(Lt*s*Math.cos(Ct),Lt*s*Math.sin(Ct)),n.lineWidth=Ot,n.lineTo(Lt*(s+1)*Math.cos(Ct),Lt*(s+1)*Math.sin(Ct)),n.stroke();n.restore()}else this._center=[(d-f*u)/2+f*u,(v-f*a)/2+f*a]},e.jqplot.MeterGaugeAxisRenderer=function(){e.jqplot.LinearAxisRenderer.call(this)},e.jqplot.MeterGaugeAxisRenderer.prototype=new e.jqplot.LinearAxisRenderer,e.jqplot.MeterGaugeAxisRenderer.prototype.constructor=e.jqplot.MeterGaugeAxisRenderer,e.jqplot.MeterGaugeAxisRenderer.prototype.init=function(t){this.tickRenderer=e.jqplot.MeterGaugeTickRenderer,e.extend(!0,this,t),this._dataBounds={min:0,max:100},this.min=0,this.max=100,this.showTicks=!1,this.ticks=[],this.showMark=!1,this.show=!1},e.jqplot.MeterGaugeLegendRenderer=function(){e.jqplot.TableLegendRenderer.call(this)},e.jqplot.MeterGaugeLegendRenderer.prototype=new e.jqplot.TableLegendRenderer,e.jqplot.MeterGaugeLegendRenderer.prototype.constructor=e.jqplot.MeterGaugeLegendRenderer,e.jqplot.MeterGaugeLegendRenderer.prototype.init=function(t){this.numberRows=null,this.numberColumns=null,e.extend(!0,this,t)},e.jqplot.MeterGaugeLegendRenderer.prototype.draw=function(){if(this.show){var t=this._series,n="position:absolute;";n+=this.background?"background:"+this.background+";":"",n+=this.border?"border:"+this.border+";":"",n+=this.fontSize?"font-size:"+this.fontSize+";":"",n+=this.fontFamily?"font-family:"+this.fontFamily+";":"",n+=this.textColor?"color:"+this.textColor+";":"",n+=this.marginTop!=null?"margin-top:"+this.marginTop+";":"",n+=this.marginBottom!=null?"margin-bottom:"+this.marginBottom+";":"",n+=this.marginLeft!=null?"margin-left:"+this.marginLeft+";":"",n+=this.marginRight!=null?"margin-right:"+this.marginRight+";":"",this._elem=e('<table class="jqplot-table-legend" style="'+n+'"></table>');var r=!1,i=!1,s,o,u=t[0];if(u.show){var a=u.data;this.numberRows?(s=this.numberRows,this.numberColumns?o=this.numberColumns:o=Math.ceil(a.length/s)):this.numberColumns?(o=this.numberColumns,s=Math.ceil(a.length/this.numberColumns)):(s=a.length,o=1);var f,l,c,h,p,d,v,m,g=0;for(f=0;f<s;f++){i?c=e('<tr class="jqplot-table-legend"></tr>').prependTo(this._elem):c=e('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem);for(l=0;l<o;l++)g<a.length&&(d=this.labels[g]||a[g][0].toString(),m=u.color,i?f==s-1?r=!1:r=!0:f>0?r=!0:r=!1,v=r?this.rowSpacing:"0",h=e('<td class="jqplot-table-legend" style="text-align:center;padding-top:'+v+';">'+'<div><div class="jqplot-table-legend-swatch" style="border-color:'+m+';"></div>'+"</div></td>"),p=e('<td class="jqplot-table-legend" style="padding-top:'+v+';"></td>'),this.escapeHtml?p.text(d):p.html(d),i?(p.prependTo(c),h.prependTo(c)):(h.appendTo(c),p.appendTo(c)),r=!0),g++}}}return this._elem},e.jqplot.preInitHooks.push(n),e.jqplot.postParseOptionsHooks.push(r),e.jqplot.MeterGaugeTickRenderer=function(){e.jqplot.AxisTickRenderer.call(this)},e.jqplot.MeterGaugeTickRenderer.prototype=new e.jqplot.AxisTickRenderer,e.jqplot.MeterGaugeTickRenderer.prototype.constructor=e.jqplot.MeterGaugeTickRenderer})(jQuery);