/* jqPlot 1.0.8r1250 | (c) 2009-2013 Chris Leonello | jplot.com
   jsDate | (c) 2010-2013 Chris Leonello
 */

(function(e){e.jqplot.LogAxisRenderer=function(){e.jqplot.LinearAxisRenderer.call(this),this.axisDefaults={base:10,tickDistribution:"power"}},e.jqplot.LogAxisRenderer.prototype=new e.jqplot.LinearAxisRenderer,e.jqplot.LogAxisRenderer.prototype.constructor=e.jqplot.LogAxisRenderer,e.jqplot.LogAxisRenderer.prototype.init=function(t){this.drawBaseline=!0,this.minorTicks="auto",this._scalefact=1,e.extend(!0,this,t),this._autoFormatString="%d",this._overrideFormatString=!1;for(var n in this.renderer.axisDefaults)this[n]==null&&(this[n]=this.renderer.axisDefaults[n]);this.resetDataBounds()},e.jqplot.LogAxisRenderer.prototype.createTicks=function(t){var n=this._ticks,r=this.ticks,i=this.name,s=this._dataBounds,o=this.name.charAt(0)==="x"?this._plotDimensions.width:this._plotDimensions.height,u,f,l,c,h,p,d,v=30;this._scalefact=(Math.max(o,v+1)-v)/300;if(r.length){for(d=0;d<r.length;d++){var m=r[d],g=new this.tickRenderer(this.tickOptions);m.constructor==Array?(g.value=m[0],g.label=m[1],this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),g.setTick(m[0],this.name),this._ticks.push(g)):e.isPlainObject(m)?(e.extend(!0,g,m),g.axis=this.name,this._ticks.push(g)):(g.value=m,this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),g.setTick(m,this.name),this._ticks.push(g))}this.numberTicks=r.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value}else if(this.min==null&&this.max==null){f=s.min*(2-this.padMin),l=s.max*this.padMax;if(f==l){var y=.05;f*=1-y,l*=1+y}if(this.min!=null&&this.min<=0)throw new Error("Log axis minimum must be greater than 0");if(this.max!=null&&this.max<=0)throw new Error("Log axis maximum must be greater than 0");function b(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10));return Math.ceil(e/t)*t}function w(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10));return Math.floor(e/t)*t}var E,S;E=Math.pow(this.base,Math.floor(Math.log(f)/Math.log(this.base))),S=Math.pow(this.base,Math.ceil(Math.log(l)/Math.log(this.base))),E===0&&(E=1);var x=Math.round(Math.log(E)/Math.LN10);if(this.tickOptions==null||!this.tickOptions.formatString)this._overrideFormatString=!0;this.min=E,this.max=S;var T=this.max-this.min,N=this.minorTicks==="auto"?0:this.minorTicks,C;if(this.numberTicks==null)if(o>140){C=Math.round(Math.log(this.max/this.min)/Math.log(this.base)+1),C<2&&(C=2);if(N===0){var k=o/(C-1);k<100?N=0:k<190?N=1:k<250?N=3:k<600?N=4:N=9}}else C=2,N===0&&(N=1),N=0;else C=this.numberTicks;if(x>=0&&N!==3)this._autoFormatString="%d";else if(x<=0&&N===3){var k=-(x-1);this._autoFormatString="%."+Math.abs(x-1)+"f"}else if(x<0){var k=-x;this._autoFormatString="%."+Math.abs(x)+"f"}else this._autoFormatString="%d";var L,g,A,O,M,u;for(var d=0;d<C;d++){p=Math.pow(this.base,d-C+1)*this.max,g=new this.tickRenderer(this.tickOptions),this._overrideFormatString&&(g.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),g.setTick(p,this.name),this._ticks.push(g);if(N&&d<C-1){O=Math.pow(this.base,d-C+2)*this.max,M=O-p,u=O/(N+1);for(var _=N-1;_>=0;_--)A=O-u*(_+1),g=new this.tickRenderer(this.tickOptions),this._overrideFormatString&&this._autoFormatString!=""&&(g.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),g.setTick(A,this.name),this._ticks.push(g)}}}else if(this.min!=null&&this.max!=null){var D=e.extend(!0,{},this.tickOptions,{name:this.name,value:null}),P,H;if(this.numberTicks==null&&this.tickInterval==null){var B=Math.max(o,v+1),j=Math.ceil((B-v)/35+1),F=e.jqplot.LinearTickGenerator.bestConstrainedInterval(this.min,this.max,j);this._autoFormatString=F[3],P=F[2],H=F[4];for(var d=0;d<P;d++)D.value=this.min+d*H,g=new this.tickRenderer(D),this._overrideFormatString&&this._autoFormatString!=""&&(g.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),this._ticks.push(g)}else if(this.numberTicks!=null&&this.tickInterval!=null){P=this.numberTicks;for(var d=0;d<P;d++)D.value=this.min+d*this.tickInterval,g=new this.tickRenderer(D),this._overrideFormatString&&this._autoFormatString!=""&&(g.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(g.showMark=!1):(g.showLabel=!1,g.showMark=!1),this._ticks.push(g)}}},e.jqplot.LogAxisRenderer.prototype.pack=function(t,n){var r=parseInt(this.base,10),i=this._ticks,s=function(e){return Math.log(e)/Math.log(r)},o=function(e){return Math.pow(Math.E,Math.log(r)*e)},u=s(this.max),f=s(this.min),l=n.max,c=n.min,h=this._label==null?!1:this._label.show;for(var p in t)this._elem.css(p,t[p]);this._offsets=n;var d=l-c,v=u-f;this.p2u=function(e){return o((e-c)*v/d+f)},this.u2p=function(e){return(s(e)-f)*d/v+c},this.name=="xaxis"||this.name=="x2axis"?(this.series_u2p=function(e){return(s(e)-f)*d/v},this.series_p2u=function(e){return o(e*v/d+f)}):(this.series_u2p=function(e){return(s(e)-u)*d/v},this.series_p2u=function(e){return o(e*v/d+u)});if(this.show)if(this.name=="xaxis"||this.name=="x2axis"){for(var m=0;m<i.length;m++){var g=i[m];if(g.show&&g.showLabel){var y;if(g.constructor==e.jqplot.CanvasAxisTickRenderer&&g.angle)switch(g.labelPosition){case"auto":g.angle<0?y=-g.getWidth()+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2:y=-g._textRenderer.height*Math.sin(g._textRenderer.angle)/2;break;case"end":y=-g.getWidth()+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2;break;case"start":y=-g._textRenderer.height*Math.sin(g._textRenderer.angle)/2;break;case"middle":y=-g.getWidth()/2+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2;break;default:y=-g.getWidth()/2+g._textRenderer.height*Math.sin(-g._textRenderer.angle)/2}else y=-g.getWidth()/2;var b=this.u2p(g.value)+y+"px";g._elem.css("left",b),g.pack()}}if(h){var w=this._label._elem.outerWidth(!0);this._label._elem.css("left",c+d/2-w/2+"px"),this.name=="xaxis"?this._label._elem.css("bottom","0px"):this._label._elem.css("top","0px"),this._label.pack()}}else{for(var m=0;m<i.length;m++){var g=i[m];if(g.show&&g.showLabel){var y;if(g.constructor==e.jqplot.CanvasAxisTickRenderer&&g.angle)switch(g.labelPosition){case"auto":case"end":g.angle<0?y=-g._textRenderer.height*Math.cos(-g._textRenderer.angle)/2:y=-g.getHeight()+g._textRenderer.height*Math.cos(g._textRenderer.angle)/2;break;case"start":g.angle>0?y=-g._textRenderer.height*Math.cos(-g._textRenderer.angle)/2:y=-g.getHeight()+g._textRenderer.height*Math.cos(g._textRenderer.angle)/2;break;case"middle":y=-g.getHeight()/2;break;default:y=-g.getHeight()/2}else y=-g.getHeight()/2;var b=this.u2p(g.value)+y+"px";g._elem.css("top",b),g.pack()}}if(h){var E=this._label._elem.outerHeight(!0);this._label._elem.css("top",l-d/2-E/2+"px"),this.name=="yaxis"?this._label._elem.css("left","0px"):this._label._elem.css("right","0px"),this._label.pack()}}}})(jQuery);