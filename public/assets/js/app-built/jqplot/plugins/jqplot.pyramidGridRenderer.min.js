/* jqPlot 1.0.8r1250 | (c) 2009-2013 Chris Leonello | jplot.com
   jsDate | (c) 2010-2013 Chris Leonello
 */

(function(e){e.jqplot.PyramidGridRenderer=function(){e.jqplot.CanvasGridRenderer.call(this)},e.jqplot.PyramidGridRenderer.prototype=new e.jqplot.CanvasGridRenderer,e.jqplot.PyramidGridRenderer.prototype.constructor=e.jqplot.PyramidGridRenderer,e.jqplot.CanvasGridRenderer.prototype.init=function(t){this._ctx,this.plotBands={show:!1,color:"rgb(230, 219, 179)",axis:"y",start:null,interval:10},e.extend(!0,this,t);var n={lineJoin:"miter",lineCap:"round",fill:!1,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:!1,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(n)},e.jqplot.PyramidGridRenderer.prototype.draw=function(){function A(n,r,i,s,o){t.save(),o=o||{};if(o.lineWidth==null||o.lineWidth!=0)e.extend(!0,t,o),t.beginPath(),t.moveTo(n,r),t.lineTo(i,s),t.stroke();t.restore()}this._ctx=this._elem.get(0).getContext("2d");var t=this._ctx,n=this._axes,r=n.xaxis.u2p,i=n.yMidAxis.u2p,s=n.xaxis.max/1e3,o=r(0),u=r(s),f=["xaxis","yaxis","x2axis","y2axis","yMidAxis"];t.save(),t.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height),t.fillStyle=this.backgroundColor||this.background,t.fillRect(this._left,this._top,this._width,this._height);if(this.plotBands.show){t.save();var l=this.plotBands;t.fillStyle=l.color;var c,h,p,d,v;l.axis.charAt(0)==="x"?n.xaxis.show&&(c=n.xaxis):l.axis.charAt(0)==="y"&&(n.yaxis.show?c=n.yaxis:n.y2axis.show?c=n.y2axis:n.yMidAxis.show&&(c=n.yMidAxis));if(c!==undefined){var m=l.start;m===null&&(m=c.min);for(var g=m;g<c.max;g+=2*l.interval)c.name.charAt(0)==="y"&&(h=this._left,g+l.interval<c.max?p=c.series_u2p(g+l.interval)+this._top:p=c.series_u2p(c.max)+this._top,d=this._right-this._left,v=c.series_u2p(m)-c.series_u2p(m+l.interval),t.fillRect(h,p,d,v))}t.restore()}t.save(),t.lineJoin="miter",t.lineCap="butt",t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor;var y,b,w,E;for(var g=5;g>0;g--){var S=f[g-1],c=n[S],x=c._ticks,T=x.length;if(c.show){if(c.drawBaseline){var N={};c.baselineWidth!==null&&(N.lineWidth=c.baselineWidth),c.baselineColor!==null&&(N.strokeStyle=c.baselineColor);switch(S){case"xaxis":n.yMidAxis.show?(A(this._left,this._bottom,o,this._bottom,N),A(u,this._bottom,this._right,this._bottom,N)):A(this._left,this._bottom,this._right,this._bottom,N);break;case"yaxis":A(this._left,this._bottom,this._left,this._top,N);break;case"yMidAxis":A(o,this._bottom,o,this._top,N),A(u,this._bottom,u,this._top,N);break;case"x2axis":n.yMidAxis.show?(A(this._left,this._top,o,this._top,N),A(u,this._top,this._right,this._top,N)):A(this._left,this._bottom,this._right,this._bottom,N);break;case"y2axis":A(this._right,this._bottom,this._right,this._top,N)}}for(var C=T;C>0;C--){var k=x[C-1];if(k.show){var L=Math.round(c.u2p(k.value))+.5;switch(S){case"xaxis":k.showGridline&&this.drawGridlines&&(!k.isMinorTick||c.showMinorTicks)&&A(L,this._top,L,this._bottom);if(k.showMark&&k.mark&&(!k.isMinorTick||c.showMinorTicks)){w=k.markSize,E=k.mark;var L=Math.round(c.u2p(k.value))+.5;switch(E){case"outside":y=this._bottom,b=this._bottom+w;break;case"inside":y=this._bottom-w,b=this._bottom;break;case"cross":y=this._bottom-w,b=this._bottom+w;break;default:y=this._bottom,b=this._bottom+w}this.shadow&&this.renderer.shadowRenderer.draw(t,[[L,y],[L,b]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*.75,depth:2,fill:!1,closePath:!1}),A(L,y,L,b)}break;case"yaxis":k.showGridline&&this.drawGridlines&&(!k.isMinorTick||c.showMinorTicks)&&A(this._right,L,this._left,L);if(k.showMark&&k.mark&&(!k.isMinorTick||c.showMinorTicks)){w=k.markSize,E=k.mark;var L=Math.round(c.u2p(k.value))+.5;switch(E){case"outside":y=this._left-w,b=this._left;break;case"inside":y=this._left,b=this._left+w;break;case"cross":y=this._left-w,b=this._left+w;break;default:y=this._left-w,b=this._left}this.shadow&&this.renderer.shadowRenderer.draw(t,[[y,L],[b,L]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),A(y,L,b,L,{strokeStyle:c.borderColor})}break;case"yMidAxis":k.showGridline&&this.drawGridlines&&(!k.isMinorTick||c.showMinorTicks)&&(A(this._left,L,o,L),A(u,L,this._right,L));if(k.showMark&&k.mark&&(!k.isMinorTick||c.showMinorTicks)){w=k.markSize,E=k.mark;var L=Math.round(c.u2p(k.value))+.5;y=o,b=o+w,this.shadow&&this.renderer.shadowRenderer.draw(t,[[y,L],[b,L]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),A(y,L,b,L,{strokeStyle:c.borderColor}),y=u-w,b=u,this.shadow&&this.renderer.shadowRenderer.draw(t,[[y,L],[b,L]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),A(y,L,b,L,{strokeStyle:c.borderColor})}break;case"x2axis":k.showGridline&&this.drawGridlines&&(!k.isMinorTick||c.showMinorTicks)&&A(L,this._bottom,L,this._top);if(k.showMark&&k.mark&&(!k.isMinorTick||c.showMinorTicks)){w=k.markSize,E=k.mark;var L=Math.round(c.u2p(k.value))+.5;switch(E){case"outside":y=this._top-w,b=this._top;break;case"inside":y=this._top,b=this._top+w;break;case"cross":y=this._top-w,b=this._top+w;break;default:y=this._top-w,b=this._top}this.shadow&&this.renderer.shadowRenderer.draw(t,[[L,y],[L,b]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*.75,depth:2,fill:!1,closePath:!1}),A(L,y,L,b)}break;case"y2axis":k.showGridline&&this.drawGridlines&&(!k.isMinorTick||c.showMinorTicks)&&A(this._left,L,this._right,L);if(k.showMark&&k.mark&&(!k.isMinorTick||c.showMinorTicks)){w=k.markSize,E=k.mark;var L=Math.round(c.u2p(k.value))+.5;switch(E){case"outside":y=this._right,b=this._right+w;break;case"inside":y=this._right-w,b=this._right;break;case"cross":y=this._right-w,b=this._right+w;break;default:y=this._right,b=this._right+w}this.shadow&&this.renderer.shadowRenderer.draw(t,[[y,L],[b,L]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),A(y,L,b,L,{strokeStyle:c.borderColor})}break;default:}}}k=null}c=null,x=null}t.restore();if(this.shadow)if(n.yMidAxis.show){var O=[[this._left,this._bottom],[o,this._bottom]];this.renderer.shadowRenderer.draw(t,O);var O=[[u,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(t,O);var O=[[o,this._bottom],[o,this._top]];this.renderer.shadowRenderer.draw(t,O)}else{var O=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(t,O)}this.borderWidth!=0&&this.drawBorder&&(n.yMidAxis.show?(A(this._left,this._top,o,this._top,{lineCap:"round",strokeStyle:n.x2axis.borderColor,lineWidth:n.x2axis.borderWidth}),A(u,this._top,this._right,this._top,{lineCap:"round",strokeStyle:n.x2axis.borderColor,lineWidth:n.x2axis.borderWidth}),A(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:n.y2axis.borderColor,lineWidth:n.y2axis.borderWidth}),A(this._right,this._bottom,u,this._bottom,{lineCap:"round",strokeStyle:n.xaxis.borderColor,lineWidth:n.xaxis.borderWidth}),A(o,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:n.xaxis.borderColor,lineWidth:n.xaxis.borderWidth}),A(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:n.yaxis.borderColor,lineWidth:n.yaxis.borderWidth}),A(o,this._bottom,o,this._top,{lineCap:"round",strokeStyle:n.yaxis.borderColor,lineWidth:n.yaxis.borderWidth}),A(u,this._bottom,u,this._top,{lineCap:"round",strokeStyle:n.yaxis.borderColor,lineWidth:n.yaxis.borderWidth})):(A(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:n.x2axis.borderColor,lineWidth:n.x2axis.borderWidth}),A(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:n.y2axis.borderColor,lineWidth:n.y2axis.borderWidth}),A(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:n.xaxis.borderColor,lineWidth:n.xaxis.borderWidth}),A(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:n.yaxis.borderColor,lineWidth:n.yaxis.borderWidth}))),t.restore(),t=null,n=null}})(jQuery);