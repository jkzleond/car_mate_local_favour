/* jqPlot 1.0.8r1250 | (c) 2009-2013 Chris Leonello | jplot.com
   jsDate | (c) 2010-2013 Chris Leonello
 */

(function(e){e.jqplot.BlockRenderer=function(){e.jqplot.LineRenderer.call(this)},e.jqplot.BlockRenderer.prototype=new e.jqplot.LineRenderer,e.jqplot.BlockRenderer.prototype.constructor=e.jqplot.BlockRenderer,e.jqplot.BlockRenderer.prototype.init=function(t){this.css={padding:"2px",border:"1px solid #999",textAlign:"center"},this.escapeHtml=!1,this.insertBreaks=!0,this.varyBlockColors=!1,e.extend(!0,this,t),this.css.backgroundColor?this.color=this.css.backgroundColor:this.css.background?this.color=this.css.background:this.varyBlockColors||(this.css.background=this.color),this.canvas=new e.jqplot.BlockCanvas,this.shadowCanvas=new e.jqplot.BlockCanvas,this.canvas._plotDimensions=this._plotDimensions,this.shadowCanvas._plotDimensions=this._plotDimensions,this._type="block",this.moveBlock=function(e,t,n,r){var i=this.canvas._elem.children(":eq("+e+")");this.data[e][0]=t,this.data[e][1]=n,this._plotData[e][0]=t,this._plotData[e][1]=n,this._stackData[e][0]=t,this._stackData[e][1]=n,this.gridData[e][0]=this._xaxis.series_u2p(t),this.gridData[e][1]=this._yaxis.series_u2p(n);var s=i.outerWidth(),o=i.outerHeight(),u=this.gridData[e][0]-s/2+"px",a=this.gridData[e][1]-o/2+"px";r?(parseInt(r,10)&&(r=parseInt(r,10)),i.animate({left:u,top:a},r)):i.css({left:u,top:a}),i=null}},e.jqplot.BlockRenderer.prototype.draw=function(t,n,r){this.plugins.pointLabels&&(this.plugins.pointLabels.show=!1);var i,s,o,n,u,f,l,c,h,p,d=r!=undefined?r:{},v=new e.jqplot.ColorGenerator(this.seriesColors);this.canvas._elem.empty();for(i=0;i<this.gridData.length;i++)o=this.data[i],n=this.gridData[i],u="",f={},typeof o[2]=="string"?u=o[2]:typeof o[2]=="object"&&(f=o[2]),typeof o[3]=="object"&&(f=o[3]),this.insertBreaks&&(u=u.replace(/ /g,"<br />")),f=e.extend(!0,{},this.css,f),s=e('<div style="position:absolute;margin-left:auto;margin-right:auto;"></div>'),this.canvas._elem.append(s),this.escapeHtml?s.text(u):s.html(u),delete f.position,delete f.marginRight,delete f.marginLeft,!f.background&&!f.backgroundColor&&!f.backgroundImage&&(f.background=v.next()),s.css(f),l=s.outerWidth(),c=s.outerHeight(),h=n[0]-l/2+"px",p=n[1]-c/2+"px",s.css({left:h,top:p}),s=null},e.jqplot.BlockCanvas=function(){e.jqplot.ElemContainer.call(this),this._ctx},e.jqplot.BlockCanvas.prototype=new e.jqplot.ElemContainer,e.jqplot.BlockCanvas.prototype.constructor=e.jqplot.BlockCanvas,e.jqplot.BlockCanvas.prototype.createElement=function(t,n,r){this._offsets=t;var i="jqplot-blockCanvas";n!=undefined&&(i=n);var s;this._elem?s=this._elem.get(0):s=document.createElement("div"),r!=undefined&&(this._plotDimensions=r);var o=this._plotDimensions.width-this._offsets.left-this._offsets.right+"px",u=this._plotDimensions.height-this._offsets.top-this._offsets.bottom+"px";return this._elem=e(s),this._elem.css({position:"absolute",width:o,height:u,left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(i),this._elem},e.jqplot.BlockCanvas.prototype.setContext=function(){return this._ctx={canvas:{width:0,height:0},clearRect:function(){return null}},this._ctx}})(jQuery);