define(["jquery","backbone"],function(e,t){var n=t.View.extend({initialize:function(){this.listenTo(this.model,"change:times",this.render)},render:function(){var t=this.model.get("times")||0;this.$(".clock-in-state").each(function(n,r){n<t?e(r).addClass("clock-in-checked"):e(r).removeClass("clock-in-checked")})},events:{"click .clock-in-btn":"clockIn"},clockIn:function(){if(G.user.user_id=="WEIBO_ACCOUNT"){e.cm.toast({msg:"游客不可签到"});return}var t=this;this.model.save(null,{parse:!1}).done(function(e){if(!e.success)return;t.model.fetch()})}});return n});