/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */

/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */

/*!
* jQuery Mobile 1.4.5
* Git HEAD hash: 68e55e78b292634d3991c795f06f5e37a512decc <> Date: Fri Oct 31 2014 17:33:30 UTC
* http://jquerymobile.com
*
* Copyright 2010, 2014 jQuery Foundation, Inc. and othercontributors
* Released under the MIT license.
* http://jquery.org/license
*
*/

/*!
 * jQuery UI Core c0ab71056b936627e8a7821f03c044aec6280a40
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */

/*!
 * jQuery UI Widget c0ab71056b936627e8a7821f03c044aec6280a40
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

// Script: jQuery hashchange event
//
// *Version: 1.3, Last updated: 7/21/2010*
// 
// Project Home - http://benalman.com/projects/jquery-hashchange-plugin/
// GitHub       - http://github.com/cowboy/jquery-hashchange/
// Source       - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.js
// (Minified)   - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.min.js (0.8kb gzipped)
// 
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
// 
// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/
// document.domain - http://benalman.com/code/projects/jquery-hashchange/examples/document_domain/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,
//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.
// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/
// 
// About: Known issues
// 
// While this jQuery hashchange event implementation is quite stable and
// robust, there are a few unfortunate browser bugs surrounding expected
// hashchange event-based behaviors, independent of any JavaScript
// window.onhashchange abstraction. See the following examples for more
// information:
// 
// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/
// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/
// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/
// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/
// 
// Also note that should a browser natively support the window.onhashchange 
// event, but not report that it does, the fallback polling loop will be used.
// 
// About: Release History
// 
// 1.3   - (7/21/2010) Reorganized IE6/7 Iframe code to make it more
//         "removable" for mobile-only development. Added IE6/7 document.title
//         support. Attempted to make Iframe as hidden as possible by using
//         techniques from http://www.paciellogroup.com/blog/?p=604. Added 
//         support for the "shortcut" format $(window).hashchange( fn ) and
//         $(window).hashchange() like jQuery provides for built-in events.
//         Renamed jQuery.hashchangeDelay to <jQuery.fn.hashchange.delay> and
//         lowered its default value to 50. Added <jQuery.fn.hashchange.domain>
//         and <jQuery.fn.hashchange.src> properties plus document-domain.html
//         file to address access denied issues when setting document.domain in
//         IE6/7.
// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin
//         from a page on another domain would cause an error in Safari 4. Also,
//         IE6/7 Iframe is now inserted after the body (this actually works),
//         which prevents the page from scrolling when the event is first bound.
//         Event can also now be bound before DOM ready, but it won't be usable
//         before then in IE6/7.
// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug
//         where browser version is incorrectly reported as 8.0, despite
//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.
// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special
//         window.onhashchange functionality into a separate plugin for users
//         who want just the basic event & back button support, without all the
//         extra awesomeness that BBQ provides. This plugin will be included as
//         part of jQuery BBQ, but also be available separately.

/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */

/*!
 * jQuery UI Tabs fadf2b312a05040436451c64bbfaf4814bc62c56
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */

//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/**
 * @preserve jQuery DateTimePicker plugin v2.4.5
 * @homepage http://xdsoft.net/jqplugins/datetimepicker/
 * (c) 2014, Chupurnov Valeriy.
 */

/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.12
 *
 * Requires: jQuery 1.2.2+
 */

/*
 * Copyright (C) 2004 Baron Schwartz <baron at sequent dot org>
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as published by the
 * Free Software Foundation, version 2.1.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more
 * details.
 */

/* jqPlot 1.0.8r1250 | (c) 2009-2013 Chris Leonello | jplot.com
 jsDate | (c) 2010-2013 Chris Leonello
 */

/*
                    var form_data = new FormData();
                    form_data.append('pic', file);
                    
                    //ajax上传文件
                    $.ajax({
                        url:'/upload/file',
                        method: 'POST',
                        data: form_data,
                        dataType: 'json',
                        processData: false,
                        contentType: false
                    }).done(function(data){
                        if(data.success)
                        {
                            self.$el.find('[name="driving_license_a"]').val(data.path);
                        }
                    });*/

/*
                    var form_data = new FormData();
                    form_data.append('pic', file);

                    //ajax上传文件
                    $.ajax({
                        url:'/upload/file',
                        method: 'POST',
                        data: form_data,
                        dataType: 'json',
                        processData: false,
                        contentType: false
                    }).done(function(data){
                        if(data.success)
                        {
                            self.$el.find('[name="driving_license_b"]').val(data.path);

                        }
                    });*/

function PCAS(){this.SelP=document.getElementById(arguments[0]),this.SelC=document.getElementById(arguments[1]),this.SelA=document.getElementById(arguments[2]),this.DefP=this.SelA?arguments[3]:arguments[2],this.DefC=this.SelA?arguments[4]:arguments[3],this.DefA=this.SelA?arguments[5]:arguments[4],this.SelP.PCA=this,this.SelC.PCA=this,this.SelP.onchange=function(){PCAS.SetC(this.PCA)},this.SelA&&(this.SelC.onchange=function(){PCAS.SetA(this.PCA)}),PCAS.SetP(this)}function base64encode(e){var t,n,r,i,s,o;r=e.length,n=0,t="";while(n<r){i=e.charCodeAt(n++)&255;if(n==r){t+=base64EncodeChars.charAt(i>>2),t+=base64EncodeChars.charAt((i&3)<<4),t+="==";break}s=e.charCodeAt(n++);if(n==r){t+=base64EncodeChars.charAt(i>>2),t+=base64EncodeChars.charAt((i&3)<<4|(s&240)>>4),t+=base64EncodeChars.charAt((s&15)<<2),t+="=";break}o=e.charCodeAt(n++),t+=base64EncodeChars.charAt(i>>2),t+=base64EncodeChars.charAt((i&3)<<4|(s&240)>>4),t+=base64EncodeChars.charAt((s&15)<<2|(o&192)>>6),t+=base64EncodeChars.charAt(o&63)}return t}function base64decode(e){var t,n,r,i,s,o,u;o=e.length,s=0,u="";while(s<o){do t=base64DecodeChars[e.charCodeAt(s++)&255];while(s<o&&t==-1);if(t==-1)break;do n=base64DecodeChars[e.charCodeAt(s++)&255];while(s<o&&n==-1);if(n==-1)break;u+=String.fromCharCode(t<<2|(n&48)>>4);do{r=e.charCodeAt(s++)&255;if(r==61)return u;r=base64DecodeChars[r]}while(s<o&&r==-1);if(r==-1)break;u+=String.fromCharCode((n&15)<<4|(r&60)>>2);do{i=e.charCodeAt(s++)&255;if(i==61)return u;i=base64DecodeChars[i]}while(s<o&&i==-1);if(i==-1)break;u+=String.fromCharCode((r&3)<<6|i)}return u}function utf16to8(e){var t,n,r,i;t="",r=e.length;for(n=0;n<r;n++)i=e.charCodeAt(n),i>=1&&i<=127?t+=e.charAt(n):i>2047?(t+=String.fromCharCode(224|i>>12&15),t+=String.fromCharCode(128|i>>6&63),t+=String.fromCharCode(128|i>>0&63)):(t+=String.fromCharCode(192|i>>6&31),t+=String.fromCharCode(128|i>>0&63));return t}function utf8to16(e){var t,n,r,i,s,o;t="",r=e.length,n=0;while(n<r){i=e.charCodeAt(n++);switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:s=e.charCodeAt(n++),t+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=e.charCodeAt(n++),o=e.charCodeAt(n++),t+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0)}}return t}function HighlightedDate(e,t,n){this.date=e,this.desc=t,this.style=n}(function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)})(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(e){var t="length"in e&&e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>=0!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t=optionsCache[e]={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Data.uid++}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$1").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}data_user.set(e,t,n)}else n=undefined}return n}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)data_priv.set(e[n],"globalEval",!t||data_priv.get(t[n],"globalEval"))}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(data_priv.hasData(e)){s=data_priv.access(e),o=data_priv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}data_user.hasData(e)&&(u=data_user.access(e),a=jQuery.extend({},u),data_user.set(t,a))}function getAll(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function actualDisplay(e,t){var n,r=jQuery(t.createElement(e)).appendTo(t.body),i=window.getDefaultComputedStyle&&(n=window.getDefaultComputedStyle(r[0]))?n.display:jQuery.css(r[0],"display");return r.detach(),i}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(o===""&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=cssPrefixes.length;while(i--){t=cssPrefixes[i]+n;if(t in e)return t}return r}function setPositiveNumber(e,t,n){var r=rnumsplit.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=data_priv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=data_priv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):(i=isHidden(r),(n!=="none"||!i)&&data_priv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(tweeners[t]||[]).concat(tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l,c=this,h={},p=e.style,d=e.nodeType&&isHidden(e),v=data_priv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,c.always(function(){c.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],f=jQuery.css(e,"display"),l=f==="none"?data_priv.get(e,"olddisplay")||defaultDisplay(e.nodeName):f,l==="inline"&&jQuery.css(e,"float")==="none"&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(d?"hide":"show")){if(i!=="show"||!v||v[r]===undefined)continue;d=!0}h[r]=v&&v[r]||jQuery.style(e,r)}else f=undefined}if(!jQuery.isEmptyObject(h)){v?"hidden"in v&&(d=v.hidden):v=data_priv.access(e,"fxshow",{}),s&&(v.hidden=!d),d?jQuery(e).show():c.done(function(){jQuery(e).hide()}),c.done(function(){var t;data_priv.remove(e,"fxshow");for(t in h)jQuery.style(e,t,h[t])});for(r in h)o=createTween(d?v[r]:0,r,c),r in v||(v[r]=o.start,d&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}else(f==="none"?defaultDisplay(e.nodeName):f)==="inline"&&(p.display=f)}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=animationPrefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=animationPrefilters[s].call(f,e,l,f.opts);if(r)return r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},document=window.document,version="2.1.4",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return jQuery.each(this,e,t)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return!jQuery.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e)?!1:e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":(e+"").replace(rtrim,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(isArraylike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&u.push(r);else for(i in e)r=t(e[i],i,n),r!=null&&u.push(r);return concat.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function ot(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;(t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[],l=t.nodeType;if(typeof e!="string"||!e||l!==1&&l!==9&&l!==11)return r;if(!i&&v){if(l!==11&&(s=Z.exec(e)))if(f=s[1]){if(l===9){u=t.getElementById(f);if(!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return D.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName)return D.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){y=g=w,S=t,x=l!==1&&e;if(l===1&&t.nodeName.toLowerCase()!=="object"){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+gt(d[c]);S=et.test(e)&&vt(t.parentNode)||t,x=d.join(",")}if(x)try{return D.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ut(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function at(e){return e[w]=!0,e}function ft(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function ct(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(e){return e&&typeof e.getElementsByTagName!="undefined"&&e}function mt(){}function gt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=x++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[w]||(t[w]={});if((u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ot(e,t[r],n);return n}function Et(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function St(e,t,n,r,i,s){return r&&!r[w]&&(r=St(r)),i&&!i[w]&&(i=St(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?Et(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=Et(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?H(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=Et(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):D.apply(o,g)})}function xt(e){var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return H(t,e)>-1},u,!0),h=[function(e,n,r){var i=!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];for(;a<s;a++)if(n=r.relative[e[a].type])h=[yt(bt(h),n)];else{n=r.filter[e[a].type].apply(null,e[a].matches);if(n[w]){i=++a;for(;i<s;i++)if(r.relative[e[i].type])break;return St(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(z,"$1"),n,a<i&&xt(e.slice(a,i)),i<s&&xt(e=e.slice(i)),i<s&&gt(e))}h.push(n)}return bt(h)}function Tt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=b==null?1:Math.random()||.1,x=w.length;l&&(f=o!==p&&o);for(;m!==x&&(c=w[m])!=null;m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}v+=m;if(n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=M.call(a));y=Et(y)}D.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&ot.uniqueSort(a)}return l&&(S=E,f=b),g};return n?at(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+1*new Date,E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=function(e,t){return e===t&&(c=!0),0},L=1<<31,A={}.hasOwnProperty,O=[],M=O.pop,_=O.push,D=O.push,P=O.slice,H=function(e,t){var n=0,r=e.length;for(;n<r;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I=F.replace("w","w#"),q="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+j+"*\\]",R=":("+F+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|"+".*"+")\\)|)",U=new RegExp(j+"+","g"),z=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),W=new RegExp("^"+j+"*,"+j+"*"),X=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),V=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),$=new RegExp(R),J=new RegExp("^"+I+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},it=function(){h()};try{D.apply(O=P.call(E.childNodes),E.childNodes),O[E.childNodes.length].nodeType}catch(st){D={apply:O.length?function(e,t){_.apply(e,P.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=ot.support={},s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},h=ot.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:E;if(o===p||o.nodeType!==9||!o.documentElement)return p;p=o,d=o.documentElement,i=o.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",it,!1):i.attachEvent&&i.attachEvent("onunload",it)),v=!s(o),n.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ft(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(o.getElementsByClassName),n.getById=ft(function(e){return d.appendChild(e).id=w,!o.getElementsByName||!o.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!="undefined"&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(e);if(n.qsa)return t.querySelectorAll(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(v)return t.getElementsByClassName(e)},g=[],m=[];if(n.qsa=Y.test(o.querySelectorAll))ft(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a>"+"<select id='"+w+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ft(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")});return(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ft(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",R)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===o||e.ownerDocument===E&&b(E,e)?-1:t===o||t.ownerDocument===E&&b(E,t)?1:l?H(l,e)-H(l,t):0:r&4?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,u=[e],a=[t];if(!i||!s)return e===o?-1:t===o?1:i?-1:s?1:l?H(l,e)-H(l,t):0;if(i===s)return ct(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?ct(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},o},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){(e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']");if(n.matchesSelector&&v&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):undefined;return s!==undefined?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,s=0;c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k);if(c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=ot.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=ot.selectors={cacheLength:50,createPseudo:at,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!="undefined"&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i.replace(U," ")+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[S,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=H(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:at(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return e=e.replace(nt,rt),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:at(function(e){return J.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[n<0?n+t:n]}),even:dt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:dt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ht(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pt(t);return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,o=ot.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=W.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=X.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length);for(o in r.filter)(i=K[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)},u=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=xt(t[n]),s[w]?r.push(s):i.push(s);s=C(e,Tt(i,r)),s.selector=e}return s},a=ot.select=function(e,t,i,s){var a,f,l,c,h,p=typeof e=="function"&&e,d=!s&&o(e=p.selector||e);i=i||[];if(d.length===1){f=d[0]=d[0].slice(0);if(f.length>2&&(l=f[0]).type==="ID"&&n.getById&&t.nodeType===9&&v&&r.relative[f[1].type]){t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0];if(!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){l=f[a];if(r.relative[c=l.type])break;if(h=r.find[c])if(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&vt(t.parentNode)||t)){f.splice(a,1),e=s.length&&gt(f);if(!e)return D.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&vt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=ft(function(e){return e.compareDocumentPosition(p.createElement("div"))&1}),ft(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||lt("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&lt("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ft(function(e){return e.getAttribute("disabled")==null})||lt(B,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ot}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?n=[null,e,null]:n=rquickExpr.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(n[1])&&jQuery.isPlainObject(t))for(n in t)jQuery.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=document.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=document,this.selector=e,this}return!t||t.jquery?(t||rootjQuery).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.unique(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return jQuery.dir(e,"parentNode")},parentsUntil:function(e,t,n){return jQuery.dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return jQuery.dir(e,"nextSibling")},prevAll:function(e){return jQuery.dir(e,"previousSibling")},nextUntil:function(e,t,n){return jQuery.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return jQuery.dir(e,"previousSibling",n)},siblings:function(e){return jQuery.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return jQuery.sibling(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.unique(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(e){e=typeof e=="string"?optionsCache[e]||createOptions(e):jQuery.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){t=e.memory&&c,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){jQuery.each(t,function(t,n){var r=jQuery.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,u,n))>-1)u.splice(n,1),r&&(n<=s&&s--,n<=o&&o--)}),this},has:function(e){return e?jQuery.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return u&&(!n||a)&&(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(e)},jQuery.ready.promise();var access=jQuery.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)jQuery.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s};jQuery.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(e){if(!Data.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=Data.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,jQuery.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if(typeof t=="string")s[t]=n;else if(jQuery.isEmptyObject(s))jQuery.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!jQuery.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(e){return data_user.hasData(e)||data_priv.hasData(e)},data:function(e,t,n){return data_user.access(e,t,n)},removeData:function(e,t){data_user.remove(e,t)},_data:function(e,t,n){return data_priv.access(e,t,n)},_removeData:function(e,t){data_priv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=data_user.get(s);if(s.nodeType===1&&!data_priv.get(s,"hasDataAttrs")){n=o.length;while(n--)o[n]&&(r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r])));data_priv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){data_user.set(this,e)}):access(this,function(t){var n,r=jQuery.camelCase(e);if(s&&t===undefined){n=data_user.get(s,e);if(n!==undefined)return n;n=data_user.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}this.each(function(){var n=data_user.get(this,r);data_user.set(this,r,t),e.indexOf("-")!==-1&&n!==undefined&&data_user.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){data_user.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=data_priv.get(e,t),n&&(!r||jQuery.isArray(n)?r=data_priv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return data_priv.get(e,n)||data_priv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=data_priv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div")),n=document.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!==strundefined&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.hasData(e)&&data_priv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&(delete m.handle,data_priv.remove(e,"events"))},trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(data_priv.get(s,"events")||{})[e.type]&&data_priv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&jQuery.acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&jQuery.acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(data_priv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||e.type!=="click"){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>=0:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?jQuery.event.trigger(i,null,t):jQuery.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===!1?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e),!0)};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t);i||r.addEventListener(e,n,!0),data_priv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t)-1;i?data_priv.access(r,t,i):(r.removeEventListener(e,n,!0),data_priv.remove(r,t))}}}),jQuery.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=returnFalse;else if(!r)return this;return i===1&&(s=r,r=function(e){return jQuery().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=t.createDocumentFragment(),c=[],h=0,p=e.length;for(;h<p;h++){i=e[h];if(i||i===0)if(jQuery.type(i)==="object")jQuery.merge(c,i.nodeType?[i]:i);else if(!rhtml.test(i))c.push(t.createTextNode(i));else{s=s||l.appendChild(t.createElement("div")),o=(rtagName.exec(i)||["",""])[1].toLowerCase(),u=wrapMap[o]||wrapMap._default,s.innerHTML=u[1]+i.replace(rxhtmlTag,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;jQuery.merge(c,s.childNodes),s=l.firstChild,s.textContent=""}}l.textContent="",h=0;while(i=c[h++]){if(r&&jQuery.inArray(i,r)!==-1)continue;a=jQuery.contains(i.ownerDocument,i),s=getAll(l.appendChild(i),"script"),a&&setGlobalEval(s);if(n){f=0;while(i=s[f++])rscriptType.test(i.type||"")&&n.push(i)}}return l},cleanData:function(e){var t,n,r,i,s=jQuery.event.special,o=0;for(;(n=e[o])!==undefined;o++){if(jQuery.acceptData(n)){i=n[data_priv.expando];if(i&&(t=data_priv.cache[i])){if(t.events)for(r in t.events)s[r]?jQuery.event.remove(n,r):jQuery.removeEvent(n,r,t.handle);data_priv.cache[i]&&delete data_priv.cache[i]}}delete data_user.cache[n[data_user.expando]]}}}),jQuery.fn.extend({text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?jQuery.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&jQuery.cleanData(getAll(n)),n.parentNode&&(t&&jQuery.contains(n.ownerDocument,n)&&setGlobalEval(getAll(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,jQuery.cleanData(getAll(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=concat.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=jQuery.isFunction(h);if(p||f>1&&typeof h=="string"&&!support.checkClone&&rchecked.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f){n=jQuery.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,n.childNodes.length===1&&(n=r);if(r){i=jQuery.map(getAll(n,"script"),disableScript),s=i.length;for(;a<f;a++)o=n,a!==c&&(o=jQuery.clone(o,!0,!0),s&&jQuery.merge(i,getAll(o,"script"))),t.call(this[a],o,a);if(s){u=i[i.length-1].ownerDocument,jQuery.map(i,restoreScript);for(a=0;a<s;a++)o=i[a],rscriptType.test(o.type||"")&&!data_priv.access(o,"globalEval")&&jQuery.contains(u,o)&&(o.src?jQuery._evalUrl&&jQuery._evalUrl(o.src):jQuery.globalEval(o.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null)};(function(){function s(){i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i.innerHTML="",n.appendChild(r);var s=window.getComputedStyle(i,null);e=s.top!=="1%",t=s.width==="4px",n.removeChild(r)}var e,t,n=document.documentElement,r=document.createElement("div"),i=document.createElement("div");if(!i.style)return;i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=i.style.backgroundClip==="content-box",r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(i),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return s(),e},boxSizingReliable:function(){return t==null&&s(),t},reliableMarginRight:function(){var e,t=i.appendChild(document.createElement("div"));return t.style.cssText=i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",i.style.width="1px",n.appendChild(r),e=!parseFloat(window.getComputedStyle(t,null).marginRight),n.removeChild(r),i.removeChild(t),e}})})(),jQuery.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(a,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rrelNum.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(jQuery.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!jQuery.cssNumber[u]&&(n+="px"),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(e.style,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||jQuery.isNumeric(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return rdisplayswap.test(jQuery.css(e,"display"))&&e.offsetWidth===0?jQuery.swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i=r&&getStyles(e);return setPositiveNumber(e,n,r?augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return jQuery.swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.style&&(e.elem.style[jQuery.cssProps[e.prop]]!=null||jQuery.cssHooks[e.prop])?jQuery.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=rfxnum.exec(t),s=i&&i[3]||(jQuery.cssNumber[e]?"":"px"),o=(jQuery.cssNumber[e]||s!=="px"&&+r)&&rfxnum.exec(jQuery.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,jQuery.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],tweeners[n]=tweeners[n]||[],tweeners[n].unshift(t)},prefilter:function(e,t){t?animationPrefilters.unshift(e):animationPrefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||data_priv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=data_priv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=data_priv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===strundefined)return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),r=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:nodeHook);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=jQuery.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);jQuery.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!jQuery.isXMLDoc(e),s&&(t=jQuery.propFix[t]||t,i=jQuery.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rfocusable.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=jQuery.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=arguments.length===0||typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?jQuery.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===strundefined||n==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||e===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(rclass," ").indexOf(t)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{option:{get:function(e){var t=jQuery.find.attr(e,"value");return t!=null?t:jQuery.trim(jQuery.text(e))}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(r.value,s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=window.location.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""],l.crossDomain==null&&(u=rurl.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===ajaxLocParts[1]&&u[2]===ajaxLocParts[2]&&(u[3]||(u[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=jQuery.event&&l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jQuery.expr.filters.visible=function(e){return!jQuery.expr.filters.hidden(e)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.attachEvent&&window.attachEvent("onunload",function(){for(var e in xhrCallbacks)xhrCallbacks[e]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(n,r){var i,s=e.xhr(),o=++xhrId;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete xhrCallbacks[o],t=s.onload=s.onerror=null,e==="abort"?s.abort():e==="error"?r(s.status,s.statusText):r(xhrSuccessStatus[s.status]||s.status,s.statusText,typeof s.responseText=="string"?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xhrCallbacks[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=jQuery.buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=jQuery.trim(e.slice(u)),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(typeof r.getBoundingClientRect!==strundefined&&(i=r.getBoundingClientRect()),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||docElem;while(e&&!jQuery.nodeName(e,"html")&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?window.pageXOffset:i,n?i:window.pageYOffset):e[r]=i},e,r,arguments.length,null)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery});var base_url="";require(["jquery"],function(e){e.cm=e.cm||{},e.cm.dispatcher=e({}),e.cm.color={},e.cm.color.BONUS_COLOR="rgba(33, 150, 243, 0.8)",e.cm.bind=function(){e.cm.dispatcher.bind.apply(e.cm.dispatcher,arguments)},e.cm.unbind=function(){e.cm.dispatcher.unbind.apply(e.cm.dispatcher,arguments)},e.cm.trigger=function(){e.cm.dispatcher.trigger.apply(e.cm.dispatcher,arguments)},e.cm.bind("system.bonus",function(t,n){if(n.length==0)return;var r=n.length;for(var i=0;i<r;i++){var s=n[i],o=s.name,u=s.code,a=s.value>0?"+"+s.value:s.value;e.cm.toast({bgColor:e.cm.color.BONUS_COLOR,endPosition:"center",msg:'<h4 style="text-align: center; font-size: 1.5em;">'+a+'<h4><h5 style="text-align: center; font-size: 1.5em;">'+o+"</h5>"}),e.cm.trigger("system.bonus:"+u,[a])}}),e(document).ajaxSuccess(function(t,n,r,i){if(i.events)for(var s in i.events)e.cm.trigger(s,[i.events[s]]);i.err_msg&&e.cm.toast({msg:i.err_msg})});var t=null;window.G=window.G||{},G.user=null,e.ajaxPrefilter(function(e){var n=e.url;return n=base_url+n,t&&n.indexOf("?")!=-1?n+="&ssid="+t:t&&(n+="?ssid="+t),e.url=n,e}),e(document).on("mobileinit",function(){e.mobile.linkBindingEnabled=!1,e.mobile.hashListeningEnabled=!1,e.mobile.defaultPageTransition=!1,e.mobile.loader.prototype.options.text="loading hardly",e.mobile.loader.prototype.options.textVisible=!1,e.mobile.loader.prototype.options.theme="a",e.mobile.loader.prototype.options.html="",e.mobile.page.prototype.options.keepNative="select, input:radio, input:checkbox, input.fb_box_input, input.fb_box_input2, input.fb_box_button, .no-enhance",e("body").on("pagebeforecreate",'[data-role="page"]',function(t){var n=e(t.target),r=n.find('[data-role="header"]'),i=n.css("padding-top");n.css("padding-top",Number(i.match(/\d+/))-40),r.css("padding",0),r.find('a:not([data-role="navbar"] a),h1').hide()})}),require(["jqm","jqm_widget_ext"],function(){e(document).ajaxStart(function(){e.mobile.loading("show")}),e(document).ajaxStop(function(){e.mobile.loading("hide")});var n=window.location.href.match(/\?(.*)/),r=n?n[1]:"";e.ajax({url:"/user/login.json?"+r,method:"GET",dataType:"json",global:!0}).done(function(n){t=n.session_id,G.user=n.user_info,G.user.session_id=t,require(["backbone","routers/LocalFavourRouter","routers/TourRouter","routers/NewInsuranceRouter","routers/ActivityRouter","routers/CollectionRouter"],function(t,n,r,i,s,o){this.local_favour_router=new n,this.tour_router=new r,this.activity_router=new s,this.new_insurance_router=new i,this.collection_router=new o,window.app&&window.app.setUrl&&(t.history.orig_check_url=t.history.checkUrl,t.history.checkUrl=function(e){if(!/.*#$|^[^#]*$/.test(window.location.href)){var n=app.setUrl(window.location.href);if(n=="false"){window.location.href=window.location.href.replace(/#.*$/,"#");return}}t.history.orig_check_url(e)}),window.app&&window.app.showGallery&&e(document).on("click",'input[type="file"]',function(t){var n=e(t.target),r=Date.now();return n.attr("target-id",r),window.app.showGallery("javascript:(function(){ $('[target-id=\""+r+"\"]').trigger('change',{result: '%s' }); })();"),!1}),t.history.start(),e(".index-pic").fadeOut(1e3)})})})}),define("app/main",function(){}),function(e,t,n){typeof define=="function"&&define.amd?define("jqm",["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,r){(function(e){e.mobile={}})(e),function(e,t){function s(t,n){var r,i,s,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(s=e("img[usemap=#"+i+"]")[0],!!s&&o(s))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&o(t)}function o(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var r=0,i=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return typeof n=="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(this[0].ownerDocument||n):t},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){i.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return s(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&s(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in n.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(r){if(r!==t)return this.css("zIndex",r);if(this.length){var i=e(this[0]),s,o;while(i.length&&i[0]!==n){s=i.css("position");if(s==="absolute"||s==="relative"||s==="fixed"){o=parseInt(i.css("zIndex"),10);if(!isNaN(o)&&o!==0)return o}i=i.parent()}}return 0}}),e.ui.plugin={add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,s=e.plugins[t];if(!s)return;if(!r&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11))return;for(i=0;i<s.length;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}}}(e),function(e,t,r){var i=function(t,n){var r=t.parent(),i=[],s=function(){var t=e(this),n=e.mobile.toolbar&&t.data("mobile-toolbar")?t.toolbar("option"):{position:t.attr("data-"+e.mobile.ns+"position"),updatePagePadding:t.attr("data-"+e.mobile.ns+"update-page-padding")!==!1};return n.position!=="fixed"||n.updatePagePadding!==!0},o=r.children(":jqmData(role='header')").filter(s),u=t.children(":jqmData(role='header')"),a=r.children(":jqmData(role='footer')").filter(s),f=t.children(":jqmData(role='footer')");return u.length===0&&o.length>0&&(i=i.concat(o.toArray())),f.length===0&&a.length>0&&(i=i.concat(a.toArray())),e.each(i,function(t,r){n-=e(r).outerHeight()}),Math.max(0,n)};e.extend(e.mobile,{window:e(t),document:e(n),keyCode:e.ui.keyCode,behaviors:{},silentScroll:function(n){e.type(n)!=="number"&&(n=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,n),e.mobile.document.trigger("silentscroll",{x:0,y:n})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(t){var n=e(t).closest(".ui-page").jqmData("url"),r=e.mobile.path.documentBase.hrefNoHash;if(!e.mobile.dynamicBaseEnabled||!n||!e.mobile.path.isPath(n))n=r;return e.mobile.path.makeUrlAbsolute(n,r)},removeActiveLinkClass:function(t){!!e.mobile.activeClickedLink&&(!e.mobile.activeClickedLink.closest("."+e.mobile.activePageClass).length||t)&&e.mobile.activeClickedLink.removeClass(e.mobile.activeBtnClass),e.mobile.activeClickedLink=null},getInheritedTheme:function(e,t){var n=e[0],r="",i=/ui-(bar|body|overlay)-([a-z])\b/,s,o;while(n){s=n.className||"";if(s&&(o=i.exec(s))&&(r=o[2]))break;n=n.parentNode}return r||t||"a"},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled)return t;var r=t.length,i=e(),s,o,u,a,f;for(a=0;a<r;a++){o=t.eq(a),u=!1,s=t[a];while(s){f=s.getAttribute?s.getAttribute("data-"+e.mobile.ns+n):"";if(f==="false"){u=!0;break}s=s.parentNode}u||(i=i.add(o))}return i},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()},resetActivePageHeight:function(t){var n=e("."+e.mobile.activePageClass),r=n.height(),s=n.outerHeight(!0);t=i(n,typeof t=="number"?t:e.mobile.getScreenHeight()),n.css("min-height",""),n.height()<t&&n.css("min-height",t-(s-r))},loading:function(){var t=this.loading._widget||e(e.mobile.loader.prototype.defaultHtml).loader(),n=t.loader.apply(t,arguments);return this.loading._widget=t,n}}),e.addDependents=function(t,n){var r=e(t),i=r.jqmData("dependents")||e();r.jqmData("dependents",e(i).add(n))},e.fn.extend({removeWithDependents:function(){e.removeWithDependents(this)},enhanceWithin:function(){var t,n={},r=e.mobile.page.prototype.keepNativeSelector(),i=this;e.mobile.nojs&&e.mobile.nojs(this),e.mobile.links&&e.mobile.links(this),e.mobile.degradeInputsWithin&&e.mobile.degradeInputsWithin(this),e.fn.buttonMarkup&&this.find(e.fn.buttonMarkup.initSelector).not(r).jqmEnhanceable().buttonMarkup(),e.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(r).jqmEnhanceable().fieldcontain(),e.each(e.mobile.widgets,function(t,s){if(s.initSelector){var o=e.mobile.enhanceable(i.find(s.initSelector));o.length>0&&(o=o.not(r)),o.length>0&&(n[s.prototype.widgetName]=o)}});for(t in n)n[t][t]();return this},addDependents:function(t){e.addDependents(this,t)},getEncodedText:function(){return e("<a>").text(this.text()).html()},jqmEnhanceable:function(){return e.mobile.enhanceable(this)},jqmHijackable:function(){return e.mobile.hijackable(this)}}),e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove(),n.remove()},e.addDependents=function(t,n){var r=e(t),i=r.jqmData("dependents")||e();r.jqmData("dependents",e(i).add(n))},e.find.matches=function(t,n){return e.find(t,null,null,n)},e.find.matchesSelector=function(t,n){return e.find(n,null,null,[t]).length>0}}(e,this),function(e,t,n){e.extend(e.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(e,this),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];return t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(o==="instance")return f=i,!1;if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}(e),function(e,t,n){var r={},i=e.find,s=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,o=/:jqmData\(([^)]*)\)/g;e.extend(e.mobile,{ns:"",getAttribute:function(t,n){var r;t=t.jquery?t[0]:t,t&&t.getAttribute&&(r=t.getAttribute("data-"+e.mobile.ns+n));try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:s.test(r)?JSON.parse(r):r}catch(i){}return r},nsNormalizeDict:r,nsNormalize:function(t){return r[t]||(r[t]=e.camelCase(e.mobile.ns+t))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),e.fn.jqmData=function(t,r){var i;return typeof t!="undefined"&&(t&&(t=e.mobile.nsNormalize(t)),arguments.length<2||r===n?i=this.data(t):i=this.data(t,r)),i},e.jqmData=function(t,n,r){var i;return typeof n!="undefined"&&(i=e.data(t,n?e.mobile.nsNormalize(n):n,r)),i},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))},e.find=function(t,n,r,s){return t.indexOf(":jqmData")>-1&&(t=t.replace(o,"[data-"+(e.mobile.ns||"")+"$1]")),i.call(this,t,n,r,s)},e.extend(e.find,i)}(e,this),function(e,t){var n=/[A-Z]/g,r=function(e){return"-"+e.toLowerCase()};e.extend(e.Widget.prototype,{_getCreateOptions:function(){var t,i,s=this.element[0],o={};if(!e.mobile.getAttribute(s,"defaults"))for(t in this.options)i=e.mobile.getAttribute(s,t.replace(n,r)),i!=null&&(o[t]=i);return o}}),e.mobile.widget=e.Widget}(e),function(e){var t="ui-loader",n=e("html");e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+t+"'>"+"<span class='ui-icon-loading'></span>"+"<h1></h1>"+"</div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),n=this.window.scrollTop(),r=e.mobile.getScreenHeight();if(t.top<n||t.top-n>r)this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",e.proxy(this.fakeFixLoader,this))},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(r,i,s){var o,u,a;this.resetHtml(),e.type(r)==="object"?(a=e.extend({},this.options,r),r=a.theme):(a=this.options,r=r||a.theme),u=i||(a.text===!1?"":a.text),n.addClass("ui-loading"),o=a.textVisible,this.element.attr("class",t+" ui-corner-all ui-body-"+r+" ui-loader-"+(o||i||r.text?"verbose":"default")+(a.textonly||s?" ui-loader-textonly":"")),a.html?this.element.html(a.html):this.element.find("h1").text(u),this.element.appendTo(e.mobile.pagecontainer?e(":mobile-pagecontainer"):e("body")),this.checkLoaderPosition(),this.window.bind("scroll",e.proxy(this.checkLoaderPosition,this))},hide:function(){n.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(e,this),function(e,t,r){"$:nomunge";function l(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var i="hashchange",s=n,o,u=e.event.special,a=s.documentMode,f="on"+i in t&&(a===r||a>7);e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.fn[i].delay=50,u[i]=e.extend(u[i],{setup:function(){if(f)return!1;e(o.start)},teardown:function(){if(f)return!1;e(o.stop)}}),o=function(){function p(){var n=l(),r=h(u);n!==u?(c(u=n,r),e(t).trigger(i)):r!==u&&(location.href=location.href.replace(/#.*/,"")+r),o=setTimeout(p,e.fn[i].delay)}var n={},o,u=l(),a=function(e){return e},c=a,h=a;return n.start=function(){o||p()},n.stop=function(){o&&clearTimeout(o),o=r},t.attachEvent&&!t.addEventListener&&!f&&function(){var t,r;n.start=function(){t||(r=e.fn[i].src,r=r&&r+l(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||c(l()),p()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,s.onpropertychange=function(){try{event.propertyName==="title"&&(t.document.title=s.title)}catch(e){}})},n.stop=a,h=function(){return l(t.location.href)},c=function(n,r){var o=t.document,u=e.fn[i].domain;n!==r&&(o.title=s.title,o.open(),u&&o.write('<script>document.domain="'+u+'"</script>'),o.close(),t.location.hash=n)}}(),n}()}(e,this),function(e,r){t.matchMedia=t.matchMedia||function(e,t){var n,r=e.documentElement,i=r.firstElementChild||r.firstChild,s=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(s,i),n=o.offsetWidth===42,r.removeChild(s),{matches:n,media:e}}}(n),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e,t){var r={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(e),function(e,n){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,r){function i(e){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+u.join(t+" ")+t).split(" "),i;for(i in n)if(o[n[i]]!==r)return!0}function h(){var n=t,r=!!n.document.createElementNS&&!!n.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&(!n.opera||navigator.userAgent.indexOf("Chrome")!==-1),i=function(t){(!t||!r)&&e("html").addClass("ui-nosvg")},s=new n.Image;s.onerror=function(){i(!1)},s.onload=function(){i(s.width===1&&s.height===1)},s.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function p(){var i="transform-3d",o=e.mobile.media("(-"+u.join("-"+i+"),(-")+"-"+i+"),("+i+")"),a,f,l;if(o)return!!o;a=n.createElement("div"),f={MozTransform:"-moz-transform",transform:"transform"},s.append(a);for(l in f)a.style[l]!==r&&(a.style[l]="translate3d( 100px, 1px, 1px )",o=t.getComputedStyle(a).getPropertyValue(f[l]));return!!o&&o!=="none"}function d(){var t=location.protocol+"//"+location.host+location.pathname+"ui-dir/",n=e("head base"),r=null,i="",o,u;return n.length?i=n.attr("href"):n=r=e("<base>",{href:t}).appendTo("head"),o=e("<a href='testurl' />").prependTo(s),u=o[0].href,n[0].href=i||location.pathname,r&&r.remove(),u.indexOf(t)===0}function v(){var e=n.createElement("x"),r=n.documentElement,i=t.getComputedStyle,s;return"pointerEvents"in e.style?(e.style.pointerEvents="auto",e.style.pointerEvents="x",r.appendChild(e),s=i&&i(e,"").pointerEvents==="auto",r.removeChild(e),!!s):!1}function m(){var e=n.createElement("div");return typeof e.getBoundingClientRect!="undefined"}function g(){var e=t,n=navigator.userAgent,r=navigator.platform,i=n.match(/AppleWebKit\/([0-9]+)/),s=!!i&&i[1],o=n.match(/Fennec\/([0-9]+)/),u=!!o&&o[1],a=n.match(/Opera Mobi\/([0-9]+)/),f=!!a&&a[1];return(r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1||r.indexOf("iPod")>-1)&&s&&s<534||e.operamini&&{}.toString.call(e.operamini)==="[object OperaMini]"||a&&f<7458||n.indexOf("Android")>-1&&s&&s<533||u&&u<6||"palmGetResource"in t&&s&&s<534||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var s=e("<body>").prependTo("html"),o=s[0].style,u=["Webkit","Moz","O"],a="palmGetResource"in t,f=t.operamini&&{}.toString.call(t.operamini)==="[object OperaMini]",l=t.blackberry&&!i("-webkit-transform"),c;e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=n.createElement("div"),r=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(r[0]);return e>4?e:!e}(),e.extend(e.support,{pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&t.navigator.userAgent.search(/CriOS/)===-1,mediaquery:e.mobile.media("only all"),cssPseudoElement:!!i("content"),touchOverflow:!!i("overflowScrolling"),cssTransform3d:p(),boxShadow:!!i("boxShadow")&&!l,fixedPosition:g(),scrollTop:("pageXOffset"in t||"scrollTop"in n.documentElement||"scrollTop"in s[0])&&!a&&!f,dynamicBaseTag:d(),cssPointerEvents:v(),boundingRect:m(),inlineSVG:h}),s.remove(),c=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),e.mobile.gradeA=function(){return(e.support.mediaquery&&e.support.cssPseudoElement||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=8)&&(e.support.boundingRect||e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/)!==null)},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||f||c,c&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-noboxshadow")}(e),function(e,t){var n=e.mobile.window,r,i=function(){};e.event.special.beforenavigate={setup:function(){n.on("navigate",i)},teardown:function(){n.off("navigate",i)}},e.event.special.navigate=r={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===!0},popstate:function(t){var r=new e.Event("navigate"),i=new e.Event("beforenavigate"),s=t.originalEvent.state||{};i.originalEvent=t,n.trigger(i);if(i.isDefaultPrevented())return;t.historyState&&e.extend(s,t.historyState),r.originalEvent=t,setTimeout(function(){n.trigger(r,{state:s})},0)},hashchange:function(t){var r=new e.Event("navigate"),i=new e.Event("beforenavigate");i.originalEvent=t,n.trigger(i);if(i.isDefaultPrevented())return;r.originalEvent=t,n.trigger(r,{state:t.hashchangeState||{}})},setup:function(){if(r.bound)return;r.bound=!0,r.isPushStateEnabled()?(r.originalEventName="popstate",n.bind("popstate.navigate",r.popstate)):r.isHashChangeEnabled()&&(r.originalEventName="hashchange",n.bind("hashchange.navigate",r.hashchange))}}}(e),function(e,n){var r,i,s="&ui-state=dialog";e.mobile.path=r={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=this.parseUrl(e||location.href),n=e?t:location,r=t.hash;return r=r==="#"?"":r,n.protocol+t.doubleSlash+n.host+(n.protocol!==""&&n.pathname.substring(0,1)!=="/"?"/":"")+n.pathname+n.search+r},getDocumentUrl:function(t){return t?e.extend({},r.documentUrl):r.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if(e.type(t)==="object")return t;var n=r.urlParseRE.exec(t||"")||[];return{href:n[0]||"",hrefNoHash:n[1]||"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""}},makePathAbsolute:function(e,t){var n,r,i,s;if(e&&e.charAt(0)==="/")return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",n=t?t.split("/"):[],r=e.split("/");for(i=0;i<r.length;i++){s=r[i];switch(s){case".":break;case"..":n.length&&n.pop();break;default:n.push(s)}}return"/"+n.join("/")},isSameDomain:function(e,t){return r.parseUrl(e).domain.toLowerCase()===r.parseUrl(t).domain.toLowerCase()},isRelativeUrl:function(e){return r.parseUrl(e).protocol===""},isAbsoluteUrl:function(e){return r.parseUrl(e).protocol!==""},makeUrlAbsolute:function(e,t){if(!r.isRelativeUrl(e))return e;t===n&&(t=this.documentBase);var i=r.parseUrl(e),s=r.parseUrl(t),o=i.protocol||s.protocol,u=i.protocol?i.doubleSlash:i.doubleSlash||s.doubleSlash,a=i.authority||s.authority,f=i.pathname!=="",l=r.makePathAbsolute(i.pathname||s.filename,s.pathname),c=i.search||!f&&s.search||"",h=i.hash;return o+u+a+l+c+h},addSearchParams:function(t,n){var i=r.parseUrl(t),s=typeof n=="object"?e.param(n):n,o=i.search||"?";return i.hrefNoSearch+o+(o.charAt(o.length-1)!=="?"?"&":"")+s+(i.hash||"")},convertUrlToDataUrl:function(e){var n=e,i=r.parseUrl(e);return r.isEmbeddedPage(i)?n=i.hash.split(s)[0].replace(/^#/,"").replace(/\?.*$/,""):r.isSameDomain(i,this.documentBase)&&(n=i.hrefNoHash.replace(this.documentBase.domain,"").split(s)[0]),t.decodeURIComponent(n)},get:function(e){return e===n&&(e=r.parseLocation().hash),r.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return r.stripHash(e.replace(/\?.*$/,"").replace(s,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=r.parseUrl(e);return!!t.protocol&&t.domain.toLowerCase()!==this.documentUrl.domain.toLowerCase()},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=r.parseUrl(e);return t.protocol!==""?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var n,i,s,o,u,a=this.isPath(e),f=this.parseUrl(e),l=f.hash,c="";t||(a?t=r.getLocation():(u=r.getDocumentUrl(!0),r.isPath(u.hash)?t=r.squash(u.href):t=u.href)),i=a?r.stripHash(e):e,i=r.isPath(f.hash)?r.stripHash(f.hash):i,o=i.indexOf(this.uiStateKey),o>-1&&(c=i.slice(o),i=i.slice(0,o)),n=r.makeUrlAbsolute(i,t),s=this.parseUrl(n).search;if(a){if(r.isPath(l)||l.replace("#","").indexOf(this.uiStateKey)===0)l="";c&&l.indexOf(this.uiStateKey)===-1&&(l+=c),l.indexOf("#")===-1&&l!==""&&(l="#"+l),n=r.parseUrl(n),n=n.protocol+n.doubleSlash+n.host+n.pathname+s+l}else n+=n.indexOf("#")>-1?c:"#"+c;return n},isPreservableHash:function(e){return e.replace("#","").indexOf(this.uiStateKey)===0},hashToSelector:function(e){var t=e.substring(0,1)==="#";return t&&(e=e.substring(1)),(t?"#":"")+e.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(e){return e&&e.split(s)[0]},isFirstPageUrl:function(t){var i=r.parseUrl(r.makeUrlAbsolute(t,this.documentBase)),s=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,o=e.mobile.firstPage,u=o&&o[0]?o[0].id:n;return s&&(!i.hash||i.hash==="#"||u&&i.hash.replace(/^#/,"")===u)},isPermittedCrossDomainRequest:function(t,n){return e.mobile.allowCrossDomainPages&&(t.protocol==="file:"||t.protocol==="content:")&&n.search(/^https?:/)!==-1}},r.documentUrl=r.parseLocation(),i=e("head").find("base"),r.documentBase=i.length?r.parseUrl(r.makeUrlAbsolute(i.attr("href"),r.documentUrl.href)):r.documentUrl,r.documentBaseDiffers=r.documentUrl.hrefNoHash!==r.documentBase.hrefNoHash,r.getDocumentBase=function(t){return t?e.extend({},r.documentBase):r.documentBase.href},e.extend(e.mobile,{getDocumentUrl:r.getDocumentUrl,getDocumentBase:r.getDocumentBase})}(e),function(e,t){e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&t.hash.indexOf("#")===-1&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,n){t=t||this.stack;var r,i,s=t.length,o;for(i=0;i<s;i++){r=t[i];if(decodeURIComponent(e)===decodeURIComponent(r.url)||decodeURIComponent(e)===decodeURIComponent(r.hash)){o=i;if(n)return o}}return o},closest:function(e){var n,r=this.activeIndex;return n=this.find(e,this.stack.slice(0,r)),n===t&&(n=this.find(e,this.stack.slice(r),!0),n=n===t?n:n+r),n},direct:function(n){var r=this.closest(n.url),i=this.activeIndex;r!==t&&(this.activeIndex=r,this.previousIndex=i),r<i?(n.present||n.back||e.noop)(this.getActive(),"back"):r>i?(n.present||n.forward||e.noop)(this.getActive(),"forward"):r===t&&n.missing&&n.missing(this.getActive())}})}(e),function(e,r){var i=e.mobile.path,s=location.href;e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{squash:function(r,s){var o,u,a=i.isPath(r)?i.stripHash(r):r;return u=i.squash(r),o=e.extend({hash:a,url:u},s),t.history.replaceState(o,o.title||n.title,u),o},hash:function(e,t){var n,r,s,o;return n=i.parseUrl(e),r=i.parseLocation(),r.pathname+r.search===n.pathname+n.search?s=n.hash?n.hash:n.pathname+n.search:i.isPath(e)?(o=i.parseUrl(t),s=o.pathname+o.search+(i.isPreservableHash(o.hash)?o.hash.replace("#",""):"")):s=e,s},go:function(r,s,o){var u,a,f,l,c=e.event.special.navigate.isPushStateEnabled();a=i.squash(r),f=this.hash(r,a),o&&f!==i.stripHash(i.parseLocation().hash)&&(this.preventNextHashChange=o),this.preventHashAssignPopState=!0,t.location.hash=f,this.preventHashAssignPopState=!1,u=e.extend({url:a,hash:f,title:n.title},s),c&&(l=new e.Event("popstate"),l.originalEvent={type:"popstate",state:null},this.squash(r,u),o||(this.ignorePopState=!0,e.mobile.window.trigger(l))),this.history.add(u.url,u)},popstate:function(t){var n,r;if(!e.event.special.navigate.isPushStateEnabled())return;if(this.preventHashAssignPopState){this.preventHashAssignPopState=!1,t.stopImmediatePropagation();return}if(this.ignorePopState){this.ignorePopState=!1;return}if(!t.originalEvent.state&&this.history.stack.length===1&&this.ignoreInitialHashChange){this.ignoreInitialHashChange=!1;if(location.href===s){t.preventDefault();return}}n=i.parseLocation().hash;if(!t.originalEvent.state&&n){r=this.squash(n),this.history.add(r.url,r),t.historyState=r;return}this.history.direct({url:(t.originalEvent.state||{}).url||n,present:function(n,r){t.historyState=e.extend({},n),t.historyState.direction=r}})},hashchange:function(t){var r,s;if(!e.event.special.navigate.isHashChangeEnabled()||e.event.special.navigate.isPushStateEnabled())return;if(this.preventNextHashChange){this.preventNextHashChange=!1,t.stopImmediatePropagation();return}r=this.history,s=i.parseLocation().hash,this.history.direct({url:s,present:function(n,r){t.hashchangeState=e.extend({},n),t.hashchangeState.direction=r},missing:function(){r.add(s,{hash:s,title:n.title})}})}})}(e),function(e,t){e.mobile.navigate=function(t,n,r){e.mobile.navigate.navigator.go(t,n,r)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var n=e.mobile.path.parseLocation();e.mobile.navigate.history.add(n.href,{hash:n.hash})}(e),function(e,t){var r={animation:{},transition:{}},i=n.createElement("a"),s=["","webkit-","moz-","o-"];e.each(["animation","transition"],function(n,o){var u=n===0?o+"-"+"name":o;e.each(s,function(n,s){if(i.style[e.camelCase(s+u)]!==t)return r[o].prefix=s,!1}),r[o].duration=e.camelCase(r[o].prefix+o+"-"+"duration"),r[o].event=e.camelCase(r[o].prefix+o+"-"+"end"),r[o].prefix===""&&(r[o].event=r[o].event.toLowerCase())}),e.support.cssTransitions=r.transition.prefix!==t,e.support.cssAnimations=r.animation.prefix!==t,e(i).remove(),e.fn.animationComplete=function(i,s,o){var u,a,f=this,l=function(){clearTimeout(u),i.apply(this,arguments)},c=!s||s==="animation"?"animation":"transition";if(e.support.cssTransitions&&c==="transition"||e.support.cssAnimations&&c==="animation"){if(o===t){e(this).context!==n&&(a=parseFloat(e(this).css(r[c].duration))*3e3);if(a===0||a===t||isNaN(a))a=e.fn.animationComplete.defaultDuration}return u=setTimeout(function(){e(f).off(r[c].event,l),i.apply(f)},a),e(this).one(r[c].event,l)}return setTimeout(e.proxy(i,this),0),e(this)},e.fn.animationComplete.defaultDuration=1e3}(e),function(e,t,n,r){function T(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function N(t,n){var i=t.type,s,o,a,l,c,h,p,d,v;t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,i.search(/^(mouse|click)/)>-1&&(o=f);if(s)for(p=o.length,l;p;)l=o[--p],t[l]=s[l];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=T(s),i=a.touches,c=a.changedTouches,h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,v=u.length;d<v;d++)l=u[d],t[l]=h[l]}return t}function C(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function k(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function L(){g=!1}function A(){g=!0}function O(){E=0,v.length=0,m=!1,A()}function M(){L()}function _(){D(),c=setTimeout(function(){c=0,O()},e.vmouse.resetTimerDuration)}function D(){c&&(clearTimeout(c),c=0)}function P(t,n,r){var i;if(r&&r[t]||!r&&k(n.target,t))i=N(n,t),e(n.target).trigger(i);return i}function H(t){var n=e.data(t.target,s),r;!m&&(!E||E!==n)&&(r=P("v"+t.type,t),r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function B(t){var n=T(t).touches,r,i,o;n&&n.length===1&&(r=t.target,i=C(r),i.hasVirtualBinding&&(E=w++,e.data(r,s,E),D(),M(),d=!1,o=T(t).touches[0],h=o.pageX,p=o.pageY,P("vmouseover",t,i),P("vmousedown",t,i)))}function j(e){if(g)return;d||P("vmousecancel",e,C(e.target)),d=!0,_()}function F(t){if(g)return;var n=T(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=C(t.target);d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,d&&!r&&P("vmousecancel",t,s),P("vmousemove",t,s),_()}function I(e){if(g)return;A();var t=C(e.target),n,r;P("vmouseup",e,t),d||(n=P("vclick",e,t),n&&n.isDefaultPrevented()&&(r=T(e).changedTouches[0],v.push({touchID:E,x:r.clientX,y:r.clientY}),m=!0)),P("vmouseout",e,t),d=!1,_()}function q(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function R(){}function U(t){var n=t.substr(1);return{setup:function(){q(this)||e.data(this,i,{});var r=e.data(this,i);r[t]=!0,l[t]=(l[t]||0)+1,l[t]===1&&b.bind(n,H),e(this).bind(n,R),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",B).bind("touchend",I).bind("touchmove",F).bind("scroll",j))},teardown:function(){--l[t],l[t]||b.unbind(n,H),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",B).unbind("touchmove",F).unbind("touchend",I).unbind("scroll",j));var r=e(this),s=e.data(this,i);s&&(s[t]=!1),r.unbind(n,R),q(this)||r.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S,x;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(x=0;x<o.length;x++)e.event.special[o[x]]=U(o[x]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,S=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-i)<S&&Math.abs(f.y-o)<S||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)}(e,t,n),function(e,t,r){function l(t,n,i,s){var o=i.type;i.type=n,s?e.event.trigger(i,r,t):e.event.dispatch.call(t,i),i.type=o}var i=e(n),s=e.mobile.support.touch,o="touchmove scroll",u=s?"touchstart":"mousedown",a=s?"touchend":"mouseup",f=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function s(e,n){r=n,l(t,r?"scrollstart":"scrollstop",e)}var t=this,n=e(t),r,i;n.bind(o,function(t){if(!e.event.special.scrollstart.enabled)return;r||s(t,!0),clearTimeout(i),i=setTimeout(function(){s(t,!1)},50)})},teardown:function(){e(this).unbind(o)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),r=!1;n.bind("vmousedown",function(s){function a(){clearTimeout(u)}function f(){a(),n.unbind("vclick",c).unbind("vmouseup",a),i.unbind("vmousecancel",f)}function c(e){f(),!r&&o===e.target?l(t,"tap",e):r&&e.preventDefault()}r=!1;if(s.which&&s.which!==1)return!1;var o=s.target,u;n.bind("vmouseup",a).bind("vclick",c),i.bind("vmousecancel",f),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(r=!0),l(t,"taphold",e.Event("taphold",{target:o}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),i.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,r=t.pageYOffset,i=e.clientX,s=e.clientY;if(e.pageY===0&&Math.floor(s)>Math.floor(e.pageY)||e.pageX===0&&Math.floor(i)>Math.floor(e.pageX))i-=n,s-=r;else if(s<e.pageY-r||i<e.pageX-n)i=e.pageX-n,s=e.pageY-r;return{x:i,y:s}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y]}},handleSwipe:function(t,n,r,i){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return l(r,"swipe",e.Event("swipe",{target:i,swipestart:t,swipestop:n}),!0),l(r,s,e.Event(s,{target:i,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,r=e(n),s={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=s,s.start=function(t){if(e.event.special.swipe.eventInProgress)return;e.event.special.swipe.eventInProgress=!0;var r,o=e.event.special.swipe.start(t),u=t.target,l=!1;s.move=function(t){if(!o||t.isDefaultPrevented())return;r=e.event.special.swipe.stop(t),l||(l=e.event.special.swipe.handleSwipe(o,r,n,u),l&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(o.coords[0]-r.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()},s.stop=function(){l=!0,e.event.special.swipe.eventInProgress=!1,i.off(f,s.move),s.move=null},i.on(f,s.move).one(a,s.stop)},r.on(u,s.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,t.length--,t.length===0&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(u,n.start),n.move&&i.off(f,n.move),n.stop&&i.off(a,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",n)},teardown:function(){e(this).unbind("resize",n)}};var t=250,n=function(){s=(new Date).getTime(),o=s-r,o>=t?(r=s,e(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,t-o))},r=0,i,s,o}(e),function(e,t){function p(){var e=s();e!==o&&(o=e,r.trigger(i))}var r=e(t),i="orientationchange",s,o,u,a,f={0:!0,180:!0},l,c,h;if(e.support.orientation){l=t.innerWidth||r.width(),c=t.innerHeight||r.height(),h=50,u=l>c&&l-c>h,a=f[t.orientation];if(u&&a||!u&&!a)f={"-90":!0,90:!0}}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;o=s(),r.bind("throttledresize",p)},teardown:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;r.unbind("throttledresize",p)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=s(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=s=function(){var r=!0,i=n.documentElement;return e.support.orientation?r=f[t.orientation]:r=i&&i.clientWidth/i.clientHeight<1.1,r?"portrait":"landscape"},e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}(e,this),function(e,t){var n=e("head").children("base"),r={element:n.length?n:e("<base>",{href:e.mobile.path.documentBase.hrefNoHash}).prependTo(e("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(t){if(!e.mobile.dynamicBaseEnabled)return;e.support.dynamicBaseTag&&r.element.attr("href",e.mobile.path.makeUrlAbsolute(t,e.mobile.path.documentBase))},rewrite:function(t,n){var i=e.mobile.path.get(t);n.find(r.linkSelector).each(function(t,n){var r=e(n).is("[href]")?"href":e(n).is("[src]")?"src":"action",s=e.mobile.path.parseLocation(),o=e(n).attr(r);o=o.replace(s.protocol+s.doubleSlash+s.host+s.pathname,""),/^(\w+:|#|\/)/.test(o)||e(n).attr(r,i+o)})},reset:function(){r.element.attr("href",e.mobile.path.documentBase.hrefNoSearch)}};e.mobile.base=r}(e),function(e,t){e.mobile.widgets={};var n=e.widget,r=e.mobile.keepNative;e.widget=function(n){return function(){var r=n.apply(this,arguments),i=r.prototype.widgetName;return r.initSelector=r.prototype.initSelector!==t?r.prototype.initSelector:":jqmData(role='"+i+"')",e.mobile.widgets[i]=r,r}}(e.widget),e.extend(e.widget,n),e.mobile.document.on("create",function(t){e(t.target).enhanceWithin()}),e.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:e.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){if(this._trigger("beforecreate")===!1)return!1;this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),e.mobile.getAttribute(this.element[0],"role")==="dialog"&&e.mobile.dialog&&this.element.dialog()},_enhance:function(){var n="data-"+e.mobile.ns,r=this;this.options.role&&this.element.attr("data-"+e.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+n+"role='content']").each(function(){var i=e(this),s=this.getAttribute(n+"theme")||t;r.options.contentTheme=s||r.options.contentTheme||r.options.dialog&&r.options.theme||r.element.jqmData("role")==="dialog"&&r.options.theme,i.addClass("ui-content"),r.options.contentTheme&&i.addClass("ui-body-"+r.options.contentTheme),i.attr("role","main").addClass("ui-content")})},bindRemove:function(t){var n=this.element;!n.data("mobile-page").options.domCache&&n.is(":jqmData(external-page='true')")&&n.bind("pagehide.remove",t||function(t,n){if(!n.samePage){var r=e(this),i=new e.Event("pageremove");r.trigger(i),i.isDefaultPrevented()||r.removeWithDependents()}})},_setOptions:function(n){n.theme!==t&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+n.theme),n.contentTheme!==t&&this.element.find("[data-"+e.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+n.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(e){this.element.parent().pagecontainer({theme:e||this.options.theme})},keepNativeSelector:function(){var t=this.options,n=e.trim(t.keepNative||""),i=e.trim(e.mobile.keepNative),s=e.trim(t.keepNativeDefault),o=r===i?"":i,u=o===""?s:"";return(n?[n]:[]).concat(o?[o]:[]).concat(u?[u]:[]).join(", ")}})}(e),function(e,r){e.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",e.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(e){e.theme!==r&&e.theme!=="none"?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+e.theme):e.theme!==r&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(e)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(!this.setLastScrollEnabled)return;var e=this._getActiveHistory(),t,n,r;e&&(t=this._getScroll(),n=this._getMinScroll(),r=this._getDefaultScroll(),e.lastScroll=t<n?r:t)},_delayedRecordScroll:function(){setTimeout(e.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return e.mobile.minScrollBack},_getDefaultScroll:function(){return e.mobile.defaultHomeScroll},_filterNavigateEvents:function(t,n){var r;if(t.originalEvent&&t.originalEvent.isDefaultPrevented())return;r=t.originalEvent.type.indexOf("hashchange")>-1?n.state.hash:n.state.url,r||(r=this._getHash());if(!r||r==="#"||r.indexOf("#"+e.mobile.path.uiStateKey)===0)r=location.href;this._handleNavigate(r,n.state)},_getHash:function(){return e.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return e.mobile.firstPage},_getHistory:function(){return e.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return e.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(n){if(e.mobile.hashListeningEnabled)t.history.go(n);else{var r=e.mobile.navigate.history.activeIndex,i=r+parseInt(n,10),s=e.mobile.navigate.history.stack[i].url,o=n>=1?"forward":"back";e.mobile.navigate.history.activeIndex=i,e.mobile.navigate.history.previousIndex=r,this.change(s,{direction:o,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(t){var n;return e.type(t)==="string"&&(t=e.mobile.path.stripHash(t)),t&&(n=this._getHistory(),t=e.mobile.path.isPath(t)?t:e.mobile.path.makeUrlAbsolute("#"+t,this._getDocumentBase())),t||this._getInitialContent()},_transitionFromHistory:function(e,t){var n=this._getHistory(),r=e==="back"?n.getLast():n.getActive();return r&&r.transition||t},_handleDialog:function(t,n){var r,i,s=this.getActivePage();return s&&!s.data("mobile-dialog")?(n.direction==="back"?this.back():this.forward(),!1):(r=n.pageUrl,i=this._getActiveHistory(),e.extend(t,{role:i.role,transition:this._transitionFromHistory(n.direction,t.transition),reverse:n.direction==="back"}),r)},_handleNavigate:function(t,n){var r=e.mobile.path.stripHash(t),i=this._getHistory(),s=i.stack.length===0?"none":this._transitionFromHistory(n.direction),o={changeHash:!1,fromHashChange:!0,reverse:n.direction==="back"};e.extend(o,n,{transition:s});if(i.activeIndex>0&&r.indexOf(e.mobile.dialogHashKey)>-1){r=this._handleDialog(o,n);if(r===!1)return}this._changeContent(this._handleDestination(r),o)},_changeContent:function(t,n){e.mobile.changePage(t,n)},_getBase:function(){return e.mobile.base},_getNs:function(){return e.mobile.ns},_enhance:function(e,t){return e.page({role:t})},_include:function(e,t){e.appendTo(this.element),this._enhance(e,t.role),e.page("bindRemove")},_find:function(t){var n=this._createFileUrl(t),r=this._createDataUrl(t),i,s=this._getInitialContent();return i=this.element.children("[data-"+this._getNs()+"url='"+e.mobile.path.hashToSelector(r)+"']"),i.length===0&&r&&!e.mobile.path.isPath(r)&&(i=this.element.children(e.mobile.path.hashToSelector("#"+r)).attr("data-"+this._getNs()+"url",r).jqmData("url",r)),i.length===0&&e.mobile.path.isFirstPageUrl(n)&&s&&s.parent().length&&(i=e(s)),i},_getLoader:function(){return e.mobile.loading()},_showLoading:function(t,n,r,i){if(this._loadMsg)return;this._loadMsg=setTimeout(e.proxy(function(){this._getLoader().loader("show",n,r,i),this._loadMsg=0},this),t)},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.proxy(this,"_hideLoading"),1500)},_parse:function(t,n){var r,i=e("<div></div>");return i.get(0).innerHTML=t,r=i.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),r.length||(r=e("<div data-"+this._getNs()+"role='page'>"+(t.split(/<\/?body[^>]*>/gmi)[1]||"")+"</div>")),r.attr("data-"+this._getNs()+"url",this._createDataUrl(n)).attr("data-"+this._getNs()+"external-page",!0),r},_setLoadedTitle:function(t,n){var r=n.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;r&&!t.jqmData("title")&&(r=e("<div>"+r+"</div>").text(),t.jqmData("title",r))},_isRewritableBaseTag:function(){return e.mobile.dynamicBaseEnabled&&!e.support.dynamicBaseTag},_createDataUrl:function(t){return e.mobile.path.convertUrlToDataUrl(t)},_createFileUrl:function(t){return e.mobile.path.getFilePath(t)},_triggerWithDeprecated:function(t,n,r){var i=e.Event("page"+t),s=e.Event(this.widgetName+t);return(r||this.element).trigger(i,n),this._trigger(t,s,n),{deprecatedEvent:i,event:s}},_loadSuccess:function(t,n,i,s){var o=this._createFileUrl(t);return e.proxy(function(u,a,f){var l,c=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),h=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");c.test(u)&&RegExp.$1&&h.test(RegExp.$1)&&RegExp.$1&&(o=e.mobile.path.getFilePath(e("<div>"+RegExp.$1+"</div>").text()),o=this.window[0].encodeURIComponent(o)),i.prefetch===r&&this._getBase().set(o),l=this._parse(u,o),this._setLoadedTitle(l,u),n.xhr=f,n.textStatus=a,n.page=l,n.content=l,n.toPage=l;if(this._triggerWithDeprecated("load",n).event.isDefaultPrevented())return;this._isRewritableBaseTag()&&l&&this._getBase().rewrite(o,l),this._include(l,i),i.showLoadMsg&&this._hideLoading(),s.resolve(t,i,l)},this)},_loadDefaults:{type:"get",data:r,reloadPage:!1,reload:!1,role:r,showLoadMsg:!1,loadMsgDelay:50},load:function(t,n){var i=n&&n.deferred||e.Deferred(),s=n&&n.reload===r&&n.reloadPage!==r?{reload:n.reloadPage}:{},o=e.extend({},this._loadDefaults,n,s),u=null,a=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault()),f,l,c,h;return o.data&&o.type==="get"&&(a=e.mobile.path.addSearchParams(a,o.data),o.data=r),o.data&&o.type==="post"&&(o.reload=!0),f=this._createFileUrl(a),l=this._createDataUrl(a),u=this._find(a),u.length===0&&e.mobile.path.isEmbeddedPage(f)&&!e.mobile.path.isFirstPageUrl(f)?(i.reject(a,o),i.promise()):(this._getBase().reset(),u.length&&!o.reload?(this._enhance(u,o.role),i.resolve(a,o,u),o.prefetch||this._getBase().set(t),i.promise()):(h={url:t,absUrl:a,toPage:t,prevPage:n?n.fromPage:r,dataUrl:l,deferred:i,options:o},c=this._triggerWithDeprecated("beforeload",h),c.deprecatedEvent.isDefaultPrevented()||c.event.isDefaultPrevented()?i.promise():(o.showLoadMsg&&this._showLoading(o.loadMsgDelay),o.prefetch===r&&this._getBase().reset(),!e.mobile.allowCrossDomainPages&&!e.mobile.path.isSameDomain(e.mobile.path.documentUrl,a)?(i.reject(a,o),i.promise()):(e.ajax({url:f,type:o.type,data:o.data,contentType:o.contentType,dataType:"html",success:this._loadSuccess(a,h,o,i),error:this._loadError(a,h,o,i)}),i.promise()))))},_loadError:function(t,n,r,i){return e.proxy(function(s,o,u){this._getBase().set(e.mobile.path.get()),n.xhr=s,n.textStatus=o,n.errorThrown=u;var a=this._triggerWithDeprecated("loadfailed",n);if(a.deprecatedEvent.isDefaultPrevented()||a.event.isDefaultPrevented())return;r.showLoadMsg&&this._showError(),i.reject(t,r)},this)},_getTransitionHandler:function(t){return t=e.mobile._maybeDegradeTransition(t),e.mobile.transitionHandlers[t]||e.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(t,n,r){var i=!1;r=r||"",n&&(t[0]===n[0]&&(i=!0),this._triggerWithDeprecated(r+"hide",{nextPage:t,toPage:t,prevPage:n,samePage:i},n)),this._triggerWithDeprecated(r+"show",{prevPage:n||e(""),toPage:t},t)},_cssTransition:function(t,n,r){var i=r.transition,s=r.reverse,o=r.deferred,u,a;this._triggerCssTransitionEvents(t,n,"before"),this._hideLoading(),u=this._getTransitionHandler(i),a=(new u(i,s,t,n)).transition(),a.done(e.proxy(function(){this._triggerCssTransitionEvents(t,n)},this)),a.done(function(){o.resolve.apply(o,arguments)})},_releaseTransitionLock:function(){s=!1,i.length>0&&e.mobile.changePage.apply(null,i.pop())},_removeActiveLinkClass:function(t){e.mobile.removeActiveLinkClass(t)},_loadUrl:function(t,n,r){r.target=t,r.deferred=e.Deferred(),this.load(t,r),r.deferred.done(e.proxy(function(e,t,r){s=!1,t.absUrl=n.absUrl,this.transition(r,n,t)},this)),r.deferred.fail(e.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",n)},this))},_triggerPageBeforeChange:function(t,n,r){var i;return n.prevPage=this.activePage,e.extend(n,{toPage:t,options:r}),e.type(t)==="string"?n.absUrl=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault()):n.absUrl=r.absUrl,i=this._triggerWithDeprecated("beforechange",n),i.event.isDefaultPrevented()||i.deprecatedEvent.isDefaultPrevented()?!1:!0},change:function(t,n){if(s){i.unshift(arguments);return}var r=e.extend({},e.mobile.changePage.defaults,n),o={};r.fromPage=r.fromPage||this.activePage;if(!this._triggerPageBeforeChange(t,o,r))return;t=o.toPage,e.type(t)==="string"?(s=!0,this._loadUrl(t,o,r)):this.transition(t,o,r)},transition:function(t,o,u){var a,f,l,c,h,p,d,v,m,g,y,b,w,E;if(s){i.unshift([t,u]);return}if(!this._triggerPageBeforeChange(t,o,u))return;o.prevPage=u.fromPage,E=this._triggerWithDeprecated("beforetransition",o);if(E.deprecatedEvent.isDefaultPrevented()||E.event.isDefaultPrevented())return;s=!0,t[0]===e.mobile.firstPage[0]&&!u.dataUrl&&(u.dataUrl=e.mobile.path.documentUrl.hrefNoHash),a=u.fromPage,f=u.dataUrl&&e.mobile.path.convertUrlToDataUrl(u.dataUrl)||t.jqmData("url"),l=f,c=e.mobile.path.getFilePath(f),h=e.mobile.navigate.history.getActive(),p=e.mobile.navigate.history.activeIndex===0,d=0,v=n.title,m=(u.role==="dialog"||t.jqmData("role")==="dialog")&&t.jqmData("dialog")!==!0;if(a&&a[0]===t[0]&&!u.allowSamePageTransition){s=!1,this._triggerWithDeprecated("transition",o),this._triggerWithDeprecated("change",o),u.fromHashChange&&e.mobile.navigate.history.direct({url:f});return}t.page({role:u.role}),u.fromHashChange&&(d=u.direction==="back"?-1:1);try{n.activeElement&&n.activeElement.nodeName.toLowerCase()!=="body"?e(n.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(S){}g=!1,m&&h&&(h.url&&h.url.indexOf(e.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&e.mobile.navigate.history.activeIndex>0&&(u.changeHash=!1,g=!0),f=h.url||"",!g&&f.indexOf("#")>-1?f+=e.mobile.dialogHashKey:f+="#"+e.mobile.dialogHashKey),y=h?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").text():v,!!y&&v===n.title&&(v=y),t.jqmData("title")||t.jqmData("title",v),u.transition=u.transition||(d&&!p?h.transition:r)||(m?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!d&&g&&(e.mobile.navigate.history.getActive().pageUrl=l),f&&!u.fromHashChange&&(!e.mobile.path.isPath(f)&&f.indexOf("#")<0&&(f="#"+f),b={transition:u.transition,title:v,pageUrl:l,role:u.role},u.changeHash!==!1&&e.mobile.hashListeningEnabled?e.mobile.navigate(this.window[0].encodeURI(f),b,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(f,b)),n.title=v,e.mobile.activePage=t,this.activePage=t,u.reverse=u.reverse||d<0,w=e.Deferred(),this._cssTransition(t,a,{transition:u.transition,reverse:u.reverse,deferred:w}),w.done(e.proxy(function(n,r,i,s,a){e.mobile.removeActiveLinkClass(),u.duplicateCachedPage&&u.duplicateCachedPage.remove(),a||e.mobile.focusPage(t),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",o),this._triggerWithDeprecated("change",o)},this))},_findBaseWithDefault:function(){var t=this.activePage&&e.mobile.getClosestBaseUrl(this.activePage);return t||e.mobile.path.documentBase.hrefNoHash}}),e.mobile.navreadyDeferred=e.Deferred();var i=[],s=!1}(e),function(e,r){function f(e){while(e){if(typeof e.nodeName=="string"&&e.nodeName.toLowerCase()==="a")break;e=e.parentNode}return e}var i=e.Deferred(),s=e.Deferred(),o=function(){s.resolve(),s=null},u=e.mobile.path.documentUrl,a=null;e.mobile.loadPage=function(t,n){var r;return n=n||{},r=n.pageContainer||e.mobile.pageContainer,n.deferred=e.Deferred(),r.pagecontainer("load",t,n),n.deferred.promise()},e.mobile.back=function(){var n=t.navigator;this.phonegapNavigationEnabled&&n&&n.app&&n.app.backHistory?n.app.backHistory():e.mobile.pageContainer.pagecontainer("back")},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),n=e.find(".ui-title:eq(0)");if(t.length){t.focus();return}n.length?n.focus():e.focus()},e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile.changePage=function(t,n){e.mobile.pageContainer.pagecontainer("change",t,n)},e.mobile.changePage.defaults={transition:r,reverse:!1,changeHash:!0,fromHashChange:!1,role:r,duplicateCachedPage:r,pageContainer:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1},e.mobile._registerInternalEvents=function(){var n=function(t,n){var r,i=!0,s,o,f;return!e.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target")?!1:(r=a&&a.attr("formaction")||t.attr("action"),f=(t.attr("method")||"get").toLowerCase(),r||(r=e.mobile.getClosestBaseUrl(t),f==="get"&&(r=e.mobile.path.parseUrl(r).hrefNoSearch),r===e.mobile.path.documentBase.hrefNoHash&&(r=u.hrefNoSearch)),r=e.mobile.path.makeUrlAbsolute(r,e.mobile.getClosestBaseUrl(t)),e.mobile.path.isExternal(r)&&!e.mobile.path.isPermittedCrossDomainRequest(u,r)?!1:(n||(s=t.serializeArray(),a&&a[0].form===t[0]&&(o=a.attr("name"),o&&(e.each(s,function(e,t){if(t.name===o)return o="",!1}),o&&s.push({name:o,value:a.attr("value")}))),i={url:r,options:{type:f,data:e.param(s),transition:t.jqmData("transition"),reverse:t.jqmData("direction")==="reverse",reloadPage:!0}}),i))};e.mobile.document.delegate("form","submit",function(t){var r;t.isDefaultPrevented()||(r=n(e(this)),r&&(e.mobile.changePage(r.url,r.options),t.preventDefault()))}),e.mobile.document.bind("vclick",function(t){var r,i,s=t.target,o=!1;if(t.which>1||!e.mobile.linkBindingEnabled)return;a=e(s);if(e.data(s,"mobile-button")){if(!n(e(s).closest("form"),!0))return;s.parentNode&&(s=s.parentNode)}else{s=f(s);if(!s||e.mobile.path.parseUrl(s.getAttribute("href")||"#").hash==="#")return;if(!e(s).jqmHijackable().length)return}~s.className.indexOf("ui-link-inherit")?s.parentNode&&(i=e.data(s.parentNode,"buttonElements")):i=e.data(s,"buttonElements"),i?s=i.outer:o=!0,r=e(s),o&&(r=r.closest(".ui-btn")),r.length>0&&!r.hasClass("ui-state-disabled")&&(e.mobile.removeActiveLinkClass(!0),e.mobile.activeClickedLink=r,e.mobile.activeClickedLink.addClass(e.mobile.activeBtnClass))}),e.mobile.document.bind("click",function(n){if(!e.mobile.linkBindingEnabled||n.isDefaultPrevented())return;var i=f(n.target),s=e(i),o=function(){t.setTimeout(function(){e.mobile.removeActiveLinkClass(!0)},200)},a,l,c,h,p,d,v;e.mobile.activeClickedLink&&e.mobile.activeClickedLink[0]===n.target.parentNode&&o();if(!i||n.which>1||!s.jqmHijackable().length)return;if(s.is(":jqmData(rel='back')"))return e.mobile.back(),!1;a=e.mobile.getClosestBaseUrl(s),l=e.mobile.path.makeUrlAbsolute(s.attr("href")||"#",a);if(!e.mobile.ajaxEnabled&&!e.mobile.path.isEmbeddedPage(l)){o();return}if(l.search("#")!==-1&&(!e.mobile.path.isExternal(l)||!e.mobile.path.isAbsoluteUrl(l))){l=l.replace(/[^#]*#/,"");if(!l){n.preventDefault();return}e.mobile.path.isPath(l)?l=e.mobile.path.makeUrlAbsolute(l,a):l=e.mobile.path.makeUrlAbsolute("#"+l,u.hrefNoHash)}c=s.is("[rel='external']")||s.is(":jqmData(ajax='false')")||s.is("[target]"),h=c||e.mobile.path.isExternal(l)&&!e.mobile.path.isPermittedCrossDomainRequest(u,l);if(h){o();return}p=s.jqmData("transition"),d=s.jqmData("direction")==="reverse"||s.jqmData("back"),v=s.attr("data-"+e.mobile.ns+"rel")||r,e.mobile.changePage(l,{transition:p,reverse:d,role:v,link:s}),n.preventDefault()}),e.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var n=e(this),r=n.attr("href");r&&e.inArray(r,t)===-1&&(t.push(r),e.mobile.loadPage(r,{role:n.attr("data-"+e.mobile.ns+"rel"),prefetch:!0}))})}),e.mobile.pageContainer.pagecontainer(),e.mobile.document.bind("pageshow",function(){s?s.done(e.mobile.resetActivePageHeight):e.mobile.resetActivePageHeight()}),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){i.resolve()}),n.readyState==="complete"?o():e.mobile.window.load(o),e.when(i,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()})}(e),function(e,t,n){e.mobile.Transition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(t,n,r,i){e.extend(this,{name:t,reverse:n,$to:r,$from:i,deferred:new e.Deferred})},cleanFrom:function(){this.$from.removeClass(e.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),e.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(e.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(e,t,n,r){this.beforeDoneOut(),this.startIn(e,t,n,r)},hideIn:function(e){this.$to.css("z-index",-10),e.call(this),this.$to.css("z-index","")},scrollPage:function(){e.event.special.scrollstart.enabled=!1,(e.mobile.hideUrlBar||this.toScroll!==e.mobile.defaultHomeScroll)&&t.scrollTo(0,this.toScroll),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},startIn:function(t,n,r,i){this.hideIn(function(){this.$to.addClass(e.mobile.activePageClass+this.toPreClass),i||e.mobile.focusPage(this.$to),this.$to.height(t+this.toScroll),r||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+n),r?this.doneIn():this.$to.animationComplete(e.proxy(function(){this.doneIn()},this))},startOut:function(t,n,r){this.beforeStartOut(t,n,r),this.$from.height(t+e.mobile.window.scrollTop()).addClass(this.name+" out"+n)},toggleViewportClass:function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var t,n=this.reverse?" reverse":"",r=e.mobile.getScreenHeight(),i=e.mobile.maxTransitionWidth!==!1&&e.mobile.window.width()>e.mobile.maxTransitionWidth;return this.toScroll=e.mobile.navigate.history.getActive().lastScroll||e.mobile.defaultHomeScroll,t=!e.support.cssTransitions||!e.support.cssAnimations||i||!this.name||this.name==="none"||Math.max(e.mobile.window.scrollTop(),this.toScroll)>e.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!t?this.startOut(r,n,t):this.doneOut(r,n,t,!0),this.deferred.promise()}})}(e,this),function(e){e.mobile.SerialTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.SerialTransition.prototype,e.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(t,n,r){this.$from.animationComplete(e.proxy(function(){this.doneOut(t,n,r)},this))}})}(e),function(e){e.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.ConcurrentTransition.prototype,e.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(e,t,n){this.doneOut(e,t,n)}})}(e),function(e){var t=function(){return e.mobile.getScreenHeight()*3};e.mobile.transitionHandlers={sequential:e.mobile.SerialTransition,simultaneous:e.mobile.ConcurrentTransition},e.mobile.defaultTransitionHandler=e.mobile.transitionHandlers.sequential,e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||t}(e),function(e,t,n){e.mobile.transitionFallbacks.flip="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.flow="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.pop="fade"}(e,this),function(e,t,n){e.mobile.transitionHandlers.slide=e.mobile.transitionHandlers.simultaneous,e.mobile.transitionFallbacks.slide="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.slidedown="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.slidefade="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.slideup="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.turn="fade"}(e,this),function(e,t){e.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e.mobile.page.prototype.options.degradeInputs=e.mobile.degradeInputs,e.mobile.degradeInputsWithin=function(t){t=e(t),t.find("input").not(e.mobile.page.prototype.keepNativeSelector()).each(function(){var t=e(this),n=this.getAttribute("type"),r=e.mobile.degradeInputs[n]||"text",i,s,o,u;e.mobile.degradeInputs[n]&&(i=e("<div>").html(t.clone()).html(),s=i.indexOf(" type=")>-1,o=s?/\s+type=["']?\w+['"]?/:/\/?>/,u=' type="'+r+'" data-'+e.mobile.ns+'type="'+n+'"'+(s?"":">"),t.replaceWith(i.replace(o,u)))})}}(e),function(e,t,n){e.widget("mobile.page",e.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(e.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(t){var r,i,s=this.options;t.corners!==n&&this._inner.toggleClass("ui-corner-all",!!t.corners),t.overlayTheme!==n&&e.mobile.activePage[0]===this.element[0]&&(s.overlayTheme=t.overlayTheme,this._handlePageBeforeShow()),t.closeBtnText!==n&&(r=s.closeBtn,i=t.closeBtnText),t.closeBtn!==n&&(r=t.closeBtn),r&&this._setCloseBtn(r,i),this._super(t)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(t,n){var r,i=this._headerCloseButton;t="left"===t?"left":"right"===t?"right":"none","none"===t?i&&(i.remove(),i=null):i?(i.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+t),n&&i.text(n)):(r=this._inner.find(":jqmData(role='header')").first(),i=e("<a></a>",{href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+t}).attr("data-"+e.mobile.ns+"rel","back").text(n||this.options.closeBtnText||"").prependTo(r)),this._headerCloseButton=i}})}(e,this),function(e,t,n){e.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(t){var n,r=e(t.target).closest(t.type==="vclick"?"a":"form");r.length&&!r.jqmData("transition")&&(n={},n["data-"+e.mobile.ns+"transition"]=(e.mobile.navigate.history.getActive()||{}).transition||e.mobile.defaultDialogTransition,n["data-"+e.mobile.ns+"direction"]="reverse",r.attr(n))},_create:function(){var t=this.element,n=this.options;t.addClass("ui-dialog").wrapInner(e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(n.corners?" ui-corner-all":"")})),e.extend(this,{_isCloseable:!1,_inner:t.children(),_headerCloseButton:null}),this._on(t,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(n.closeBtn)},_setOptions:function(t){var r,i,s=this.options;t.corners!==n&&this._inner.toggleClass("ui-corner-all",!!t.corners),t.overlayTheme!==n&&e.mobile.activePage[0]===this.element[0]&&(s.overlayTheme=t.overlayTheme,this._handlePageBeforeShow()),t.closeBtnText!==n&&(r=s.closeBtn,i=t.closeBtnText),t.closeBtn!==n&&(r=t.closeBtn),r&&this._setCloseBtn(r,i),this._super(t)},_setCloseBtn:function(t,n){var r,i=this._headerCloseButton;t="left"===t?"left":"right"===t?"right":"none","none"===t?i&&(i.remove(),i=null):i?(i.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+t),n&&i.text(n)):(r=this._inner.find(":jqmData(role='header')").first(),i=e("<a></a>",{role:"button",href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+t}).text(n||this.options.closeBtnText||"").prependTo(r),this._on(i,{click:"close"})),this._headerCloseButton=i},close:function(){var t=e.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled&&t.activeIndex>0?e.mobile.back():e.mobile.pageContainer.pagecontainer("back"))}})}(e,this),function(e,t){var n=/([A-Z])/g,r=function(e){return"ui-btn-icon-"+(e===null?"left":e)};e.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var t=this.element,n={accordion:t.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(e.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=n,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(n.heading=this.element.children(".ui-collapsible-heading"),n.content=n.heading.next(),n.anchor=n.heading.children(),n.status=n.anchor.children(".ui-collapsible-heading-status")):this._enhance(t,n),this._on(n.heading,{tap:function(){n.heading.find("a").first().addClass(e.mobile.activeBtnClass)},click:function(e){this._handleExpandCollapse(!n.heading.hasClass("ui-collapsible-heading-collapsed")),e.preventDefault(),e.stopPropagation()}})},_getOptions:function(t){var r,i=this._ui.accordion,s=this._ui.accordionWidget;t=e.extend({},t),i.length&&!s&&(this._ui.accordionWidget=s=i.data("mobile-collapsibleset"));for(r in t)t[r]=t[r]!=null?t[r]:s?s.options[r]:i.length?e.mobile.getAttribute(i[0],r.replace(n,"-$1").toLowerCase()):null,null==t[r]&&(t[r]=e.mobile.collapsible.defaults[r]);return t},_themeClassFromOption:function(e,t){return t?t==="none"?"":e+t:""},_enhance:function(t,n){var i,s=this._renderedOptions,o=this._themeClassFromOption("ui-body-",s.contentTheme);return t.addClass("ui-collapsible "+(s.inset?"ui-collapsible-inset ":"")+(s.inset&&s.corners?"ui-corner-all ":"")+(o?"ui-collapsible-themed-content ":"")),n.originalHeading=t.children(this.options.heading).first(),n.content=t.wrapInner("<div class='ui-collapsible-content "+o+"'></div>").children(".ui-collapsible-content"),n.heading=n.originalHeading,n.heading.is("legend")&&(n.heading=e("<div role='heading'>"+n.heading.html()+"</div>"),n.placeholder=e("<div><!-- placeholder for legend --></div>").insertBefore(n.originalHeading),n.originalHeading.remove()),i=s.collapsed?s.collapsedIcon?"ui-icon-"+s.collapsedIcon:"":s.expandedIcon?"ui-icon-"+s.expandedIcon:"",n.status=e("<span class='ui-collapsible-heading-status'></span>"),n.anchor=n.heading.detach().addClass("ui-collapsible-heading").append(n.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(i?i+" ":"")+(i?r(s.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",s.theme)+" "+(s.mini?"ui-mini ":"")),n.heading.insertBefore(n.content),this._handleExpandCollapse(this.options.collapsed),n},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(e){var n,i,s,o,u,a=this.element,f=this._renderedOptions,l=this._ui,c=l.anchor,h=l.status,p=this._getOptions(e);e.collapsed!==t&&this._handleExpandCollapse(e.collapsed),n=a.hasClass("ui-collapsible-collapsed"),n?p.expandCueText!==t&&h.text(p.expandCueText):p.collapseCueText!==t&&h.text(p.collapseCueText),u=p.collapsedIcon!==t?p.collapsedIcon!==!1:f.collapsedIcon!==!1;if(p.iconpos!==t||p.collapsedIcon!==t||p.expandedIcon!==t)c.removeClass([r(f.iconpos)].concat(f.expandedIcon?["ui-icon-"+f.expandedIcon]:[]).concat(f.collapsedIcon?["ui-icon-"+f.collapsedIcon]:[]).join(" ")),u&&c.addClass([r(p.iconpos!==t?p.iconpos:f.iconpos)].concat(n?["ui-icon-"+(p.collapsedIcon!==t?p.collapsedIcon:f.collapsedIcon)]:["ui-icon-"+(p.expandedIcon!==t?p.expandedIcon:f.expandedIcon)]).join(" "));p.theme!==t&&(s=this._themeClassFromOption("ui-btn-",f.theme),i=this._themeClassFromOption("ui-btn-",p.theme),c.removeClass(s).addClass(i)),p.contentTheme!==t&&(s=this._themeClassFromOption("ui-body-",f.contentTheme),i=this._themeClassFromOption("ui-body-",p.contentTheme),l.content.removeClass(s).addClass(i)),p.inset!==t&&(a.toggleClass("ui-collapsible-inset",p.inset),o=!(!p.inset||!p.corners&&!f.corners)),p.corners!==t&&(o=!(!p.corners||!p.inset&&!f.inset)),o!==t&&a.toggleClass("ui-corner-all",o),p.mini!==t&&c.toggleClass("ui-mini",p.mini)},_setOptions:function(e){this._applyOptions(e),this._super(e),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(t){var n=this._renderedOptions,r=this._ui;r.status.text(t?n.expandCueText:n.collapseCueText),r.heading.toggleClass("ui-collapsible-heading-collapsed",t).find("a").first().toggleClass("ui-icon-"+n.expandedIcon,!t).toggleClass("ui-icon-"+n.collapsedIcon,t||n.expandedIcon===n.collapsedIcon).removeClass(e.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",t),r.content.toggleClass("ui-collapsible-content-collapsed",t).attr("aria-hidden",t).trigger("updatelayout"),this.options.collapsed=t,this._trigger(t?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var e=this._ui,t=this.options;if(t.enhanced)return;e.placeholder?(e.originalHeading.insertBefore(e.placeholder),e.placeholder.remove(),e.heading.remove()):(e.status.remove(),e.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),e.anchor.contents().unwrap(),e.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all")}}),e.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(e),function(e,t){function r(t){var r,i=t.length,s=[];for(r=0;r<i;r++)t[r].className.match(n)||s.push(t[r]);return e(s)}var n=/\bui-screen-hidden\b/;e.mobile.behaviors.addFirstLastClasses={_getVisibles:function(e,t){var n;return t?n=r(e):(n=e.filter(":visible"),n.length===0&&(n=r(e))),n},_addFirstLastClasses:function(e,t,n){e.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),n||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(e){e.removeClass("ui-first-child ui-last-child")}}}(e),function(e,t){var n=":mobile-collapsible, "+e.mobile.collapsible.initSelector;e.widget("mobile.collapsibleset",e.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:e.extend({enhanced:!1},e.mobile.collapsible.defaults),_handleCollapsibleExpand:function(t){var n=e(t.target).closest(".ui-collapsible");n.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&n.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var t=this.element,n=this.options;e.extend(this,{_classes:""}),n.enhanced||(t.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",n.theme)+" "+(n.corners&&n.inset?"ui-corner-all ":"")),this.element.find(e.mobile.collapsible.initSelector).collapsible()),this._on(t,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(e,t){return t?t==="none"?"":e+t:""},_init:function(){this._refresh(!0),this.element.children(n).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(e){var n,r,i=this.element,s=this._themeClassFromOption("ui-group-theme-",e.theme);return s&&i.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(s),e.inset!==t&&(r=!(!e.inset||!e.corners&&!this.options.corners)),e.corners!==t&&(r=!(!e.corners||!e.inset&&!this.options.inset)),r!==t&&i.toggleClass("ui-corner-all",r),n=this._super(e),this.element.children(":mobile-collapsible").collapsible("refresh"),n},_destroy:function(){var e=this.element;this._removeFirstLastClasses(e.children(n)),e.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(t){var r=this.element.children(n);this.element.find(e.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(r,this._getVisibles(r,t),t)},refresh:function(){this._refresh(!1)}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e,t){e.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(e),function(e,t){e.fn.grid=function(t){return this.each(function(){var n=e(this),r=e.extend({grid:null},t),i=n.children(),s={solo:1,a:2,b:3,c:4,d:5},o=r.grid,u,a;if(!o)if(i.length<=5)for(a in s)s[a]===i.length&&(o=a);else o="a",n.addClass("ui-grid-duo");u=s[o],n.addClass("ui-grid-"+o),i.filter(":nth-child("+u+"n+1)").addClass("ui-block-a"),u>1&&i.filter(":nth-child("+u+"n+2)").addClass("ui-block-b"),u>2&&i.filter(":nth-child("+u+"n+3)").addClass("ui-block-c"),u>3&&i.filter(":nth-child("+u+"n+4)").addClass("ui-block-d"),u>4&&i.filter(":nth-child("+u+"n+5)").addClass("ui-block-e")})}}(e),function(e,t){e.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var r=this.element,i=r.find("a, button"),s=i.filter(":jqmData(icon)").length?this.options.iconpos:t;r.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),i.each(function(){var t=e.mobile.getAttribute(this,"icon"),n=e.mobile.getAttribute(this,"theme"),r="ui-btn";n&&(r+=" ui-btn-"+n),t&&(r+=" ui-icon-"+t+" ui-btn-icon-"+s),e(this).addClass(r)}),r.delegate("a","vclick",function(){var t=e(this);t.hasClass("ui-state-disabled")||t.hasClass("ui-disabled")||t.hasClass(e.mobile.activeBtnClass)||(i.removeClass(e.mobile.activeBtnClass),t.addClass(e.mobile.activeBtnClass),e(n).one("pagehide",function(){t.removeClass(e.mobile.activeBtnClass)}))}),r.closest(".ui-page").bind("pagebeforeshow",function(){i.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}})}(e),function(e,t){var n=e.mobile.getAttribute;e.widget("mobile.listview",e.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset":"",!e.options.inset||(t+=e.options.corners?" ui-corner-all":"",t+=e.options.shadow?" ui-shadow":""),e.element.addClass(" ui-listview"+t),e.refresh(!0)},_findFirstElementByTagName:function(e,t,n,r){var i={};i[n]=i[r]=!0;while(e){if(i[e.nodeName])return e;e=e[t]}return null},_addThumbClasses:function(t){var n,r,i=t.length;for(n=0;n<i;n++)r=e(this._findFirstElementByTagName(t[n].firstChild,"nextSibling","img","IMG")),r.length&&e(this._findFirstElementByTagName(r[0].parentNode,"parentNode","li","LI")).addClass(r.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(t,n,r){var i=[],s={};s[n]=s[r]=!0,t=t.firstChild;while(t)s[t.nodeName]&&i.push(t),t=t.nextSibling;return e(i)},_beforeListviewRefresh:e.noop,_afterListviewRefresh:e.noop,refresh:function(t){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x=this.options,T=this.element,N=!!e.nodeName(T[0],"ol"),C=T.attr("start"),k={},L=T.find(".ui-li-count"),A=n(T[0],"counttheme")||this.options.countTheme,O=A?"ui-body-"+A:"ui-body-inherit";x.theme&&T.addClass("ui-group-theme-"+x.theme),N&&(C||C===0)&&(p=parseInt(C,10)-1,T.css("counter-reset","listnumbering "+p)),this._beforeListviewRefresh(),S=this._getChildrenByTagName(T[0],"li","LI");for(i=0,s=S.length;i<s;i++){o=S.eq(i),u="";if(t||o[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)c=this._getChildrenByTagName(o[0],"a","A"),h=n(o[0],"role")==="list-divider",v=o.attr("value"),a=n(o[0],"theme"),c.length&&c[0].className.search(/\bui-btn\b/)<0&&!h?(f=n(o[0],"icon"),l=f===!1?!1:f||x.icon,c.removeClass("ui-link"),r="ui-btn",a&&(r+=" ui-btn-"+a),c.length>1?(u="ui-li-has-alt",m=c.last(),g=n(m[0],"theme")||x.splitTheme||n(o[0],"theme",!0),y=g?" ui-btn-"+g:"",b=n(m[0],"icon")||n(o[0],"icon")||x.splitIcon,w="ui-btn ui-btn-icon-notext ui-icon-"+b+y,m.attr("title",e.trim(m.getEncodedText())).addClass(w).empty(),c=c.first()):l&&(r+=" ui-btn-icon-right ui-icon-"+l),c.addClass(r)):h?(E=n(o[0],"theme")||x.dividerTheme||x.theme,u="ui-li-divider ui-bar-"+(E?E:"inherit"),o.attr("role","heading")):c.length<=0&&(u="ui-li-static ui-body-"+(a?a:"inherit")),N&&v&&(d=parseInt(v,10)-1,o.css("counter-reset","listnumbering "+d));k[u]||(k[u]=[]),k[u].push(o[0])}for(u in k)e(k[u]).addClass(u);L.each(function(){e(this).closest("li").addClass("ui-li-has-count")}),O&&L.not("[class*='ui-body-']").addClass(O),this._addThumbClasses(S),this._addThumbClasses(S.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(S,this._getVisibles(S,t),t)}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e,t){function r(t){var n=e.trim(t.text())||null;return n?(n=n.slice(0,1).toUpperCase(),n):null}e.widget("mobile.listview",e.mobile.listview,{options:{autodividers:!1,autodividersSelector:r},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var t,r,i,s,o=null,u=this.element,a;u.children("li:jqmData(role='list-divider')").remove(),r=u.children("li");for(t=0;t<r.length;t++)i=r[t],s=this.options.autodividersSelector(e(i)),s&&o!==s&&(a=n.createElement("li"),a.appendChild(n.createTextNode(s)),a.setAttribute("data-"+e.mobile.ns+"role","list-divider"),i.parentNode.insertBefore(a,i)),o=s}})}(e),function(e,t){var n=/(^|\s)ui-li-divider($|\s)/,r=/(^|\s)ui-screen-hidden($|\s)/;e.widget("mobile.listview",e.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var e,t,i,s=!0;this._superApply(arguments);if(this.options.hideDividers){e=this._getChildrenByTagName(this.element[0],"li","LI");for(t=e.length-1;t>-1;t--)i=e[t],i.className.match(n)?(s&&(i.className=i.className+" ui-screen-hidden"),s=!0):i.className.match(r)||(s=!1)}}})}(e),function(e,t){e.mobile.nojs=function(t){e(":jqmData(role='nojs')",t).addClass("ui-nojs")}}(e),function(e,t){e.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(e),function(e,t){var n=e.mobile.path.hashToSelector;e.widget("mobile.checkboxradio",e.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var t=this.element,n=this.options,r=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},i=this.options.enhanced?{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),s=t[0].type,o="ui-"+s+"-on",u="ui-"+s+"-off";if(s!=="checkbox"&&s!=="radio")return;this.element[0].disabled&&(this.options.disabled=!0),n.iconpos=r(t,"iconpos")||i.element.attr("data-"+e.mobile.ns+"iconpos")||n.iconpos,n.mini=r(t,"mini")||n.mini,e.extend(this,{input:t,label:i.element,labelIsParent:i.isParent,inputtype:s,checkedClass:o,uncheckedClass:u}),this.options.enhanced||this._enhance(),this._on(i.element,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(t,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh()},_findLabel:function(){var t,r,i,s=this.element,o=s[0].labels;return o&&o.length>0?(r=e(o[0]),i=e.contains(r[0],s[0])):(t=s.closest("label"),i=t.length>0,r=i?t:e(this.document[0].getElementsByTagName("label")).filter("[for='"+n(s[0].id)+"']").first()),{element:r,isParent:i}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return e("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(e.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(e.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll(!0)},_handleLabelVMouseOver:function(e){this.label.parent().hasClass("ui-state-disabled")&&e.stopPropagation()},_handleLabelVClick:function(e){var t=this.element;if(t.is(":disabled")){e.preventDefault();return}return this._cacheVals(),t.prop("checked",this.inputtype==="radio"&&!0||!t.prop("checked")),t.triggerHandler("click"),this._getInputSet().not(t).prop("checked",!1),this._updateAll(),!1},_cacheVals:function(){this._getInputSet().each(function(){e(this).attr("data-"+e.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var t,r,i=this.element[0],s=i.name,o=i.form,u=this.element.parents().last().get(0),a=this.element;return s&&this.inputtype==="radio"&&u&&(t="input[type='radio'][name='"+n(s)+"']",o?(r=o.getAttribute("id"),r&&(a=e(t+"[form='"+n(r)+"']",u)),a=e(o).find(t).filter(function(){return this.form===o}).add(a)):a=e(t,u).filter(function(){return!this.form})),a},_updateAll:function(t){var n=this;this._getInputSet().each(function(){var r=e(this);(this.checked||n.inputtype==="checkbox")&&!t&&r.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var t,n,r=e.mobile.controlgroup;if(r){t=this.element.closest(":mobile-controlgroup,"+r.prototype.initSelector);if(t.length>0)return n=e.data(t[0],"mobile-controlgroup"),(n?n.options.type:t.attr("data-"+e.mobile.ns+"type"))!=="horizontal"}return!0},refresh:function(){var t=this.element[0].checked,n=e.mobile.activeBtnClass,r="ui-btn-icon-"+this.options.iconpos,i=[],s=[];this._hasIcon()?(s.push(n),i.push(r)):(s.push(r),(t?i:s).push(n)),t?(i.push(this.checkedClass),s.push(this.uncheckedClass)):(i.push(this.uncheckedClass),s.push(this.checkedClass)),this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled")),this.label.addClass(i.join(" ")).removeClass(s.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(e){var n=this.label,r=this.options,i=this.widget(),s=this._hasIcon();e.disabled!==t&&(this.input.prop("disabled",!!e.disabled),i.toggleClass("ui-state-disabled",!!e.disabled)),e.mini!==t&&i.toggleClass("ui-mini",!!e.mini),e.theme!==t&&n.removeClass("ui-btn-"+r.theme).addClass("ui-btn-"+e.theme),e.wrapperClass!==t&&i.removeClass(r.wrapperClass).addClass(e.wrapperClass),e.iconpos!==t&&s?n.removeClass("ui-btn-icon-"+r.iconpos).addClass("ui-btn-icon-"+e.iconpos):s||n.removeClass("ui-btn-icon-"+r.iconpos),this._super(e)}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),e.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(e.mobile.focusClass)},blur:function(){this.widget().removeClass(e.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var t=this.options,n=this._getIconClasses(this.options);return e("<div class='ui-btn ui-input-btn"+(t.wrapperClass?" "+t.wrapperClass:"")+(t.theme?" ui-btn-"+t.theme:"")+(t.corners?" ui-corner-all":"")+(t.shadow?" ui-shadow":"")+(t.inline?" ui-btn-inline":"")+(t.mini?" ui-mini":"")+(t.disabled?" ui-state-disabled":"")+(n?" "+n:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper),this.wrapper.remove()},_getIconClasses:function(e){return e.icon?"ui-icon-"+e.icon+(e.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+e.iconpos:""},_setOptions:function(n){var r=this.widget();n.theme!==t&&r.removeClass(this.options.theme).addClass("ui-btn-"+n.theme),n.corners!==t&&r.toggleClass("ui-corner-all",n.corners),n.shadow!==t&&r.toggleClass("ui-shadow",n.shadow),n.inline!==t&&r.toggleClass("ui-btn-inline",n.inline),n.mini!==t&&r.toggleClass("ui-mini",n.mini),n.disabled!==t&&(this.element.prop("disabled",n.disabled),r.toggleClass("ui-state-disabled",n.disabled)),(n.icon!==t||n.iconshadow!==t||n.iconpos!==t)&&r.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(e.extend({},this.options,n))),this._super(n)},refresh:function(t){var n,r=this.element.prop("disabled");this.options.icon&&this.options.iconpos==="notext"&&this.element.attr("title")&&this.element.attr("title",this.element.val()),t||(n=this.element.detach(),e(this.wrapper).text(this.element.val()).append(n)),this.options.disabled!==r&&this._setOptions({disabled:r})}})}(e),function(e){var t=e("meta[name=viewport]"),n=t.attr("content"),r=n+",maximum-scale=1, user-scalable=no",i=n+",maximum-scale=10, user-scalable=yes",s=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(n);e.mobile.zoom=e.extend({},{enabled:!s,locked:!1,disable:function(n){!s&&!e.mobile.zoom.locked&&(t.attr("content",r),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=n||!1)},enable:function(n){!s&&(!e.mobile.zoom.locked||n===!0)&&(t.attr("content",i),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){s||(t.attr("content",n),e.mobile.zoom.enabled=!0)}})}(e),function(e,t){e.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var t=this.options,n=this.element.is("[type='search'], :jqmData(type='search')"),r=this.element[0].tagName==="TEXTAREA",i=this.element.is("[data-"+(e.mobile.ns||"")+"type='range']"),s=(this.element.is("input")||this.element.is("[data-"+(e.mobile.ns||"")+"type='search']"))&&!i;this.element.prop("disabled")&&(t.disabled=!0),e.extend(this,{classes:this._classesFromOptions(),isSearch:n,isTextarea:r,isRange:i,inputNeedsWrap:s}),this._autoCorrect(),t.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var e=[];this.isTextarea&&e.push("ui-input-text"),(this.isTextarea||this.isRange)&&e.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):e=e.concat(this.classes),this.element.addClass(e.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var e=this.options,t=[];return t.push("ui-body-"+(e.theme===null?"inherit":e.theme)),e.corners&&t.push("ui-corner-all"),e.mini&&t.push("ui-mini"),e.disabled&&t.push("ui-state-disabled"),e.wrapperClass&&t.push(e.wrapperClass),t},_wrap:function(){return e("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" "+"ui-shadow-inset'></div>")},_autoCorrect:function(){typeof this.element[0].autocorrect!="undefined"&&!e.support.touchOverflow&&(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(e.mobile.focusClass),this.options.preventFocusZoom&&e.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&e.mobile.zoom.disable(!0),this.widget().addClass(e.mobile.focusClass)},_setOptions:function(e){var n=this.widget();this._super(e);if(e.disabled!==t||e.mini!==t||e.corners!==t||e.theme!==t||e.wrapperClass!==t)n.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),n.addClass(this.classes.join(" "));e.disabled!==t&&this.element.prop("disabled",!!e.disabled)},_destroy:function(){if(this.options.enhanced)return;this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" "))}})}(e),function(e,r){e.widget("mobile.slider",e.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var i=this,s=this.element,o=this.options.trackTheme||e.mobile.getAttribute(s[0],"theme"),u=o?" ui-bar-"+o:" ui-bar-inherit",a=this.options.corners||s.jqmData("corners")?" ui-corner-all":"",f=this.options.mini||s.jqmData("mini")?" ui-mini":"",l=s[0].nodeName.toLowerCase(),c=l==="select",h=s.parent().is(":jqmData(role='rangeslider')"),p=c?"ui-slider-switch":"",d=s.attr("id"),v=e("[for='"+d+"']"),m=v.attr("id")||d+"-label",g=c?0:parseFloat(s.attr("min")),y=c?s.find("option").length-1:parseFloat(s.attr("max")),b=t.parseFloat(s.attr("step")||1),w=n.createElement("a"),E=e(w),S=n.createElement("div"),x=e(S),T=this.options.highlight&&!c?function(){var t=n.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass,e(t).prependTo(x)}():!1,N,C,k,L,A,O,M,_,D,P;v.attr("id",m),this.isToggleSwitch=c,w.setAttribute("href","#"),S.setAttribute("role","application"),S.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",p,u,a,f].join(""),w.className="ui-slider-handle",S.appendChild(w),E.attr({role:"slider","aria-valuemin":g,"aria-valuemax":y,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":m}),e.extend(this,{slider:x,handle:E,control:s,type:l,step:b,max:y,min:g,valuebg:T,isRangeslider:h,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1});if(c){M=s.attr("tabindex"),M&&E.attr("tabindex",M),s.attr("tabindex","-1").focus(function(){e(this).blur(),E.focus()}),C=n.createElement("div"),C.className="ui-slider-inneroffset";for(k=0,L=S.childNodes.length;k<L;k++)C.appendChild(S.childNodes[k]);S.appendChild(C),E.addClass("ui-slider-handle-snapping"),N=s.find("option");for(A=0,O=N.length;A<O;A++)_=A?"a":"b",D=A?" "+e.mobile.activeBtnClass:"",P=n.createElement("span"),P.className=["ui-slider-label ui-slider-label-",_,D].join(""),P.setAttribute("role","img"),P.appendChild(n.createTextNode(N[A].innerHTML)),e(P).prependTo(x);i._labels=e(".ui-slider-label",x)}s.addClass(c?"ui-slider-switch":"ui-slider-input"),this._on(s,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),x.bind("vmousedown",e.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(n,{vmousemove:"_preventDocumentDrag"}),this._on(x.add(n),{vmouseup:"_sliderVMouseUp"}),x.insertAfter(s),!c&&!h&&(C=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",s.add(x).wrapAll(C)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(r,r,!0)},_setOptions:function(e){e.theme!==r&&this._setTheme(e.theme),e.trackTheme!==r&&this._setTrackTheme(e.trackTheme),e.corners!==r&&this._setCorners(e.corners),e.mini!==r&&this._setMini(e.mini),e.highlight!==r&&this._setHighlight(e.highlight),e.disabled!==r&&this._setDisabled(e.disabled),this._super(e)},_controlChange:function(e){if(this._trigger("controlchange",e)===!1)return!1;this.mouseMoved||this.refresh(this._value(),!0)},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(t){var n=this._value();if(this.options.disabled)return;switch(t.keyCode){case e.mobile.keyCode.HOME:case e.mobile.keyCode.END:case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:t.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(t.keyCode){case e.mobile.keyCode.HOME:this.refresh(this.min);break;case e.mobile.keyCode.END:this.refresh(this.max);break;case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:this.refresh(n+this.step);break;case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:this.refresh(n-this.step)}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(e){return this.options.disabled||e.which!==1&&e.which!==0&&e.which!==r?!1:this._trigger("beforestart",e)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(e),this._trigger("start"),!1)},_sliderVMouseUp:function(){if(this.dragging)return this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(this.beforeStart===0?1:0):this.refresh(this.beforeStart):this.refresh(this.beforeStart===0?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1},_preventDocumentDrag:function(e){if(this._trigger("drag",e)===!1)return!1;if(this.dragging&&!this.options.disabled)return this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(e),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(r,!1,!0)},refresh:function(t,r,i){var s=this,o=e.mobile.getAttribute(this.element[0],"theme"),u=this.options.theme||o,a=u?" ui-btn-"+u:"",f=this.options.trackTheme||o,l=f?" ui-bar-"+f:" ui-bar-inherit",c=this.options.corners?" ui-corner-all":"",h=this.options.mini?" ui-mini":"",p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_;s.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",l,c,h].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&this.slider.find(".ui-slider-bg").length===0&&(this.valuebg=function(){var t=n.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass,e(t).prependTo(s.slider)}()),this.handle.addClass("ui-btn"+a+" ui-shadow"),b=this.element,w=!this.isToggleSwitch,E=w?[]:b.find("option"),S=w?parseFloat(b.attr("min")):0,x=w?parseFloat(b.attr("max")):E.length-1,T=w&&parseFloat(b.attr("step"))>0?parseFloat(b.attr("step")):1;if(typeof t=="object"){v=t,m=8,p=this.slider.offset().left,d=this.slider.width(),g=d/((x-S)/T);if(!this.dragging||v.pageX<p-m||v.pageX>p+d+m)return;g>1?y=(v.pageX-p)/d*100:y=Math.round((v.pageX-p)/d*100)}else t==null&&(t=w?parseFloat(b.val()||0):b[0].selectedIndex),y=(parseFloat(t)-S)/(x-S)*100;if(isNaN(y))return;N=y/100*(x-S)+S,C=(N-S)%T,k=N-C,Math.abs(C)*2>=T&&(k+=C>0?T:-T),L=100/((x-S)/T),N=parseFloat(k.toFixed(5)),typeof g=="undefined"&&(g=d/((x-S)/T)),g>1&&w&&(y=(N-S)*L*(1/T)),y<0&&(y=0),y>100&&(y=100),N<S&&(N=S),N>x&&(N=x),this.handle.css("left",y+"%"),this.handle[0].setAttribute("aria-valuenow",w?N:E.eq(N).attr("value")),this.handle[0].setAttribute("aria-valuetext",w?N:E.eq(N).getEncodedText()),this.handle[0].setAttribute("title",w?N:E.eq(N).getEncodedText()),this.valuebg&&this.valuebg.css("width",y+"%"),this._labels&&(A=this.handle.width()/this.slider.width()*100,O=y&&A+(100-A)*y/100,M=y===100?0:Math.min(A+100-O,100),this._labels.each(function(){var t=e(this).hasClass("ui-slider-label-a");e(this).width((t?O:M)+"%")}));if(!i){_=!1,w?(_=parseFloat(b.val())!==N,b.val(N)):(_=b[0].selectedIndex!==N,b[0].selectedIndex=N);if(this._trigger("beforechange",t)===!1)return!1;!r&&_&&b.trigger("change")}},_setHighlight:function(e){e=!!e,e?(this.options.highlight=!!e,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(e){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+e);var t=this.options.theme?this.options.theme:"inherit",n=e?e:"inherit";this.control.removeClass("ui-body-"+t).addClass("ui-body-"+n)},_setTrackTheme:function(e){var t=this.options.trackTheme?this.options.trackTheme:"inherit",n=e?e:"inherit";this.slider.removeClass("ui-body-"+t).addClass("ui-body-"+n)},_setMini:function(e){e=!!e,!this.isToggleSwitch&&!this.isRangeslider&&(this.slider.parent().toggleClass("ui-mini",e),this.element.toggleClass("ui-mini",e)),this.slider.toggleClass("ui-mini",e)},_setCorners:function(e){this.slider.toggleClass("ui-corner-all",e),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",e)},_setDisabled:function(e){e=!!e,this.element.prop("disabled",e),this.slider.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.toggleClass("ui-state-disabled",e)}},e.mobile.behaviors.formReset))}(e),function(e,t){function r(){return n||(n=e("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"})),n.clone()}var n;e.widget("mobile.slider",e.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),e.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var e=this.handle.offset();this._popup.offset({left:e.left+(this.handle.width()-this._popup.width())/2,top:e.top-this._popup.outerHeight()-5})},_setOption:function(e,t){this._super(e,t),e==="showValue"?this.handle.html(t&&!this.options.mini?this._value():""):e==="popupEnabled"&&t&&!this._popup&&(this._popup=r().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var e=this.options,t;e.popupEnabled&&this.handle.removeAttr("title"),t=this._value();if(t===this._currentValue)return;this._currentValue=t,e.popupEnabled&&this._popup&&(this._positionPopup(),this._popup.html(t)),e.showValue&&!this.options.mini&&this.handle.html(t)},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var e=this.options;e.popupEnabled&&this._popupVisible&&(e.showValue&&!e.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(e),function(e,t){e.widget("mobile.flipswitch",e.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?e.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),this._originalTabIndex!=null&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),this.type==="SELECT"?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),this.type==="SELECT"?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var t=e("<div>"),n=this.options,r=this.element,i=n.theme?n.theme:"inherit",s=e("<a></a>",{href:"#"}),o=e("<span></span>"),u=r.get(0).tagName,a=u==="INPUT"?n.onText:r.find("option").eq(1).text(),f=u==="INPUT"?n.offText:r.find("option").eq(0).text();s.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(a),o.addClass("ui-flipswitch-off").text(f),t.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+i+" "+(n.wrapperClass?n.wrapperClass:"")+" "+(r.is(":checked")||r.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(r.is(":disabled")?" ui-state-disabled":"")+(n.corners?" ui-corner-all":"")+(n.mini?" ui-mini":"")).append(s,o),r.addClass("ui-flipswitch-input").after(t).appendTo(t),e.extend(this,{flipswitch:t,on:s,off:o,type:u})},_reset:function(){this.refresh()},refresh:function(){var e,t=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";this.type==="SELECT"?e=this.element.get(0).selectedIndex>0?"_right":"_left":e=this.element.prop("checked")?"_right":"_left",e!==t&&this[e]()},_toggle:function(){var e=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[e]()},_keydown:function(t){t.which===e.mobile.keyCode.LEFT?this._left():t.which===e.mobile.keyCode.RIGHT?this._right():t.which===e.mobile.keyCode.SPACE&&(this._toggle(),t.preventDefault())},_setOptions:function(e){if(e.theme!==t){var n=e.theme?e.theme:"inherit",r=e.theme?e.theme:"inherit";this.widget().removeClass("ui-bar-"+n).addClass("ui-bar-"+r)}e.onText!==t&&this.on.text(e.onText),e.offText!==t&&this.off.text(e.offText),e.disabled!==t&&this.widget().toggleClass("ui-state-disabled",e.disabled),e.mini!==t&&this.widget().toggleClass("ui-mini",e.mini),e.corners!==t&&this.widget().toggleClass("ui-corner-all",e.corners),this._super(e)},_destroy:function(){if(this.options.enhanced)return;this._originalTabIndex!=null?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input")}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.rangeslider",e.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var t=this.element,n=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",r=t.find("input").first(),i=t.find("input").last(),s=t.find("label").first(),o=e.data(r.get(0),"mobile-slider")||e.data(r.slider().get(0),"mobile-slider"),u=e.data(i.get(0),"mobile-slider")||e.data(i.slider().get(0),"mobile-slider"),a=o.slider,f=u.slider,l=o.handle,c=e("<div class='ui-rangeslider-sliders' />").appendTo(t);r.addClass("ui-rangeslider-first"),i.addClass("ui-rangeslider-last"),t.addClass(n),a.appendTo(c),f.appendTo(c),s.insertBefore(t),l.prependTo(f),e.extend(this,{_inputFirst:r,_inputLast:i,_sliderFirst:a,_sliderLast:f,_label:s,_targetVal:null,_sliderTarget:!1,_sliders:c,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(l,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var e=this;setTimeout(function(){e._updateHighlight()},0)},_dragFirstHandle:function(t){return e.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,e.data(this._inputFirst.get(0),"mobile-slider").refresh(t),e.data(this._inputFirst.get(0),"mobile-slider")._trigger("start"),!1},_slidedrag:function(t){var n=e(t.target).is(this._inputFirst),r=n?this._inputLast:this._inputFirst;this._sliderTarget=!1;if(this._proxy==="first"&&n||this._proxy==="last"&&!n)return e.data(r.get(0),"mobile-slider").dragging=!0,e.data(r.get(0),"mobile-slider").refresh(t),!1},_slidestop:function(t){var n=e(t.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",n?1:"")},_slidebeforestart:function(t){this._sliderTarget=!1,e(t.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=e(t.target).val())},_setOptions:function(e){e.theme!==t&&this._setTheme(e.theme),e.trackTheme!==t&&this._setTrackTheme(e.trackTheme),e.mini!==t&&this._setMini(e.mini),e.highlight!==t&&this._setHighlight(e.highlight),e.disabled!==t&&this._setDisabled(e.disabled),this._super(e),this.refresh()},refresh:function(){var e=this.element,t=this.options;if(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))this.options.disabled=!0;e.find("input").slider({theme:t.theme,trackTheme:t.trackTheme,disabled:t.disabled,corners:t.corners,mini:t.mini,highlight:t.highlight}).slider("refresh"),this._updateHighlight()},_change:function(t){if(t.type==="keyup")return this._updateHighlight(),!1;var n=this,r=parseFloat(this._inputFirst.val(),10),i=parseFloat(this._inputLast.val(),10),s=e(t.target).hasClass("ui-rangeslider-first"),o=s?this._inputFirst:this._inputLast,u=s?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&t.type==="mousedown"&&!e(t.target).hasClass("ui-slider-handle"))o.blur();else if(t.type==="mousedown")return;r>i&&!this._sliderTarget?(o.val(s?i:r).slider("refresh"),this._trigger("normalize")):r>i&&(o.val(this._targetVal).slider("refresh"),setTimeout(function(){u.val(s?r:i).slider("refresh"),e.data(u.get(0),"mobile-slider").handle.focus(),n._sliderFirst.css("z-index",s?"":1),n._trigger("normalize")},0),this._proxy=s?"first":"last"),r===i?(e.data(o.get(0),"mobile-slider").handle.css("z-index",1),e.data(u.get(0),"mobile-slider").handle.css("z-index",0)):(e.data(u.get(0),"mobile-slider").handle.css("z-index",""),e.data(o.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight();if(r>=i)return!1},_updateHighlight:function(){var t=parseInt(e.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),n=parseInt(e.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),r=n-t;this.element.find(".ui-slider-bg").css({"margin-left":t+"%",width:r+"%"})},_setTheme:function(e){this._inputFirst.slider("option","theme",e),this._inputLast.slider("option","theme",e)},_setTrackTheme:function(e){this._inputFirst.slider("option","trackTheme",e),this._inputLast.slider("option","trackTheme",e)},_setMini:function(e){this._inputFirst.slider("option","mini",e),this._inputLast.slider("option","mini",e),this.element.toggleClass("ui-mini",!!e)},_setHighlight:function(e){this._inputFirst.slider("option","highlight",e),this._inputLast.slider("option","highlight",e)},_setDisabled:function(e){this._inputFirst.prop("disabled",e),this._inputLast.prop("disabled",e)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},e.mobile.behaviors.formReset))}(e),function(e,t){e.widget("mobile.textinput",e.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),this.isSearch&&(this.options.clearBtn=!0),!!this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return e("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(e){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),e.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),e.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(e){this._super(e),e.clearBtn!==t&&!this.element.is("textarea, :jqmData(type='range')")&&(e.clearBtn?this._addClearBtn():this._destroyClear()),e.clearBtnText!==t&&this._clearBtn!==t&&this._clearBtn.text(e.clearBtnText).attr("title",e.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this.options.clearBtn&&this._destroyClear()}})}(e),function(e,t){e.widget("mobile.textinput",e.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(t){e.contains(t.target,this.element[0])&&this.element.is(":visible")&&(t.type!=="popupbeforeposition"&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(e.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(e){this.keyupTimeout&&clearTimeout(this.keyupTimeout),e===t?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",e)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var e,t,n,r,i,s,o,u,a,f=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),r=this.element[0].scrollHeight,i=this.element[0].clientHeight,s=parseFloat(this.element.css("border-top-width")),o=parseFloat(this.element.css("border-bottom-width")),u=s+o,a=r+u+15,i===0&&(e=parseFloat(this.element.css("padding-top")),t=parseFloat(this.element.css("padding-bottom")),n=e+t,a+=n),this.element.css({height:a,"min-height":"","max-height":""}),this.window.scrollTop(f)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(e){this._super(e),e.autogrow!==t&&this.isTextarea&&(e.autogrow?this._autogrow():this._unbindAutogrow())}})}(e),function(e,r){e.widget("mobile.selectmenu",e.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t=this.options.inline||this.element.jqmData("inline"),n=this.options.mini||this.element.jqmData("mini"),r="";!~this.element[0].className.indexOf("ui-btn-left")||(r=" ui-btn-left"),!~this.element[0].className.indexOf("ui-btn-right")||(r=" ui-btn-right"),t&&(r+=" ui-btn-inline"),n&&(r+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+r+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=e("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var e=this.element.parents(".ui-select");e.length>0&&(e.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(e.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(e),e.remove())},_create:function(){this._preExtension(),this.button=this._button();var n=this,r=this.options,i=r.icon?r.iconpos||this.select.jqmData("iconpos"):!1,s=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(r.icon?" ui-icon-"+r.icon+" ui-btn-icon-"+i+(r.iconshadow?" ui-shadow-icon":""):"")+(r.theme?" ui-btn-"+r.theme:"")+(r.corners?" ui-corner-all":"")+(r.shadow?" ui-shadow":""));this.setButtonText(),r.nativeMenu&&t.opera&&t.opera.version&&s.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(s.addClass("ui-li-has-count"))),(r.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){n.refresh(),!r.nativeMenu||n._delay(function(){n.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.label.bind("click focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.select.bind("focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){e.mobile.zoom.enable(!0)},0)}),t.select.bind("blur",function(){t.options.preventFocusZoom&&e.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,r=this.selected(),i=this.placeholder,s=e(n.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return r.length?i=r.map(function(){return e(this).text()}).get().join(", "):i=t.placeholder,i?s.text(i):s.html("&#160;"),s.addClass(t.select.attr("class")).addClass(r.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},e.mobile.behaviors.formReset))}(e),function(e,t){e.mobile.links=function(t){e(t).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var e=this,t=e.getAttribute("href").substring(1);t&&(e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",t),e.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(e),function(e,n){function r(e,t,n,r){var i=r;return e<t?i=n+(e-t)/2:i=Math.min(Math.max(n,r-t/2),n+e-t),i}function i(e){return{x:e.scrollLeft(),y:e.scrollTop(),cx:e[0].innerWidth||e.width(),cy:e[0].innerHeight||e.height()}}e.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!e.mobile.browser.oldIE},_handleDocumentVmousedown:function(t){this._isOpen&&e.contains(this._ui.container[0],t.target)&&this._ignoreResizeEvents()},_create:function(){var t=this.element,n=t.attr("id"),r=this.options;r.history=r.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),e.extend(this,{_scrollTop:0,_page:t.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),this._page.length===0&&(this._page=e("body")),r.enhanced?this._ui={container:t.parent(),screen:t.parent().prev(),placeholder:e(this.document[0].getElementById(n+"-placeholder"))}:(this._ui=this._enhance(t,n),this._applyTransition(r.transition)),this._setTolerance(r.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")})},_enhance:function(t,n){var r=this.options,i=r.wrapperClass,s={screen:e("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",r.overlayTheme)+"'></div>"),placeholder:e("<div style='display: none;'><!-- placeholder --></div>"),container:e("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(i?" "+i:"")+"'></div>")},o=this.document[0].createDocumentFragment();return o.appendChild(s.screen[0]),o.appendChild(s.container[0]),n&&(s.screen.attr("id",n+"-screen"),s.container.attr("id",n+"-popup"),s.placeholder.attr("id",n+"-placeholder").html("<!-- placeholder for "+n+" -->")),this._page[0].appendChild(o),s.placeholder.insertAfter(t),t.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",r.theme)+" "+(r.shadow?"ui-overlay-shadow ":"")+(r.corners?"ui-corner-all ":"")).appendTo(s.container),s},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.screen,t=this._ui.container.outerHeight(!0),n=e.removeAttr("style").height(),r=this.document.height()-1;n<r?e.height(r):t>n&&e.height(t)},_handleWindowKeyUp:function(t){if(this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE)return this._eatEventAndClose(t)},_expectResizeEvent:function(){var e=i(this.window);if(this._resizeData){if(e.x===this._resizeData.windowCoordinates.x&&e.y===this._resizeData.windowCoordinates.y&&e.cx===this._resizeData.windowCoordinates.cx&&e.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:e},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&this._ignoreResizeTo===0&&(this._expectResizeEvent()||this._orientationchangeInProgress)&&!this._ui.container.hasClass("ui-popup-hidden")&&this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&this._ignoreResizeTo===0&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var n,r=t.target,i=this._ui;if(!this._isOpen)return;if(r!==i.container[0]){n=e(r);if(!e.contains(i.container[0],r))return e(this.document[0].activeElement).one("focus",e.proxy(function(){this._safelyBlur(r)},this)),i.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;i.focusElement[0]===i.container[0]&&(i.focusElement=n)}this._ignoreResizeEvents()},_themeClassFromOption:function(e,t){return t?t==="none"?"":e+t:e+"inherit"},_applyTransition:function(t){return t&&(this._ui.container.removeClass(this._fallbackTransition),t!=="none"&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),this._fallbackTransition==="none"&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(e){var t=this.options,r=this.element,i=this._ui.screen;return e.wrapperClass!==n&&this._ui.container.removeClass(t.wrapperClass).addClass(e.wrapperClass),e.theme!==n&&r.removeClass(this._themeClassFromOption("ui-body-",t.theme)).addClass(this._themeClassFromOption("ui-body-",e.theme)),e.overlayTheme!==n&&(i.removeClass(this._themeClassFromOption("ui-overlay-",t.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",e.overlayTheme)),this._isOpen&&i.addClass("in")),e.shadow!==n&&r.toggleClass("ui-overlay-shadow",e.shadow),e.corners!==n&&r.toggleClass("ui-corner-all",e.corners),e.transition!==n&&(this._currentTransition||this._applyTransition(e.transition)),e.tolerance!==n&&this._setTolerance(e.tolerance),e.disabled!==n&&e.disabled&&this.close(),this._super(e)},_setTolerance:function(t){var r={t:30,r:15,b:30,l:15},i;if(t!==n){i=String(t).split(","),e.each(i,function(e,t){i[e]=parseInt(t,10)});switch(i.length){case 1:isNaN(i[0])||(r.t=r.r=r.b=r.l=i[0]);break;case 2:isNaN(i[0])||(r.t=r.b=i[0]),isNaN(i[1])||(r.l=r.r=i[1]);break;case 4:isNaN(i[0])||(r.t=i[0]),isNaN(i[1])||(r.r=i[1]),isNaN(i[2])||(r.b=i[2]),isNaN(i[3])||(r.l=i[3]);break;default:}}return this._tolerance=r,this},_clampPopupWidth:function(e){var t,n=i(this.window),r={x:this._tolerance.l,y:n.y+this._tolerance.t,cx:n.cx-this._tolerance.l-this._tolerance.r,cy:n.cy-this._tolerance.t-this._tolerance.b};return e||this._ui.container.css("max-width",r.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:r,menuSize:t}},_calculateFinalLocation:function(e,t){var n,i=t.rc,s=t.menuSize;return n={left:r(i.cx,s.cx,i.x,e.x),top:r(i.cy,s.cy,i.y,e.y)},n.top=Math.max(0,n.top),n.top-=Math.min(n.top,Math.max(0,n.top+s.cy-this.document.height())),n},_placementCoords:function(e){return this._calculateFinalLocation(e,this._clampPopupWidth())},_createPrerequisites:function(t,n,r){var i,s=this;i={screen:e.Deferred(),container:e.Deferred()},i.screen.then(function(){i===s._prerequisites&&t()}),i.container.then(function(){i===s._prerequisites&&n()}),e.when(i.screen,i.container).done(function(){i===s._prerequisites&&(s._prerequisites=null,r())}),s._prerequisites=i},_animate:function(t){this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prerequisites.screen.resolve();if(t.transition&&t.transition!=="none"){t.applyTransition&&this._applyTransition(t.transition);if(this._fallbackTransition){this._ui.container.addClass(t.containerClassToAdd).removeClass(t.classToRemove).animationComplete(e.proxy(t.prerequisites.container,"resolve"));return}}this._ui.container.removeClass(t.classToRemove),t.prerequisites.container.resolve()},_desiredCoords:function(t){var n,r=null,s=i(this.window),o=t.x,u=t.y,a=t.positionTo;if(a&&a!=="origin")if(a==="window")o=s.cx/2+s.x,u=s.cy/2+s.y;else{try{r=e(a)}catch(f){r=null}r&&(r.filter(":visible"),r.length===0&&(r=null))}r&&(n=r.offset(),o=n.left+r.outerWidth()/2,u=n.top+r.outerHeight()/2);if(e.type(o)!=="number"||isNaN(o))o=s.cx/2+s.x;if(e.type(u)!=="number"||isNaN(u))u=s.cy/2+s.y;return{x:o,y:u}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",n,e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_safelyBlur:function(t){t!==this.window[0]&&t.nodeName.toLowerCase()!=="body"&&e(t).blur()},_openPrerequisitesComplete:function(){var t=this.element.attr("id"),n=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),e.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),n.length>0&&(this._ui.focusElement=n),this._ignoreResizeEvents(),t&&this.document.find("[aria-haspopup='true'][aria-owns='"+t+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(t){var n=e.extend({},this.options,t),r=function(){var e=navigator.userAgent,t=e.match(/AppleWebKit\/([0-9\.]+)/),n=!!t&&t[1],r=e.match(/Android (\d+(?:\.\d+))/),i=!!r&&r[1],s=e.indexOf("Chrome")>-1;return r!==null&&i==="4.0"&&n&&n>534.13&&!s?!0:!1}();this._createPrerequisites(e.noop,e.noop,e.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=n.transition,this._applyTransition(n.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(n),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&r&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:n.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var t=this._ui.container,r=this.element.attr("id");e.mobile.popup.active=n,e(":focus",t[0]).add(t[0]).blur(),r&&this.document.find("[aria-haspopup='true'][aria-owns='"+r+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(e.proxy(this,"_closePrerequisiteScreen"),e.proxy(this,"_closePrerequisiteContainer"),e.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){if(this.options.enhanced)return;this._setOptions({theme:e.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){return e.mobile.popup.active===this?(this.element.one("popupafterclose",e.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(n,r){var i,s,o=this.options,u=!1;if(n&&n.isDefaultPrevented()||e.mobile.popup.active!==this)return;t.scrollTo(0,this._scrollTop),n&&n.type==="pagebeforechange"&&r&&(typeof r.toPage=="string"?i=r.toPage:i=r.toPage.jqmData("url"),i=e.mobile.path.parseUrl(i),s=i.pathname+i.search+i.hash,this._myUrl!==e.mobile.path.makeUrlAbsolute(s)?u=!0:n.preventDefault()),this.window.off(o.closeEvents),this.element.undelegate(o.closeLinkSelector,o.closeLinkEvents),this._close(u)},_bindContainerClose:function(){this.window.on(this.options.closeEvents,e.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(t){var n,r,i,s,o,u,a=this,f=this.options;return e.mobile.popup.active||f.disabled?this:(e.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),f.history?(u=e.mobile.navigate.history,r=e.mobile.dialogHashKey,i=e.mobile.activePage,s=i?i.hasClass("ui-dialog"):!1,this._myUrl=n=u.getActive().url,o=n.indexOf(r)>-1&&!s&&u.activeIndex>0,o?(a._open(t),a._bindContainerClose(),this):(n.indexOf(r)===-1&&!s?n+=n.indexOf("#")>-1?r:"#"+r:n=e.mobile.path.parseLocation().hash+r,this.window.one("beforenavigate",function(e){e.preventDefault(),a._open(t),a._bindContainerClose()}),this.urlAltered=!0,e.mobile.navigate(n,{role:"dialog"}),this)):(a._open(t),a._bindContainerClose(),a.element.delegate(f.closeLinkSelector,f.closeLinkEvents,function(e){a.close(),e.preventDefault()}),this))},close:function(){return e.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(e.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),e.mobile.popup.handleLink=function(t){var n,r=e.mobile.path,i=e(r.hashToSelector(r.parseUrl(t.attr("href")).hash)).first();i.length>0&&i.data("mobile-popup")&&(n=t.offset(),i.popup("open",{x:n.left+t.outerWidth()/2,y:n.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){t.removeClass(e.mobile.activeBtnClass)},300)},e.mobile.document.on("pagebeforechange",function(t,n){n.options.role==="popup"&&(e.mobile.popup.handleLink(n.options.link),t.preventDefault())})}(e),function(e,t){var r=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",i=function(e,t,n){var i=e[n+"All"]().not(r).first();i.length&&(t.blur().attr("tabindex","-1"),i.find("a").first().focus())};e.widget("mobile.selectmenu",e.mobile.selectmenu,{_create:function(){var e=this.options;return e.nativeMenu=e.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(e){this._super(e),this._handleButtonVclickKeydown(e)},_handleButtonVclickKeydown:function(t){if(this.options.disabled||this.isOpen||this.options.nativeMenu)return;if(t.type==="vclick"||t.keyCode&&(t.keyCode===e.mobile.keyCode.ENTER||t.keyCode===e.mobile.keyCode.SPACE))this._decideFormat(),this.menuType==="overlay"?this.button.attr("href","#"+this.popupId).attr("data-"+(e.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(e.mobile.ns||"")+"rel","dialog"),this.isOpen=!0},_handleListFocus:function(t){var n=t.type==="focusin"?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};e(t.target).attr("tabindex",n.tabindex).trigger(n.event)},_handleListKeydown:function(t){var n=e(t.target),r=n.closest("li");switch(t.keyCode){case 38:return i(r,n,"prev"),!1;case 40:return i(r,n,"next"),!1;case 13:case 32:return n.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){if(this.menuType==="overlay")return this.close(),!1},_handleListItemClick:function(t){var n=e(t.target).closest("li"),r=this.select[0].selectedIndex,i=e.mobile.getAttribute(n,"option-index"),s=this._selectOptions().eq(i)[0];s.selected=this.isMultiple?!s.selected:!0,this.isMultiple&&n.find("a").toggleClass("ui-checkbox-on",s.selected).toggleClass("ui-checkbox-off",!s.selected),!this.isMultiple&&r!==i&&(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(i).find("a").first().focus()):this.close(),t.preventDefault()},build:function(){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E=this.options;return E.nativeMenu?this._super():(n=this.selectId,r=n+"-listbox",i=n+"-dialog",s=this.label,o=this.element.closest(".ui-page"),u=this.element[0].multiple,a=n+"-menu",f=E.theme?" data-"+e.mobile.ns+"theme='"+E.theme+"'":"",l=E.overlayTheme||E.theme||null,c=l?" data-"+e.mobile.ns+"overlay-theme='"+l+"'":"",h=E.dividerTheme&&u?" data-"+e.mobile.ns+"divider-theme='"+E.dividerTheme+"'":"",p=e("<div data-"+e.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+i+"'"+f+c+">"+"<div data-"+e.mobile.ns+"role='header'>"+"<div class='ui-title'></div>"+"</div>"+"<div data-"+e.mobile.ns+"role='content'></div>"+"</div>"),d=e("<div"+f+c+" id='"+r+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),v=e("<ul class='ui-selectmenu-list' id='"+a+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+f+h+"></ul>").appendTo(d),m=e("<div class='ui-header ui-bar-"+(E.theme?E.theme:"inherit")+"'></div>").prependTo(d),g=e("<h1 class='ui-title'></h1>").appendTo(m),this.isMultiple&&(w=e("<a>",{role:"button",text:E.closeText,href:"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(m)),e.extend(this,{selectId:n,menuId:a,popupId:r,dialogId:i,thisPage:o,menuPage:p,label:s,isMultiple:u,theme:E.theme,listbox:d,list:v,header:m,headerTitle:g,headerClose:w,menuPageContent:y,menuPageClose:b,placeholder:""}),this.refresh(),this._origTabIndex===t&&(this._origTabIndex=this.select[0].getAttribute("tabindex")===null?!1:this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var e=this.list.find("li"),t=this._selectOptions().not(".ui-screen-hidden");return t.text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t){var n,r;if(this.options.nativeMenu)return this._super(t);n=this,(t||this._isRebuildRequired())&&n._buildList(),r=this.selectedIndices(),n.setButtonText(),n.setButtonCount(),n.list.find("li:not(.ui-li-divider)").find("a").removeClass(e.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(t){var i=e(this);e.inArray(t,r)>-1?(i.attr("aria-selected",!0),n.isMultiple?i.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):i.hasClass("ui-screen-hidden")?i.next().find("a").addClass(e.mobile.activeBtnClass):i.find("a").addClass(e.mobile.activeBtnClass)):n.isMultiple&&i.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")})},close:function(){if(this.options.disabled||!this.isOpen)return;var e=this;e.menuType==="page"?(e.menuPage.dialog("close"),e.list.appendTo(e.listbox)):e.listbox.popup("close"),e._focusButton(),e.isOpen=!1},open:function(){this.button.click()},_focusMenuItem:function(){var t=this.list.find("a."+e.mobile.activeBtnClass);t.length===0&&(t=this.list.find("li:not("+r+") a.ui-btn")),t.first().focus()},_decideFormat:function(){var t=this,n=this.window,r=t.list.parent(),i=r.outerHeight(),s=n.scrollTop(),o=t.button.offset().top,u=n.height();i>u-80||!e.support.scrollTop?(t.menuPage.appendTo(e.mobile.pageContainer).page(),t.menuPageContent=t.menuPage.find(".ui-content"),t.menuPageClose=t.menuPage.find(".ui-header a"),t.thisPage.unbind("pagehide.remove"),s===0&&o>u&&t.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",o)}),t.menuPage.one({pageshow:e.proxy(this,"_focusMenuItem"),pagehide:e.proxy(this,"close")}),t.menuType="page",t.menuPageContent.append(t.list),t.menuPage.find("div .ui-title").text(t.label.getEncodedText()||t.placeholder)):(t.menuType="overlay",t.listbox.one({popupafteropen:e.proxy(this,"_focusMenuItem")}))},_buildList:function(){var t=this,r=this.options,i=this.placeholder,s=!0,o="false",u,a,f,l="data-"+e.mobile.ns,c=l+"option-index",h=l+"icon",p=l+"role",d=l+"placeholder",v=n.createDocumentFragment(),m=!1,g,y,b,w,E,S,x,T,N,C,k;t.list.empty().filter(".ui-listview").listview("destroy"),u=this._selectOptions(),a=u.length,f=this.select[0];for(y=0;y<a;y++,m=!1){b=u[y],w=e(b);if(w.hasClass("ui-screen-hidden"))continue;E=b.parentNode,T=[],S=w.text(),x=n.createElement("a"),x.setAttribute("href","#"),x.appendChild(n.createTextNode(S)),E!==f&&E.nodeName.toLowerCase()==="optgroup"&&(N=E.getAttribute("label"),N!==g&&(C=n.createElement("li"),C.setAttribute(p,"list-divider"),C.setAttribute("role","option"),C.setAttribute("tabindex","-1"),C.appendChild(n.createTextNode(N)),v.appendChild(C),g=N)),s&&(!b.getAttribute("value")||S.length===0||w.jqmData("placeholder"))&&(s=!1,m=!0,null===b.getAttribute(d)&&(this._removePlaceholderAttr=!0),b.setAttribute(d,!0),r.hidePlaceholderMenuItems&&T.push("ui-screen-hidden"),i!==S&&(i=t.placeholder=S)),k=n.createElement("li"),b.disabled&&(T.push("ui-state-disabled"),k.setAttribute("aria-disabled",!0)),k.setAttribute(c,y),k.setAttribute(h,o),m&&k.setAttribute(d,!0),k.className=T.join(" "),k.setAttribute("role","option"),x.setAttribute("tabindex","-1"),this.isMultiple&&e(x).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),k.appendChild(x),v.appendChild(k)}t.list[0].appendChild(v),!this.isMultiple&&!i.length?this.header.addClass("ui-screen-hidden"):this.headerTitle.text(this.placeholder),t.list.listview()},_button:function(){return this.options.nativeMenu?this._super():e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==t&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+e.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(e),function(e,t){function s(e,t){var n=t?t:[];return n.push("ui-btn"),e.theme&&n.push("ui-btn-"+e.theme),e.icon&&(n=n.concat(["ui-icon-"+e.icon,"ui-btn-icon-"+e.iconpos]),e.iconshadow&&n.push("ui-shadow-icon")),e.inline&&n.push("ui-btn-inline"),e.shadow&&n.push("ui-shadow"),e.corners&&n.push("ui-corner-all"),e.mini&&n.push("ui-mini"),n}function o(e){var r,i,s,o=!1,u=!0,a={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},f=[];e=e.split(" ");for(r=0;r<e.length;r++)s=!0,i=n[e[r]],i!==t?(s=!1,a[i]=!0):e[r].indexOf("ui-btn-icon-")===0?(s=!1,u=!1,a.iconpos=e[r].substring(12)):e[r].indexOf("ui-icon-")===0?(s=!1,a.icon=e[r].substring(8)):e[r].indexOf("ui-btn-")===0&&e[r].length===8?(s=!1,a.theme=e[r].substring(7)):e[r]==="ui-btn"&&(s=!1,o=!0),s&&f.push(e[r]);return u&&(a.icon=""),{options:a,unknownClasses:f,alreadyEnhanced:o}}function u(e){return"-"+e.toLowerCase()}var n={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},r=function(){var n=e.mobile.getAttribute.apply(this,arguments);return n==null?t:n},i=/[A-Z]/g;e.fn.buttonMarkup=function(n,a){var f,l,c,h,p,d=e.fn.buttonMarkup.defaults;for(f=0;f<this.length;f++){c=this[f],l=a?{alreadyEnhanced:!1,unknownClasses:[]}:o(c.className),h=e.extend({},l.alreadyEnhanced?l.options:{},n);if(!l.alreadyEnhanced)for(p in d)h[p]===t&&(h[p]=r(c,p.replace(i,u)));c.className=s(e.extend({},d,h),l.unknownClasses).join(" "),c.tagName.toLowerCase()!=="button"&&c.setAttribute("role","button")}return this},e.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},e.extend(e.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})}(e),function(e,t){e.widget("mobile.controlgroup",e.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var t=this.element,n=this.options,r=e.mobile.page.prototype.keepNativeSelector();e.fn.buttonMarkup&&this.element.find(e.fn.buttonMarkup.initSelector).not(r).buttonMarkup(),e.each(this._childWidgets,e.proxy(function(t,n){e.mobile[n]&&this.element.find(e.mobile[n].initSelector).not(r)[n]()},this)),e.extend(this,{_ui:null,_initialRefresh:!0}),n.enhanced?this._ui={groupLegend:t.children(".ui-controlgroup-label").children(),childWrapper:t.children(".ui-controlgroup-controls")}:this._ui=this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(e){return e?e==="none"?"":"ui-group-theme-"+e:""},_enhance:function(){var t=this.element,n=this.options,r={groupLegend:t.children("legend"),childWrapper:t.addClass("ui-controlgroup ui-controlgroup-"+(n.type==="horizontal"?"horizontal":"vertical")+" "+this._themeClassFromOption(n.theme)+" "+(n.corners?"ui-corner-all ":"")+(n.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(n.shadow===!0?"ui-shadow":"")+"'></div>").children()};return r.groupLegend.length>0&&e("<div role='heading' class='ui-controlgroup-label'></div>").append(r.groupLegend).prependTo(t),r},_init:function(){this.refresh()},_setOptions:function(e){var n,r,i=this.element;return e.type!==t&&(i.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+(e.type==="horizontal"?"horizontal":"vertical")),n=!0),e.theme!==t&&i.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(e.theme)),e.corners!==t&&i.toggleClass("ui-corner-all",e.corners),e.mini!==t&&i.toggleClass("ui-mini",e.mini),e.shadow!==t&&this._ui.childWrapper.toggleClass("ui-shadow",e.shadow),e.excludeInvisible!==t&&(this.options.excludeInvisible=e.excludeInvisible,n=!0),r=this._super(e),n&&this.refresh(),r},container:function(){return this._ui.childWrapper},refresh:function(){var t=this.container(),n=t.find(".ui-btn").not(".ui-slider-handle"),r=this._initialRefresh;e.mobile.checkboxradio&&t.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(n,this.options.excludeInvisible?this._getVisibles(n,r):n,r),this._initialRefresh=!1},_destroy:function(){var e,t,n=this.options;if(n.enhanced)return this;e=this._ui,t=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(n.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(t),e.groupLegend.unwrap(),e.childWrapper.children().unwrap()}},e.mobile.behaviors.addFirstLastClasses))}(e),function(e,t){e.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var t,n,r=this.element.is(":jqmData(role='header')")?"header":"footer",i=this.element.closest(".ui-page");i.length===0&&(i=!1,this._on(this.document,{pageshow:"refresh"})),e.extend(this,{role:r,page:i,leftbtn:t,rightbtn:n}),this.element.attr("role",r==="header"?"banner":"contentinfo").addClass("ui-"+r),this.refresh(),this._setOptions(this.options)},_setOptions:function(e){e.addBackBtn!==t&&this._updateBackButton(),e.backBtnTheme!=null&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+e.backBtnTheme),e.backBtnText!==t&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(e.backBtnText);if(e.theme!==t){var n=this.options.theme?this.options.theme:"inherit",r=e.theme?e.theme:"inherit";this.element.removeClass("ui-bar-"+n).addClass("ui-bar-"+r)}this._super(e)},refresh:function(){this.role==="header"&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),this.role==="footer"?this.element.appendTo("body"):this.role==="header"&&this._updateBackButton()),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){e("[data-"+e.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+e.mobile.ns+"role='none'])").attr("data-"+e.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var e=this.element.children("a, button");this.leftbtn=e.hasClass("ui-btn-left")&&!e.hasClass("ui-toolbar-back-btn"),this.rightbtn=e.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||e.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||e.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var t,n=this.options,r=n.backBtnTheme||n.theme;t=this._backButton=this._backButton||{},this.options.addBackBtn&&this.role==="header"&&e(".ui-page").length>1&&(this.page?this.page[0].getAttribute("data-"+e.mobile.ns+"url")!==e.mobile.path.stripHash(location.hash):e.mobile.navigate&&e.mobile.navigate.history&&e.mobile.navigate.history.activeIndex>0)&&!this.leftbtn?t.attached||(this.backButton=t.element=(t.element||e("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(r?"ui-btn-"+r+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' "+"data-"+e.mobile.ns+"rel='back'>"+n.backBtnText+"</a>")).prependTo(this.element),t.attached=!0):t.element&&(t.element.detach(),t.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){var e;this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level"),this.role==="header"&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove()),e=this.options.theme?this.options.theme:"inherit",this.element.removeClass("ui-bar-"+e),this.element.removeClass("ui-"+this.role).removeAttr("role")}})}(e),function(e,t){e.widget("mobile.toolbar",e.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!e.support.fixedPosition}},_create:function(){this._super(),this.pagecontainer=e(":mobile-pagecontainer"),this.options.position==="fixed"&&!this.options.supportBlacklist()&&this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(n){n.position==="fixed"&&this.options.position!=="fixed"&&this._makeFixed();if(this.options.position==="fixed"&&!this.options.supportBlacklist()){var r=this.page?this.page:e(".ui-page-active").length>0?e(".ui-page-active"):e(".ui-page").eq(0);n.fullscreen!==t&&(n.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),r.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),r.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(n)},_addTransitionClass:function(){var e=this.options.transition;e&&e!=="none"&&(e==="slide"&&(e=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){var e=this.page?this.element.closest(".ui-page"):this.document;this._on(e,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&e.mobile.zoom.disable(!0),t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,n){var r=this.options,i,s,o,u;r.disablePageZoom&&e.mobile.zoom.enable(!0),r.updatePagePadding&&this._off(this.window,"throttledresize");if(r.trackPersistentToolbars){i=e(".ui-footer-fixed:jqmData(id)",this.page),s=e(".ui-header-fixed:jqmData(id)",this.page),o=i.length&&n.nextPage&&e(".ui-footer-fixed:jqmData(id='"+i.jqmData("id")+"')",n.nextPage)||e(),u=s.length&&n.nextPage&&e(".ui-header-fixed:jqmData(id='"+s.jqmData("id")+"')",n.nextPage)||e();if(o.length||u.length)o.add(u).appendTo(e.mobile.pageContainer),n.nextPage.one("pageshow",function(){u.prependTo(this),o.appendTo(this)})}},_visible:!0,updatePagePadding:function(n){var r=this.element,i=this.role==="header",s=parseFloat(r.css(i?"top":"bottom"));if(this.options.fullscreen)return;n=n&&n.type===t&&n||this.page||r.closest(".ui-page"),n=this.page?this.page:".ui-page-active",e(n).css("padding-"+(i?"top":"bottom"),r.outerHeight()+s)},_useTransition:function(t){var n=this.window,r=this.element,i=n.scrollTop(),s=r.height(),o=this.page?r.closest(".ui-page").height():e(".ui-page-active").height(),u=e.mobile.getScreenHeight();return!t&&(this.options.transition&&this.options.transition!=="none"&&(this.role==="header"&&!this.options.fullscreen&&i>s||this.role==="footer"&&!this.options.fullscreen&&i+u<o-s)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",n=this.element;this._useTransition(e)?n.removeClass("out "+t).addClass("in").animationComplete(function(){n.removeClass("in")}):n.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",n=this.element,r="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(e)?n.addClass(r).removeClass("in").animationComplete(function(){n.addClass(t).removeClass(r)}):n.addClass(t).removeClass(r),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t=this,n=t.options,r,i,s=!0,o=this.page?this.page:e(".ui-page");o.bind("vclick",function(r){n.tapToggle&&!e(r.target).closest(n.tapToggleBlacklist).length&&t.toggle()}).bind("focusin focusout",function(o){screen.width<1025&&e(o.target).is(n.hideDuringFocus)&&!e(o.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&(o.type==="focusout"&&!s?(s=!0,clearTimeout(i),r=setTimeout(function(){t.show()},0)):o.type==="focusin"&&!!s&&(clearTimeout(r),s=!1,i=setTimeout(function(){t.hide()},0)))})},_setRelative:function(){this.options.position!=="fixed"&&e("[data-"+e.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var t,n,r,i,s,o=this.pagecontainer.pagecontainer("getActivePage");this._super(),this.options.position==="fixed"&&(r=e("body>.ui-"+this.role+"-fixed").add(o.find(".ui-"+this.options.role+"-fixed")).not(this.element).length>0,s=e("body>.ui-"+this.role+"-fixed").add(o.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length>0,n="ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden",this.element.removeClass(n),s||(t="ui-page-"+this.role+"-fullscreen"),r||(i=this.role==="header",t+=" ui-page-"+this.role+"-fixed",o.css("padding-"+(i?"top":"bottom"),"")),o.removeClass(t))}})}(e),function(e,t){e.widget("mobile.toolbar",e.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var e=navigator.userAgent,t=navigator.platform,n=e.match(/AppleWebKit\/([0-9]+)/),r=!!n&&n[1],i=null,s=this;if(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1||t.indexOf("iPod")>-1)i="ios";else{if(!(e.indexOf("Android")>-1))return;i="android"}if(i==="ios")s._bindScrollWorkaround();else{if(!(i==="android"&&r&&r<534))return;s._bindScrollWorkaround(),s._bindListThumbWorkaround()}},_viewportOffset:function(){var e=this.element,t=e.hasClass("ui-header"),n=Math.abs(e.offset().top-this.window.scrollTop());return t||(n=Math.round(n-this.window.height()+e.outerHeight())-60),n},_bindScrollWorkaround:function(){var e=this;this._on(this.window,{scrollstop:function(){var t=e._viewportOffset();t>2&&e._visible&&e._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(e(".ui-page-active").css("padding-bottom"));e(".ui-page-active").css("padding-bottom",t+1+"px"),setTimeout(function(){e(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(e),function(e,t){function i(){var e=r.clone(),t=e.eq(0),n=e.eq(1),i=n.children();return{arEls:n.add(t),gd:t,ct:n,ar:i}}var n=e.mobile.browser.oldIE&&e.mobile.browser.oldIE<=8,r=e("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(n?" ie":"")+"'>"+"<div class='ui-popup-arrow'></div>"+"</div>");e.widget("mobile.popup",e.mobile.popup,{options:{arrow:""},_create:function(){var e,t=this._super();return this.options.arrow&&(this._ui.arrow=e=this._addArrow()),t},_addArrow:function(){var e,t=this.options,n=i();return e=this._themeClassFromOption("ui-body-",t.theme),n.ar.addClass(e+(t.shadow?" ui-overlay-shadow":"")),n.arEls.hide().appendTo(this.element),n},_unenhance:function(){var e=this._ui.arrow;return e&&e.arEls.remove(),this._super()},_tryAnArrow:function(e,t,n,r,i){var s,o,u,a={},f={};if(r.arFull[e.dimKey]>r.guideDims[e.dimKey])return i;a[e.fst]=n[e.fst]+(r.arHalf[e.oDimKey]+r.menuHalf[e.oDimKey])*e.offsetFactor-r.contentBox[e.fst]+(r.clampInfo.menuSize[e.oDimKey]-r.contentBox[e.oDimKey])*e.arrowOffsetFactor,a[e.snd]=n[e.snd],s=r.result||this._calculateFinalLocation(a,r.clampInfo),o={x:s.left,y:s.top},f[e.fst]=o[e.fst]+r.contentBox[e.fst]+e.tipOffset,f[e.snd]=Math.max(s[e.prop]+r.guideOffset[e.prop]+r.arHalf[e.dimKey],Math.min(s[e.prop]+r.guideOffset[e.prop]+r.guideDims[e.dimKey]-r.arHalf[e.dimKey],n[e.snd])),u=Math.abs(n.x-f.x)+Math.abs(n.y-f.y);if(!i||u<i.diff)f[e.snd]-=r.arHalf[e.dimKey]+s[e.prop]+r.contentBox[e.snd],i={dir:t,diff:u,result:s,posProp:e.prop,posVal:f[e.snd]};return i},_getPlacementState:function(e){var t,n,r=this._ui.arrow,i={clampInfo:this._clampPopupWidth(!e),arFull:{cx:r.ct.width(),cy:r.ct.height()},guideDims:{cx:r.gd.width(),cy:r.gd.height()},guideOffset:r.gd.offset()};return t=this.element.offset(),r.gd.css({left:0,top:0,right:0,bottom:0}),n=r.gd.offset(),i.contentBox={x:n.left-t.left,y:n.top-t.top,cx:r.gd.width(),cy:r.gd.height()},r.gd.removeAttr("style"),i.guideOffset={left:i.guideOffset.left-t.left,top:i.guideOffset.top-t.top},i.arHalf={cx:i.arFull.cx/2,cy:i.arFull.cy/2},i.menuHalf={cx:i.clampInfo.menuSize.cx/2,cy:i.clampInfo.menuSize.cy/2},i},_placementCoords:function(t){var r,i,s,o,u,a=this.options.arrow,f=this._ui.arrow;return f?(f.arEls.show(),u={},r=this._getPlacementState(!0),s={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-r.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:r.arHalf.cx+r.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:r.arHalf.cy+r.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-r.arHalf.cy,arrowOffsetFactor:0}},e.each((a===!0?"l,t,r,b":a).split(","),e.proxy(function(e,n){i=this._tryAnArrow(s[n],n,t,r,i)},this)),i?(f.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+i.dir).removeAttr("style").css(i.posProp,i.posVal).show(),n||(o=this.element.offset(),u[s[i.dir].fst]=f.ct.offset(),u[s[i.dir].snd]={left:o.left+r.contentBox.x,top:o.top+r.contentBox.y}),i.result):(f.arEls.hide(),this._super(t))):this._super(t)},_setOptions:function(e){var n,r=this.options.theme,i=this._ui.arrow,s=this._super(e);if(e.arrow!==t){if(!i&&e.arrow){this._ui.arrow=this._addArrow();return}i&&!e.arrow&&(i.arEls.remove(),this._ui.arrow=null)}return i=this._ui.arrow,i&&(e.theme!==t&&(r=this._themeClassFromOption("ui-body-",r),n=this._themeClassFromOption("ui-body-",e.theme),i.ar.removeClass(r).addClass(n)),e.shadow!==t&&i.ar.toggleClass("ui-overlay-shadow",e.shadow)),s},_destroy:function(){var e=this._ui.arrow;return e&&e.arEls.remove(),this._super()}})}(e),function(e,n){e.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var t=this.element,n=t.closest(".ui-page, :jqmData(role='page')");e.extend(this,{_closeLink:t.find(":jqmData(rel='close')"),_parentPage:n.length>0?n:!1,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),this.options.display!=="overlay"&&this._getWrapper(),this._addPanelClasses(),e.support.cssTransform3d&&!!this.options.animate&&this.element.addClass(this.options.classes.animate),this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),!this.options.dismissible||this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var e=this.element.find("."+this.options.classes.panelInner);return e.length===0&&(e=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),e},_createModal:function(){var t=this,n=t._parentPage?t._parentPage.parent():t.element.parent();t._modal=e("<div class='"+t.options.classes.modal+"'></div>").on("mousedown",function(){t.close()}).appendTo(n)},_getPage:function(){var t=this._openedPage||this._parentPage||e("."+e.mobile.activePageClass);return t},_getWrapper:function(){var e=this._page().find("."+this.options.classes.pageWrapper);e.length===0&&(e=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=e},_getFixedToolbars:function(){var t=e("body").children(".ui-header-fixed, .ui-footer-fixed"),n=this._page().find(".ui-header-fixed, .ui-footer-fixed"),r=t.add(n).addClass(this.options.classes.pageFixedToolbar);return r},_getPosDisplayClasses:function(e){return e+"-position-"+this.options.position+" "+e+"-display-"+this.options.display},_getPanelClasses:function(){var e=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" "+"ui-body-"+(this.options.theme?this.options.theme:"inherit");return!this.options.positionFixed||(e+=" "+this.options.classes.panelFixed),e},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(e){e.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(t){var n=this,r=n._panelInner.outerHeight(),i=r>e.mobile.getScreenHeight();i||!n.options.positionFixed?(i&&(n._unfixPanel(),e.mobile.resetActivePageHeight(r)),t&&this.window[0].scrollTo(0,e.mobile.defaultHomeScroll)):n._fixPanel()},_bindFixListener:function(){this._on(e(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(e(t),"throttledresize")},_unfixPanel:function(){!!this.options.positionFixed&&e.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){!!this.options.positionFixed&&e.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var e=this;e.element.on("updatelayout",function(){e._open&&e._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(t){var r,i=this.element.attr("id");t.currentTarget.href.split("#")[1]===i&&i!==n&&(t.preventDefault(),r=e(t.target),r.hasClass("ui-btn")&&(r.addClass(e.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){r.removeClass(e.mobile.activeBtnClass)})),this.toggle())},_bindSwipeEvents:function(){var e=this,t=e._modal?e.element.add(e._modal):e.element;!e.options.swipeClose||(e.options.position==="left"?t.on("swipeleft.panel",function(){e.close()}):t.on("swiperight.panel",function(){e.close()}))},_bindPageEvents:function(){var e=this;this.document.on("panelbeforeopen",function(t){e._open&&t.target!==e.element[0]&&e.close()}).on("keyup.panel",function(t){t.keyCode===27&&e._open&&e.close()}),!this._parentPage&&this.options.display!=="overlay"&&this._on(this.document,{pageshow:function(){this._openedPage=null,this._getWrapper()}}),e._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){e._open&&e.close(!0)}):this.document.on("pagebeforehide",function(){e._open&&e.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var n=this,r=n.options,i=function(){n._off(n.document,"panelclose"),n._page().jqmData("panel","open"),e.support.cssTransform3d&&!!r.animate&&r.display!=="overlay"&&(n._wrapper.addClass(r.classes.animate),n._fixedToolbars().addClass(r.classes.animate)),!t&&e.support.cssTransform3d&&!!r.animate?(n._wrapper||n.element).animationComplete(s,"transition"):setTimeout(s,0),r.theme&&r.display!=="overlay"&&n._page().parent().addClass(r.classes.pageContainer+"-themed "+r.classes.pageContainer+"-"+r.theme),n.element.removeClass(r.classes.panelClosed).addClass(r.classes.panelOpen),n._positionPanel(!0),n._pageContentOpenClasses=n._getPosDisplayClasses(r.classes.pageContentPrefix),r.display!=="overlay"&&(n._page().parent().addClass(r.classes.pageContainer),n._wrapper.addClass(n._pageContentOpenClasses),n._fixedToolbars().addClass(n._pageContentOpenClasses)),n._modalOpenClasses=n._getPosDisplayClasses(r.classes.modal)+" "+r.classes.modalOpen,n._modal&&n._modal.addClass(n._modalOpenClasses).height(Math.max(n._modal.height(),n.document.height()))},s=function(){if(!n._open)return;r.display!=="overlay"&&(n._wrapper.addClass(r.classes.pageContentPrefix+"-open"),n._fixedToolbars().addClass(r.classes.pageContentPrefix+"-open")),n._bindFixListener(),n._trigger("open"),n._openedPage=n._page()};n._trigger("beforeopen"),n._page().jqmData("panel")==="open"?n._on(n.document,{panelclose:i}):i(),n._open=!0}},close:function(t){if(this._open){var n=this,r=this.options,i=function(){n.element.removeClass(r.classes.panelOpen),r.display!=="overlay"&&(n._wrapper.removeClass(n._pageContentOpenClasses),n._fixedToolbars().removeClass(n._pageContentOpenClasses)),!t&&e.support.cssTransform3d&&!!r.animate?(n._wrapper||n.element).animationComplete(s,"transition"):setTimeout(s,0),n._modal&&n._modal.removeClass(n._modalOpenClasses).height("")},s=function(){r.theme&&r.display!=="overlay"&&n._page().parent().removeClass(r.classes.pageContainer+"-themed "+r.classes.pageContainer+"-"+r.theme),n.element.addClass(r.classes.panelClosed),r.display!=="overlay"&&(n._page().parent().removeClass(r.classes.pageContainer),n._wrapper.removeClass(r.classes.pageContentPrefix+"-open"),n._fixedToolbars().removeClass(r.classes.pageContentPrefix+"-open")),e.support.cssTransform3d&&!!r.animate&&r.display!=="overlay"&&(n._wrapper.removeClass(r.classes.animate),n._fixedToolbars().removeClass(r.classes.animate)),n._fixPanel(),n._unbindFixListener(),e.mobile.resetActivePageHeight(),n._page().jqmRemoveData("panel"),n._trigger("close"),n._openedPage=null};n._trigger("beforeclose"),i(),n._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var t,n=this.options,r=e("body > :mobile-panel").length+e.mobile.activePage.find(":mobile-panel").length>1;n.display!=="overlay"&&(t=e("body > :mobile-panel").add(e.mobile.activePage.find(":mobile-panel")),t.not(".ui-panel-display-overlay").not(this.element).length===0&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(n.classes.pageContentPrefix+"-open"),e.support.cssTransform3d&&!!n.animate&&this._fixedToolbars().removeClass(n.classes.animate),this._page().parent().removeClass(n.classes.pageContainer),n.theme&&this._page().parent().removeClass(n.classes.pageContainer+"-themed "+n.classes.pageContainer+"-"+n.theme))),r||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),n.classes.panelOpen,n.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(e),function(e,t){e.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),e.extend(this,{headers:t,allHeaders:t}),this._refresh(!0)},_setHeaders:function(){var e=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(e.children())},refresh:function(){this._refresh()},rebuild:e.noop,_refresh:function(){var t=this.element,n=t.find("thead tr");this._setHeaders(),n.each(function(){var r=0;e(this).children().each(function(){var i=parseInt(this.getAttribute("colspan"),10),s=":nth-child("+(r+1)+")",o;this.setAttribute("data-"+e.mobile.ns+"colstart",r+1);if(i)for(o=0;o<i-1;o++)r++,s+=", :nth-child("+(r+1)+")";e(this).jqmData("cells",t.find("tr").not(n.eq(0)).not(this).children(s)),r++})})}})}(e),function(e,t){e.widget("mobile.table",e.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:e.extend(e.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super();if(this.options.mode!=="columntoggle")return;e.extend(this,{_menu:null}),this.options.enhanced?(this._menu=e(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState()},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(t,n){var r,i=0,s=this.options,o=t.controlgroup("container");n?r=t.find("input"):o.empty(),this.headers.not("td").each(function(){var t,u,a=e(this),f=e.mobile.getAttribute(this,"priority");f&&(u=a.add(a.jqmData("cells")),u.addClass(s.classes.priorityPrefix+f),t=(n?r.eq(i++):e("<label><input type='checkbox' checked />"+(a.children("abbr").first().attr("title")||a.text())+"</label>").appendTo(o).children(0).checkboxradio({theme:s.columnPopupTheme})).jqmData("header",a).jqmData("cells",u),a.jqmData("input",t))}),n||t.controlgroup("refresh")},_menuInputChange:function(t){var n=e(t.target),r=n[0].checked;n.jqmData("cells").toggleClass("ui-table-cell-hidden",!r).toggleClass("ui-table-cell-visible",r)},_unlockCells:function(e){e.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var t,n,r,i,s=this.element,o=this.options,u=e.mobile.ns,a=this.document[0].createDocumentFragment();return t=this._id()+"-popup",n=e("<a href='#"+t+"' "+"class='"+o.classes.columnBtn+" ui-btn "+"ui-btn-"+(o.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' "+"data-"+u+"rel='popup'>"+o.columnBtnText+"</a>"),r=e("<div class='"+o.classes.popup+"' id='"+t+"'></div>"),i=e("<fieldset></fieldset>").controlgroup(),this._addToggles(i,!1),i.appendTo(r),a.appendChild(r[0]),a.appendChild(n[0]),s.before(a),r.popup(),i},rebuild:function(){this._super(),this.options.mode==="columntoggle"&&this._refresh(!1)},_refresh:function(t){var n,r,i;this._super(t);if(!t&&this.options.mode==="columntoggle"){n=this.headers,r=[],this._menu.find("input").each(function(){var t=e(this),i=t.jqmData("header"),s=n.index(i[0]);s>-1&&!t.prop("checked")&&r.push(s)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,t);for(i=r.length-1;i>-1;i--)n.eq(r[i]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")}},_setToggleState:function(){this._menu.find("input").each(function(){var t=e(this);this.checked=t.jqmData("cells").eq(0).css("display")==="table-cell",t.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(e),function(e,t){e.widget("mobile.table",e.mobile.table,{options:{mode:"reflow",classes:e.extend(e.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super();if(this.options.mode!=="reflow")return;this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow())},rebuild:function(){this._super(),this.options.mode==="reflow"&&this._refresh(!1)},_refresh:function(e){this._super(e),!e&&this.options.mode==="reflow"&&this._updateReflow()},_updateReflow:function(){var t=this,n=this.options;e(t.allHeaders.get().reverse()).each(function(){var r=e(this).jqmData("cells"),i=e.mobile.getAttribute(this,"colstart"),s=r.not(this).filter("thead th").length&&" ui-table-cell-label-top",o=e(this).clone().contents(),u,a;o.length>0&&(s?(u=parseInt(this.getAttribute("colspan"),10),a="",u&&(a="td:nth-child("+u+"n + "+i+")"),t._addLabels(r.filter(a),n.classes.cellLabels+s,o)):t._addLabels(r,n.classes.cellLabels,o))})},_addLabels:function(t,n,r){r.length===1&&r[0].nodeName.toLowerCase()==="abbr"&&(r=r.eq(0).attr("title")),t.not(":has(b."+n+")").prepend(e("<b class='"+n+"'></b>").append(r))}})}(e),function(e,n){var r=function(t,n){return(""+(e.mobile.getAttribute(this,"filtertext")||e(this).text())).toLowerCase().indexOf(n)===-1};e.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:r,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var t=this.options;e.extend(this,{_search:null,_timer:0}),this._setInput(t.input),t.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var n,r,i=this._search;if(i){n=i.val().toLowerCase(),r=e.mobile.getAttribute(i[0],"lastval")+"";if(r&&r===n)return;this._timer&&(t.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){if(this._trigger("beforefilter",null,{input:i})===!1)return!1;i[0].setAttribute("data-"+e.mobile.ns+"lastval",n),this._filterItems(n),this._timer=0},250)}},_getFilterableItems:function(){var t=this.element,n=this.options.children,r=n?e.isFunction(n)?n():n.nodeName?e(n):n.jquery?n:this.element.find(n):{length:0};return r.length===0&&(r=t.children()),r},_filterItems:function(t){var n,i,s,o,u=[],a=[],f=this.options,l=this._getFilterableItems();if(t!=null){i=f.filterCallback||r,s=l.length;for(n=0;n<s;n++)o=i.call(l[n],n,t)?a:u,o.push(l[n])}a.length===0?l[f.filterReveal&&t.length===0?"addClass":"removeClass"]("ui-screen-hidden"):(e(a).addClass("ui-screen-hidden"),e(u).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:l})},_refreshChildWidget:function(){var t,n,r=["collapsibleset","selectmenu","controlgroup","listview"];for(n=r.length-1;n>-1;n--)t=r[n],e.mobile[t]&&(t=this.element.data("mobile-"+t),t&&e.isFunction(t.refresh)&&t.refresh())},_setInput:function(n){var r=this._search;this._timer&&(t.clearTimeout(this._timer),this._timer=0),r&&(this._off(r,"keyup change input"),r=null),n&&(r=n.jquery?n:n.nodeName?e(n):this.document.find(n),this._on(r,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=r},_onKeyDown:function(t){t.keyCode===e.ui.keyCode.ENTER&&(t.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(e){this._preventKeyPress&&(e.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(e){var t=e.filterReveal!==n||e.filterCallback!==n||e.children!==n;this._super(e),e.input!==n&&(this._setInput(e.input),t=!0),t&&this.refresh()},_destroy:function(){var e=this.options,t=this._getFilterableItems();e.enhanced?t.toggleClass("ui-screen-hidden",e.filterReveal):t.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(t.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(e),function(e,t){var n=function(e,t){return function(n){t.call(this,n),e._syncTextInputOptions(n)}},r=/(^|\s)ui-li-divider(\s|$)/,i=e.mobile.filterable.prototype.options.filterCallback;e.mobile.filterable.prototype.options.filterCallback=function(e,t){return!this.className.match(r)&&i.call(this,e,t)},e.widget("mobile.filterable",e.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var t,n,r=this.element,i=["collapsibleset","selectmenu","controlgroup","listview"],s={};this._super(),e.extend(this,{_widget:null});for(t=i.length-1;t>-1;t--){n=i[t];if(e.mobile[n]){if(this._setWidget(r.data("mobile-"+n)))break;s[n+"create"]="_handleCreate"}}this._widget||this._on(r,s)},_handleCreate:function(e){this._setWidget(this.element.data("mobile-"+e.type.substring(0,e.type.length-6)))},_trigger:function(e,t,n){return this._widget&&this._widget.widgetFullName==="mobile-listview"&&e==="beforefilter"&&this._widget._trigger("beforefilter",t,n),this._super(e,t,n)},_setWidget:function(e){return!this._widget&&e&&(this._widget=e,this._widget._setOptions=n(this,this._widget._setOptions)),!this._widget||(this._syncTextInputOptions(this._widget.options),this._widget.widgetName==="listview"&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(t){var n=this.options,r=!0,i={};if(!t){if(this._isSearchInternal())return;r=!1,t=e("<input data-"+e.mobile.ns+"type='search' "+"placeholder='"+n.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),e("<form class='ui-filterable'></form>").append(t).submit(function(e){e.preventDefault(),t.blur()}).insertBefore(this.element),e.mobile.textinput&&(this.options.filterTheme!=null&&(i.theme=n.filterTheme),t.textinput(i))}this._super(t),this._isSearchInternal()&&r&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(n){var r=this._super(n);return n.filterPlaceholder!==t&&this._isSearchInternal()&&this._search.attr("placeholder",n.filterPlaceholder),n.filterTheme!==t&&this._search&&e.mobile.textinput&&this._search.textinput("option","theme",n.filterTheme),r},_refreshChildWidget:function(){this._refreshingChildWidget=!0,this._superApply(arguments),this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(n){var r,i={};if(this._isSearchInternal()&&e.mobile.textinput){for(r in e.mobile.textinput.prototype.options)n[r]!==t&&(r==="theme"&&this.options.filterTheme!=null?i[r]=this.options.filterTheme:i[r]=n[r]);this._search.textinput("option",i)}}}),e.widget("mobile.listview",e.mobile.listview,{options:{filter:!1},_create:function(){return this.options.filter===!0&&!this.element.data("mobile-filterable")&&this.element.filterable(),this._super()},refresh:function(){var e;this._superApply(arguments),this.options.filter===!0&&(e=this.element.data("mobile-filterable"),e&&e.refresh())}})}(e),function(e,t){function i(){return++n}function s(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(r,""))===decodeURIComponent(location.href.replace(r,""))}var n=0,r=/#.*$/;e.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);if(t===null){r&&this.tabs.each(function(n,i){if(e(i).attr("aria-controls")===r)return t=n,!1}),t===null&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active")));if(t===null||t===-1)t=this.tabs.length?0:!1}return t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=n?!1:0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(this._handlePageNav(t))return;switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:t.preventDefault(),clearTimeout(this.activating),this._activate(r);return;case e.ui.keyCode.ENTER:t.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r);return;default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))},_panelKeydown:function(t){if(this._handlePageNav(t))return;t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(t,n){function i(){return t>r&&(t=0),t<0&&(t=r),t}var r=this.tabs.length-1;while(e.inArray(i(),this.options.disabled)!==-1)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){if(e==="active"){this._activate(t);return}if(e==="disabled"){this._setupDisabled(t);return}this._super(e,t),e==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",t),!t&&this.options.active===!1&&this._activate(0)),e==="event"&&this._setupEvents(t),e==="heightStyle"&&this._setupHeightStyle(t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active===!1||!this.anchors.length?(t.active=!1,this.active=e()):this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var i,o,u,a=e(r).uniqueId().attr("id"),f=e(r).closest("li"),l=f.attr("aria-controls");s(r)?(i=r.hash,o=t.element.find(t._sanitizeSelector(i))):(u=t._tabId(f),i="#"+u,o=t.element.find(i),o.length||(o=t._createPanel(u),o.insertAfter(t.panels[n-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),l&&f.data("ui-tabs-aria-controls",l),f.attr({"aria-controls":i.substring(1),"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n=0,r;r=this.tabs[n];n++)t===!0||e.inArray(n,t)!==-1?e(r).addClass("ui-state-disabled").attr("aria-disabled","true"):e(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();t==="fill"?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");if(r==="absolute"||r==="fixed")return;n-=t.outerHeight(!0)}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):t==="auto"&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i.closest("li"),o=s[0]===r[0],u=o&&n.collapsible,a=u?e():this._getPanelForTab(s),f=r.length?this._getPanelForTab(r):e(),l={oldTab:r,oldPanel:f,newTab:u?e():s,newPanel:a};t.preventDefault();if(s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||this._trigger("beforeActivate",t,l)===!1)return;n.active=u?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),!f.length&&!a.length&&e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,l)},_toggle:function(t,n){function o(){r.running=!1,r._trigger("activate",t,n)}function u(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&r.options.show?r._show(i,r.options.show,o):(i.show(),o())}var r=this,i=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),u()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),u()),s.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),i.length&&s.length?n.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);if(r[0]===this.active[0])return;r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return typeof e=="string"&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(n){var r=this.options.disabled;if(r===!1)return;n===t?r=!1:(n=this._getIndex(n),e.isArray(r)?r=e.map(r,function(e){return e!==n?e:null}):r=e.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(r)},disable:function(n){var r=this.options.disabled;if(r===!0)return;if(n===t)r=!0;else{n=this._getIndex(n);if(e.inArray(n,r)!==-1)return;e.isArray(r)?r=e.merge([n],r).sort():r=[n]}this._setupDisabled(r)},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),o=i.find(".ui-tabs-anchor"),u=this._getPanelForTab(i),a={tab:i,panel:u};if(s(o[0]))return;this.xhr=e.ajax(this._ajaxSettings(o,n,a)),this.xhr&&this.xhr.statusText!=="canceled"&&(i.addClass("ui-tabs-loading"),u.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){u.html(e),r._trigger("load",n,a)},1)}).complete(function(e,t){setTimeout(function(){t==="abort"&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),u.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)}))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,s){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}})}(e),function(e,t){}(e),function(e,t){function f(e){i=e.originalEvent,a=i.accelerationIncludingGravity,s=Math.abs(a.x),o=Math.abs(a.y),u=Math.abs(a.z),!t.orientation&&(s>7||(u>6&&o<8||u<8&&o>6)&&s>5)?r.enabled&&r.disable():r.enabled||r.enable()}e.mobile.iosorientationfixEnabled=!0;var n=navigator.userAgent,r,i,s,o,u,a;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(n)&&n.indexOf("AppleWebKit")>-1)){e.mobile.iosorientationfixEnabled=!1;return}r=e.mobile.zoom,e.mobile.document.on("mobileinit",function(){e.mobile.iosorientationfixEnabled&&e.mobile.window.bind("orientationchange.iosorientationfix",r.enable).bind("devicemotion.iosorientationfix",f)})}(e,this),function(e,t,r){function o(){i.removeClass("ui-mobile-rendering")}var i=e("html"),s=e.mobile.window;e(t.document).trigger("mobileinit");if(!e.mobile.gradeA())return;e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),i.addClass("ui-mobile ui-mobile-rendering"),setTimeout(o,5e3),e.extend(e.mobile,{initializePage:function(){var t=e.mobile.path,i=e(":jqmData(role='page'), :jqmData(role='dialog')"),u=t.stripHash(t.stripQueryParams(t.parseLocation().hash)),a=e.mobile.path.parseLocation(),f=u?n.getElementById(u):r;i.length||(i=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),i.each(function(){var n=e(this);n[0].getAttribute("data-"+e.mobile.ns+"url")||n.attr("data-"+e.mobile.ns+"url",n.attr("id")||t.convertUrlToDataUrl(a.pathname+a.search))}),e.mobile.firstPage=i.first(),e.mobile.pageContainer=e.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),e.mobile.navreadyDeferred.resolve(),s.trigger("pagecontainercreate"),e.mobile.loading("show"),o(),!e.mobile.hashListeningEnabled||!e.mobile.path.isHashValid(location.hash)||!e(f).is(":jqmData(role='page')")&&!e.mobile.path.isPath(u)&&u!==e.mobile.dialogHashKey?(e.event.special.navigate.isPushStateEnabled()&&e.mobile.navigate.navigator.squash(t.parseLocation().href),e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0})):e.event.special.navigate.isPushStateEnabled()?(e.mobile.navigate.history.stack=[],e.mobile.navigate(e.mobile.path.isPath(location.hash)?location.hash:location.href)):s.trigger("hashchange",[!0])}}),e(function(){e.support.inlineSVG(),e.mobile.hideUrlBar&&t.scrollTo(0,1),e.mobile.defaultHomeScroll=!e.support.scrollTop||e.mobile.window.scrollTop()===1?0:1,e.mobile.autoInitializePage&&e.mobile.initializePage(),e.mobile.hideUrlBar&&s.load(e.mobile.silentScroll),e.support.cssPointerEvents||e.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})})}(e,this)}),function(e,t,n){typeof define=="function"&&define.amd?define("jqm_widget_ext",["jquery","jqm"],function(r){return n(r,e,t),r.cm}):n(e.jQuery,e,t)}(this,document,function(e,t,n,r){e.cm=e.cm||{},function(e){e.cm.toast=function(n){var r={bgColor:"rgba(0,0,0,0.8)",color:"white",msg:"",cls:"",endPosition:null},i=e.extend({},r,n),s=e('<div class="cm-toast"></div>');s.addClass(i.cls),s.css("backgroundColor",i.bgColor).css("color",i.color),s.html(i.msg),s.appendTo("body").hide(),s.css("left",(t.innerWidth-s.outerWidth())/2);var o=null;if(i.endPosition){o={};switch(i.endPosition){case"top":o.bottom=t.innerHeight-s.outerHeight()+"px";break;case"bottom":o.bottom="0px";break;case"center":o.bottom=t.innerHeight/2-s.outerHeight()/2+"px";break;case"rightTop":o.right="0px",o.bottom=s.outerHeight()+"px";break;case"leftTop":o.left="0px",o.bottom=s.outerHeight()+"px";break;case"rightBottom":o.top=t.innerHeight-s.outerHeight()+"px",o.right="0px";break;case"leftBottom":o.top=t.innerHeight-s.outerHeight()+"px",o.left="0px";break;case"right":o.right="0px",o.bottom=t.innerHeight/2-s.outerHeight()/2+"px";break;case"left":o.left="0px",o.bottom=t.innerHeight/2-s.outerHeight()/2+"px"}}setTimeout(function(){s.fadeIn(500),o?s.animate(o).delay(500):s.delay(500),s.fadeOut(500,function(){s.remove()})},500)}}(e),function(e){e.widget("cm.numberspinner",{options:{domCache:!1,enhanced:!1,wrapperCls:"cm-numberspinner",plusBtnCls:"cm-plus-btn",minusBtnCls:"cm-minus-btn",inputCls:"cm-number-input"},_wrapper:null,_number_reg:/^\d+$/,_create:function(){this.options.enhanced||this._enhance();var e={};e["click ."+this.options.plusBtnCls]="_onPlusBtnClick",e["click ."+this.options.minusBtnCls]="_onMinusBtnClick",e["input ."+this.options.inputCls]="_onInputBoxInput",this._on(this.element,e)},_enhance:function(){this.element.addClass(this.options.wrapperCls),this.element.prepend(this._minusBtn()),this.element.append(this._input()),this.element.append(this._plusBtn()),this.options.enhanced=!0},_plusBtn:function(){return'<button class="'+this.options.plusBtnCls+'"></button>'},_minusBtn:function(){return'<button class="'+this.options.minusBtnCls+'"></button>'},_input:function(){return'<input class="'+this.options.inputCls+'" type="text" value="0">'},_onPlusBtnClick:function(e){e.stopPropagation(),e.preventDefault();var t="."+this.options.inputCls,n=this.element.find(t),r=n.val();return n.val(Number(r)+1),this._trigger("change",e,n.val()),!1},_onMinusBtnClick:function(e){e.stopPropagation(),e.preventDefault();var t="."+this.options.inputCls,n=this.element.find(t),r=n.val();return n.val(Math.max(Number(r)-1,0)),this._trigger("change",e,n.val()),!1},_onInputBoxInput:function(t){var n=e(t.target).val();if(!this._number_reg.test(n)){e(t.target).val("0"),this._trigger("change",t,0);return}e(t.target).val(Number(n)),this._trigger("change",t,e(t.target).val())},getValue:function(){var e=this.element.find("."+this.options.inputCls).val();return Number(e)}})}(e)}),function(){function x(e){function t(t,n,r,i,s,o){for(;s>=0&&s<o;s+=e){var u=i?i[s]:s;r=n(r,t[u],u,t)}return r}return function(n,r,i,s){r=v(r,s,4);var o=!S(n)&&d.keys(n),u=(o||n).length,a=e>0?0:u-1;return arguments.length<3&&(i=n[o?o[a]:a],a+=e),t(n,r,i,o,a,u)}}function C(e){return function(t,n,r){n=m(n,r);var i=E(t),s=e>0?0:i-1;for(;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}function k(e,t,n){return function(r,i,s){var u=0,a=E(r);if(typeof s=="number")e>0?u=s>=0?s:Math.max(s+a,u):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=t(o.call(r,u,a),d.isNaN),s>=0?s+u:-1;for(s=e>0?u:a-1;s>=0&&s<a;s+=e)if(r[s]===i)return s;return-1}}function M(e,t){var n=O.length,i=e.constructor,s=d.isFunction(i)&&i.prototype||r,o="constructor";d.has(e,o)&&!d.contains(t,o)&&t.push(o);while(n--)o=O[n],o in e&&e[o]!==s[o]&&!d.contains(t,o)&&t.push(o)}var e=this,t=e._,n=Array.prototype,r=Object.prototype,i=Function.prototype,s=n.push,o=n.slice,u=r.toString,a=r.hasOwnProperty,f=Array.isArray,l=Object.keys,c=i.bind,h=Object.create,p=function(){},d=function(e){if(e instanceof d)return e;if(!(this instanceof d))return new d(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=d),exports._=d):e._=d,d.VERSION="1.8.3";var v=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}},m=function(e,t,n){return e==null?d.identity:d.isFunction(e)?v(e,t,n):d.isObject(e)?d.matcher(e):d.property(e)};d.iteratee=function(e,t){return m(e,t,Infinity)};var g=function(e,t){return function(n){var r=arguments.length;if(r<2||n==null)return n;for(var i=1;i<r;i++){var s=arguments[i],o=e(s),u=o.length;for(var a=0;a<u;a++){var f=o[a];if(!t||n[f]===void 0)n[f]=s[f]}}return n}},y=function(e){if(!d.isObject(e))return{};if(h)return h(e);p.prototype=e;var t=new p;return p.prototype=null,t},b=function(e){return function(t){return t==null?void 0:t[e]}},w=Math.pow(2,53)-1,E=b("length"),S=function(e){var t=E(e);return typeof t=="number"&&t>=0&&t<=w};d.each=d.forEach=function(e,t,n){t=v(t,n);var r,i;if(S(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=d.keys(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e},d.map=d.collect=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length,s=Array(i);for(var o=0;o<i;o++){var u=r?r[o]:o;s[o]=t(e[u],u,e)}return s},d.reduce=d.foldl=d.inject=x(1),d.reduceRight=d.foldr=x(-1),d.find=d.detect=function(e,t,n){var r;S(e)?r=d.findIndex(e,t,n):r=d.findKey(e,t,n);if(r!==void 0&&r!==-1)return e[r]},d.filter=d.select=function(e,t,n){var r=[];return t=m(t,n),d.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},d.reject=function(e,t,n){return d.filter(e,d.negate(m(t)),n)},d.every=d.all=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0},d.some=d.any=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1},d.contains=d.includes=d.include=function(e,t,n,r){S(e)||(e=d.values(e));if(typeof n!="number"||r)n=0;return d.indexOf(e,t,n)>=0},d.invoke=function(e,t){var n=o.call(arguments,2),r=d.isFunction(t);return d.map(e,function(e){var i=r?t:e[t];return i==null?i:i.apply(e,n)})},d.pluck=function(e,t){return d.map(e,d.property(t))},d.where=function(e,t){return d.filter(e,d.matcher(t))},d.findWhere=function(e,t){return d.find(e,d.matcher(t))},d.max=function(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:d.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s>r&&(r=s)}else t=m(t,n),d.each(e,function(e,n,s){o=t(e,n,s);if(o>i||o===-Infinity&&r===-Infinity)r=e,i=o});return r},d.min=function(e,t,n){var r=Infinity,i=Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:d.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s<r&&(r=s)}else t=m(t,n),d.each(e,function(e,n,s){o=t(e,n,s);if(o<i||o===Infinity&&r===Infinity)r=e,i=o});return r},d.shuffle=function(e){var t=S(e)?e:d.values(e),n=t.length,r=Array(n);for(var i=0,s;i<n;i++)s=d.random(0,i),s!==i&&(r[i]=r[s]),r[s]=t[i];return r},d.sample=function(e,t,n){return t==null||n?(S(e)||(e=d.values(e)),e[d.random(e.length-1)]):d.shuffle(e).slice(0,Math.max(0,t))},d.sortBy=function(e,t,n){return t=m(t,n),d.pluck(d.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=m(n,r),d.each(t,function(r,s){var o=n(r,s,t);e(i,r,o)}),i}};d.groupBy=T(function(e,t,n){d.has(e,n)?e[n].push(t):e[n]=[t]}),d.indexBy=T(function(e,t,n){e[n]=t}),d.countBy=T(function(e,t,n){d.has(e,n)?e[n]++:e[n]=1}),d.toArray=function(e){return e?d.isArray(e)?o.call(e):S(e)?d.map(e,d.identity):d.values(e):[]},d.size=function(e){return e==null?0:S(e)?e.length:d.keys(e).length},d.partition=function(e,t,n){t=m(t,n);var r=[],i=[];return d.each(e,function(e,n,s){(t(e,n,s)?r:i).push(e)}),[r,i]},d.first=d.head=d.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:d.initial(e,e.length-t)},d.initial=function(e,t,n){return o.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))},d.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:d.rest(e,Math.max(0,e.length-t))},d.rest=d.tail=d.drop=function(e,t,n){return o.call(e,t==null||n?1:t)},d.compact=function(e){return d.filter(e,d.identity)};var N=function(e,t,n,r){var i=[],s=0;for(var o=r||0,u=E(e);o<u;o++){var a=e[o];if(S(a)&&(d.isArray(a)||d.isArguments(a))){t||(a=N(a,t,n));var f=0,l=a.length;i.length+=l;while(f<l)i[s++]=a[f++]}else n||(i[s++]=a)}return i};d.flatten=function(e,t){return N(e,t,!1)},d.without=function(e){return d.difference(e,o.call(arguments,1))},d.uniq=d.unique=function(e,t,n,r){d.isBoolean(t)||(r=n,n=t,t=!1),n!=null&&(n=m(n,r));var i=[],s=[];for(var o=0,u=E(e);o<u;o++){var a=e[o],f=n?n(a,o,e):a;t?((!o||s!==f)&&i.push(a),s=f):n?d.contains(s,f)||(s.push(f),i.push(a)):d.contains(i,a)||i.push(a)}return i},d.union=function(){return d.uniq(N(arguments,!0,!0))},d.intersection=function(e){var t=[],n=arguments.length;for(var r=0,i=E(e);r<i;r++){var s=e[r];if(d.contains(t,s))continue;for(var o=1;o<n;o++)if(!d.contains(arguments[o],s))break;o===n&&t.push(s)}return t},d.difference=function(e){var t=N(arguments,!0,!0,1);return d.filter(e,function(e){return!d.contains(t,e)})},d.zip=function(){return d.unzip(arguments)},d.unzip=function(e){var t=e&&d.max(e,E).length||0,n=Array(t);for(var r=0;r<t;r++)n[r]=d.pluck(e,r);return n},d.object=function(e,t){var n={};for(var r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},d.findIndex=C(1),d.findLastIndex=C(-1),d.sortedIndex=function(e,t,n,r){n=m(n,r,1);var i=n(t),s=0,o=E(e);while(s<o){var u=Math.floor((s+o)/2);n(e[u])<i?s=u+1:o=u}return s},d.indexOf=k(1,d.findIndex,d.sortedIndex),d.lastIndexOf=k(-1,d.findLastIndex),d.range=function(e,t,n){t==null&&(t=e||0,e=0),n=n||1;var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r);for(var s=0;s<r;s++,e+=n)i[s]=e;return i};var L=function(e,t,n,r,i){if(r instanceof t){var s=y(e.prototype),o=e.apply(s,i);return d.isObject(o)?o:s}return e.apply(n,i)};d.bind=function(e,t){if(c&&e.bind===c)return c.apply(e,o.call(arguments,1));if(!d.isFunction(e))throw new TypeError("Bind must be called on a function");var n=o.call(arguments,2),r=function(){return L(e,r,t,this,n.concat(o.call(arguments)))};return r},d.partial=function(e){var t=o.call(arguments,1),n=function(){var r=0,i=t.length,s=Array(i);for(var o=0;o<i;o++)s[o]=t[o]===d?arguments[r++]:t[o];while(r<arguments.length)s.push(arguments[r++]);return L(e,n,this,this,s)};return n},d.bindAll=function(e){var t,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=d.bind(e[r],e);return e},d.memoize=function(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return d.has(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n},d.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},d.defer=d.partial(d.delay,d,1),d.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:d.now(),o=null,s=e.apply(r,i),o||(r=i=null)};return function(){var f=d.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),u=f,s=e.apply(r,i),o||(r=i=null)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},d.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=d.now()-o;f<t&&f>=0?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=d.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},d.wrap=function(e,t){return d.partial(t,e)},d.negate=function(e){return function(){return!e.apply(this,arguments)}},d.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},d.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},d.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},d.once=d.partial(d.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];d.keys=function(e){if(!d.isObject(e))return[];if(l)return l(e);var t=[];for(var n in e)d.has(e,n)&&t.push(n);return A&&M(e,t),t},d.allKeys=function(e){if(!d.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&M(e,t),t},d.values=function(e){var t=d.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},d.mapObject=function(e,t,n){t=m(t,n);var r=d.keys(e),i=r.length,s={},o;for(var u=0;u<i;u++)o=r[u],s[o]=t(e[o],o,e);return s},d.pairs=function(e){var t=d.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},d.invert=function(e){var t={},n=d.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},d.functions=d.methods=function(e){var t=[];for(var n in e)d.isFunction(e[n])&&t.push(n);return t.sort()},d.extend=g(d.allKeys),d.extendOwn=d.assign=g(d.keys),d.findKey=function(e,t,n){t=m(t,n);var r=d.keys(e),i;for(var s=0,o=r.length;s<o;s++){i=r[s];if(t(e[i],i,e))return i}},d.pick=function(e,t,n){var r={},i=e,s,o;if(i==null)return r;d.isFunction(t)?(o=d.allKeys(i),s=v(t,n)):(o=N(arguments,!1,!1,1),s=function(e,t,n){return t in n},i=Object(i));for(var u=0,a=o.length;u<a;u++){var f=o[u],l=i[f];s(l,f,i)&&(r[f]=l)}return r},d.omit=function(e,t,n){if(d.isFunction(t))t=d.negate(t);else{var r=d.map(N(arguments,!1,!1,1),String);t=function(e,t){return!d.contains(r,t)}}return d.pick(e,t,n)},d.defaults=g(d.allKeys,!0),d.create=function(e,t){var n=y(e);return t&&d.extendOwn(n,t),n},d.clone=function(e){return d.isObject(e)?d.isArray(e)?e.slice():d.extend({},e):e},d.tap=function(e,t){return t(e),e},d.isMatch=function(e,t){var n=d.keys(t),r=n.length;if(e==null)return!r;var i=Object(e);for(var s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0};var _=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;e instanceof d&&(e=e._wrapped),t instanceof d&&(t=t._wrapped);var i=u.call(e);if(i!==u.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s=i==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(d.isFunction(o)&&o instanceof o&&d.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var f=n.length;while(f--)if(n[f]===e)return r[f]===t;n.push(e),r.push(t);if(s){f=e.length;if(f!==t.length)return!1;while(f--)if(!_(e[f],t[f],n,r))return!1}else{var l=d.keys(e),c;f=l.length;if(d.keys(t).length!==f)return!1;while(f--){c=l[f];if(!d.has(t,c)||!_(e[c],t[c],n,r))return!1}}return n.pop(),r.pop(),!0};d.isEqual=function(e,t){return _(e,t)},d.isEmpty=function(e){return e==null?!0:S(e)&&(d.isArray(e)||d.isString(e)||d.isArguments(e))?e.length===0:d.keys(e).length===0},d.isElement=function(e){return!!e&&e.nodeType===1},d.isArray=f||function(e){return u.call(e)==="[object Array]"},d.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},d.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){d["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(e){return d.has(e,"callee")}),typeof /./!="function"&&typeof Int8Array!="object"&&(d.isFunction=function(e){return typeof e=="function"||!1}),d.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},d.isNaN=function(e){return d.isNumber(e)&&e!==+e},d.isBoolean=function(e){return e===!0||e===!1||u.call(e)==="[object Boolean]"},d.isNull=function(e){return e===null},d.isUndefined=function(e){return e===void 0},d.has=function(e,t){return e!=null&&a.call(e,t)},d.noConflict=function(){return e._=t,this},d.identity=function(e){return e},d.constant=function(e){return function(){return e}},d.noop=function(){},d.property=b,d.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}},d.matcher=d.matches=function(e){return e=d.extendOwn({},e),function(t){return d.isMatch(t,e)}},d.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},d.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},d.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=d.invert(D),H=function(e){var t=function(t){return e[t]},n="(?:"+d.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,r.test(e)?e.replace(i,t):e}};d.escape=H(D),d.unescape=H(P),d.result=function(e,t,n){var r=e==null?void 0:e[t];return r===void 0&&(r=n),d.isFunction(r)?r.call(e):r};var B=0;d.uniqueId=function(e){var t=++B+"";return e?e+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+F[e]};d.template=function(e,t,n){!t&&n&&(t=n),t=d.defaults({},t,d.templateSettings);var r=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(I,q),i=u+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return o.call(this,e,d)},f=t.variable||"obj";return a.source="function("+f+"){\n"+s+"}",a},d.chain=function(e){var t=d(e);return t._chain=!0,t};var R=function(e,t){return e._chain?d(t).chain():t};d.mixin=function(e){d.each(d.functions(e),function(t){var n=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),R(this,n.apply(d,e))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];d.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0],R(this,n)}}),d.each(["concat","join","slice"],function(e){var t=n[e];d.prototype[e]=function(){return R(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},d.prototype.valueOf=d.prototype.toJSON=d.prototype.value,d.prototype.toString=function(){return""+this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return d})}.call(this),function(e){var t=typeof self=="object"&&self.self==self&&self||typeof global=="object"&&global.global==global&&global;if(typeof define=="function"&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore"),r;try{r=require("jquery")}catch(i){}e(t,exports,n,r)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,r){var i=e.Backbone,s=[],o=s.slice;t.VERSION="1.2.0",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=t.Events={},a=/\s+/,f=function(e,t,r,i,s){var o=0,u;if(r&&typeof r=="object")for(u=n.keys(r);o<u.length;o++)t=e(t,u[o],r[u[o]],s);else if(r&&a.test(r))for(u=r.split(a);o<u.length;o++)t=e(t,u[o],i,s);else t=e(t,r,i,s);return t};u.on=function(e,t,n){return l(this,e,t,n)};var l=function(e,t,n,r,i){e._events=f(c,e._events||{},t,n,{context:r,ctx:e,listening:i});if(i){var s=e._listeners||(e._listeners={});s[i.id]=i}return e};u.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[i];if(!o){var u=this._listenId||(this._listenId=n.uniqueId("l"));o=s[i]={obj:e,objId:i,id:u,listeningTo:s,count:0}}return l(e,t,r,this,o),this};var c=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),s=r.context,o=r.ctx,u=r.listening;u&&u.count++,i.push({callback:n,context:s,ctx:s||o,listening:u})}return e};u.off=function(e,t,n){return this._events?(this._events=f(h,this._events,e,t,{context:n,listeners:this._listeners}),this):this},u.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=e?[e._listenId]:n.keys(i);for(var o=0;o<s.length;o++){var u=i[s[o]];if(!u)break;u.obj.off(t,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var h=function(e,t,r,i){if(!e)return;var s=0,o,u,a=i.context,f=i.listeners;if(!t&&!r&&!a){var l=n.keys(f);for(;s<l.length;s++)u=f[l[s]],delete f[u.id],delete u.listeningTo[u.objId];return}var c=t?[t]:n.keys(e);for(;s<c.length;s++){t=c[s];var h=e[t];if(!h)break;var p=[];for(var d=0;d<h.length;d++){var v=h[d];r&&r!==v.callback&&r!==v.callback._callback||a&&a!==v.context?p.push(v):(u=v.listening,u&&--u.count===0&&(delete f[u.id],delete u.listeningTo[u.objId]))}p.length?e[t]=p:delete e[t]}if(n.size(e))return e};u.once=function(e,t,r){var i=f(p,{},e,t,n.bind(this.off,this));return this.on(i,void 0,r)},u.listenToOnce=function(e,t,r){var i=f(p,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var p=function(e,t,r,i){if(r){var s=e[t]=n.once(function(){i(t,s),r.apply(this,arguments)});s._callback=r}return e};u.trigger=function(e){if(!this._events)return this;var t=Math.max(0,arguments.length-1),n=Array(t);for(var r=0;r<t;r++)n[r]=arguments[r+1];return f(d,this._events,e,void 0,n),this};var d=function(e,t,n,r){if(e){var i=e[t],s=e.all;i&&s&&(s=s.slice()),i&&v(i,r),s&&v(s,[t].concat(r))}return e},v=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}},m=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],e,i)};case 4:return function(e,i,s){return n[t](this[r],e,i,s)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},g=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=m(t,i,r))})};u.bind=u.on,u.unbind=u.off,n.extend(t,u);var y=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0;h<u.length;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},q(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes,a;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r),a=r.wait;if(i&&!a){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&a&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var f=this,l=r.success;return r.success=function(e){f.attributes=u;var t=r.parse?f.parse(e,r):e;a&&(t=n.extend(i||{},t));if(n.isObject(t)&&!f.set(t,r))return!1;l&&l.call(r.context,f,e,r),f.trigger("sync",f,e,r)},q(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&!r.attrs&&(r.attrs=i),o=this.sync(s,this,r),i&&a&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&s(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(q(this,e),o=this.sync("delete",this,e)),i||s(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();if(this.isNew())return e;var t=this.id||this.attributes[this.idAttribute];return e.replace(/([^\/])$/,"$1/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};g(y,b,"attributes");var w=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},E={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1};n.extend(w.prototype,u,{model:y,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,S))},remove:function(e,t){var r=!n.isArray(e),i;return e=r?[e]:n.clone(e),t||(t={}),i=this._removeModels(e,t),!t.silent&&i&&this.trigger("update",this,t),r?e[0]:e},set:function(e,t){t=n.defaults({},t,E),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:e.slice();var i,s,o,u,a,f=t.at;f!=null&&(f=+f),f<0&&(f+=this.length+1);var l=this.comparator&&f==null&&t.sort!==!1,c=n.isString(this.comparator)?this.comparator:null,h=[],p=[],d={},v=t.add,m=t.merge,g=t.remove,y=!l&&v&&g?[]:!1,b=!1;for(var w=0;w<e.length;w++){o=e[w];if(u=this.get(o))g&&(d[u.cid]=!0),m&&o!==u&&(o=this._isModel(o)?o.attributes:o,t.parse&&(o=u.parse(o,t)),u.set(o,t),l&&!a&&u.hasChanged(c)&&(a=!0)),e[w]=u;else if(v){s=e[w]=this._prepareModel(o,t);if(!s)continue;h.push(s),this._addReference(s,t)}s=u||s;if(!s)continue;i=this.modelId(s.attributes),y&&(s.isNew()||!d[i])&&(y.push(s),b=b||!this.models[w]||s.cid!==this.models[w].cid),d[i]=!0}if(g){for(var w=0;w<this.length;w++)d[(s=this.models[w]).cid]||p.push(s);p.length&&this._removeModels(p,t)}if(h.length||b){l&&(a=!0),this.length+=h.length;if(f!=null)for(var w=0;w<h.length;w++)this.models.splice(f+w,0,h[w]);else{y&&(this.models.length=0);var S=y||h;for(var w=0;w<S.length;w++)this.models.push(S[w])}}a&&this.sort({silent:!0});if(!t.silent){var x=f!=null?n.clone(t):t;for(var w=0;w<h.length;w++)f!=null&&(x.index=f+w),(s=h[w]).trigger("add",s,this,x);(a||b)&&this.trigger("sort",this,t),(h.length||p.length)&&this.trigger("update",this,t)}return r?e[0]:e},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){var r=n.matches(e);return this[t?"find":"filter"](function(e){return r(e.attributes)})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},q(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,s=t.success;return t.success=function(e,t,n){r&&i.add(e,n),s&&s.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){var n,r,i,s,o=!1;for(var n=0,u=0;n<e.length;n++){var s=e[n]=this.get(e[n]);if(!s)continue;var a=this.modelId(s.attributes);a!=null&&delete this._byId[a],delete this._byId[s.cid];var i=this.indexOf(s);this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),e[u++]=s,this._removeReference(s,t),o=!0}return e.length!==u&&(e=e.slice(0,u)),o},_isModel:function(e){return e instanceof y},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);n!=null&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r);if(e==="change"){var i=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);i!==s&&(i!=null&&delete this._byId[i],s!=null&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}});var x={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:2,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3};g(w,x,"models");var T=["groupBy","countBy","sortBy","indexBy"];n.each(T,function(e){if(!n[e])return;w.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var N=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,k)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];n.extend(N.prototype,u,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(C);this.delegate(i[1],i[2],n.bind(r,this))}return this},delegate:function(e,t,n){this.$el.on(e+".delegateEvents"+this.cid,t,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){this.$el.off(e+".delegateEvents"+this.cid,t,n)},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}else this.setElement(n.result(this,"el"))},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var s=L[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||I()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1);var a=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,a&&a.call(i.context,e,t,n)};var f=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,f,i),f};var L={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var A=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,M=/(\(\?)?:\w+/g,_=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(A.prototype,u,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(D,"\\$&").replace(O,"(?:$1)?").replace(M,function(e,t){return t?e:"([^/?]+)"}).replace(_,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var P=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},H=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,j=/#.*$/;P.started=!1,n.extend(P.prototype,u,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){return e==null&&(this._usePushState||!this._wantsHashChange?e=this.getPath():e=this.getHash()),e.replace(H,"")},start:function(e){if(P.started)throw new Error("Backbone.history has already been started");P.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!this.history&&!!this.history.pushState,this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){var r=document.createElement("iframe");r.src="javascript:0",r.style.display="none",r.tabIndex=-1;var i=document.body;this.iframe=i.insertBefore(r,i.firstChild).contentWindow,this.iframe.document.open().close(),this.iframe.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})):!1},navigate:function(e,t){if(!P.started)return!1;if(!t||t===!0)t={trigger:!!t};e=this.getFragment(e||"");var n=this.root;if(e===""||e.charAt(0)==="?")n=n.slice(0,-1)||"/";var r=n+e;e=this.decodeFragment(e.replace(j,""));if(this.fragment===e)return;this.fragment=e;if(this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe)&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new P;var F=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};y.extend=w.extend=A.extend=N.extend=P.extend=F;var I=function(){throw new Error('A "url" property or function must be specified')},q=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}),define("models/UserModel",["backbone"],function(e){var t=e.Model.extend({urlRoot:"/user/info",initialize:function(e){this.attributes.user_id=e.user_id},url:function(){var e=this.get("user_id");return this.urlRoot+"/"+e+".json"},parse:function(e,t){return e.row}});return t}),define("models/ClockInModel",["jquery","backbone"],function(e,t){var n=t.Model.extend({urlRoot:"/clock_in.json",parse:function(e,t){return e.row}});return n}),define("models/discovery/CommentModel",["backbone"],function(e){var t=e.Model.extend({url:function(){var e=this.get("pid"),t=this.get("id");return t?"/discovery/"+e+"/comments/"+t:"/discovery/"+e+"/comments"},parse:function(e,t){return t.collection?e:e.row},validate:function(e,t){if(e.contents.length>100||e.contents.length<5)return"内容长度不能小于5或大于100"}});return t}),define("collections/PaginationCollection",["backbone"],function(e){var t=e.Collection.extend({initialize:function(e,t){t||(t={}),this.page=t.page||1,this.rows=t.rows||10,this.total=t.total||0,this.has_change={page:!0,rows:!0,total:!0}},parse:function(e,t){return this._setTotal(e.total),e.rows},fetch:function(t){t||(t={});var n=!1;for(var r in this.has_change)if(this.has_change[r]){n=!0;break}if(!n)return;var i=this,s=t.success;t.success=function(){for(var e in i.has_change)i.has_change[e]=!1;typeof s=="function"&&s.apply(i,arguments)},t.data||(t.data={}),t.data.page=t.data.page||this.page,t.data.rows=t.data.rows||this.rows,e.Collection.prototype.fetch.call(this,t)},setPage:function(e){return this.page!=e&&(this.page=e,this.has_change.page||(this.has_change.page=!0),this.trigger("change:page",this)),this},setRows:function(e){return this.rows!=e&&(this.rows=e,this.has_change.rows||(this.has_change.rows=!0),this.trigger("change:rows",this)),this},_setTotal:function(e){return this.total!=e&&(this.total=e,this.has_change.total||(this.has_change.total=!0),this.trigger("change:total",this)),this.total<=this.page*this.rows&&this.trigger("page_end",this),this},reset:function(){this.has_change.page=!0,this.has_change.rows=!0,this.has_change.total=!0,this.page=1,this.total=0,e.Collection.prototype.reset.apply(this,arguments)},nextPage:function(){this.setPage(this.page+1),this.fetch()}});return t}),define("collections/discovery/CommentCollection",["backbone","models/discovery/CommentModel","collections/PaginationCollection"],function(e,t,n){var r=n.extend({model:t,url:function(){return"/discovery/"+this.discovery_id+"/comments"},setDiscoveryId:function(e){this.discovery_id=e,this.reset()},getDiscoveryId:function(){return this.discovery_id}});return r}),define("models/DiscoveryModel",["jquery","backbone","collections/discovery/CommentCollection"],function(e,t,n){var r=t.Model.extend({urlRoot:"/discovery",initialize:function(e,t){this.comments=new n,this.listenTo(this,"change:id",this._onIdChange)},parse:function(e,t){return t.collection?e:e.row},_onIdChange:function(){this.comments.setDiscoveryId(this.get("id")),this.comments.fetch()}});return r}),define("models/DiscoveryTypeModel",["jquery","backbone"],function(e,t){var n=t.Model.extend({});return n}),define("collections/DiscoveryTypeCollection",["backbone","models/DiscoveryTypeModel"],function(e,t){var n=e.Collection.extend({model:t,initialize:function(){this.active_type=null},url:function(){return"/discover_type/"},setActiveType:function(e){if(this.active_type!=e||this.active_type===null)this.active_type=e,this.trigger("change:active_type",this)}});return n}),define("collections/DiscoveryCollection",["backbone","models/DiscoveryModel"],function(e,t){var n=e.Collection.extend({model:t,initialize:function(e){this.type=e.type,this.has_change=["type","total"],this.page=1,this.rows=10,this.total=0},url:function(){return"/discoverise"},parse:function(e,t){return this._setTotal(e.total),e.rows},fetch:function(t){if(this.has_change.length==0)return;var t=t||{};t.data=t.data||{},t.data.criteria={type:this.type};var n=this.has_change.indexOf("page"),r=this.has_change.indexOf("total");if(this.has_change.indexOf("type")!=-1)t.reset=!0;else if(n!=-1&&r==-1&&this.total<this.page*this.rows){this.page-=1,this.has_change.splice(n,1);return}var i=this;if(typeof t.success=="function"){var s=t.success;t.success=function(){i.has_change.splice(0,i.has_change.length),s.apply(i,arguments)}}else t.success=function(){i.has_change.splice(0,i.has_change.length),i.type_has_change=!1};t.data.page=t.data.page||this.page,t.data.rows=t.data.rows||this.rows,e.Collection.prototype.fetch.call(this,t)},setType:function(e){if(this.type!=e){this.type=e;var t=this.has_change.indexOf("type");t==-1&&this.has_change.push("type"),this.trigger("change:type",this)}return this},setPage:function(e){if(this.page!=e){this.page=e;var t=this.has_change.indexOf("page");t==-1&&this.has_change.push("page"),this.trigger("change:page",this)}return this},setRows:function(e){if(this.rows!=e){this.rows=e;var t=this.has_change.indexOf("rows");t==-1&&this.has_change.push("rows"),this.trigger("change:rows",this)}return this},_setTotal:function(e){if(this.total!=e){this.total=e;var t=this.has_change.indexOf("total");t==-1&&this.has_change.push("total"),this.trigger("change:total",this)}return this.total<=this.page*this.rows&&this.trigger("page_end",this),this},nextPage:function(){this.setPage(this.page+1),this.fetch()}});return n}),define("views/UserStateView",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({events:{},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.get("nickname")||this.model.get("uname");this.$(".user-uname").text(e),this.$(".user-huigold").text(this.model.get("HuiGold")),this.$(".user-avatar").attr("src","/user/avatar/"+this.model.get("user_id")+".png")}});return r}),define("views/ClockInView",["jquery","backbone"],function(e,t){var n=t.View.extend({initialize:function(){this.listenTo(this.model,"change:times",this.render)},render:function(){var t=this.model.get("times")||0;this.$(".clock-in-state").each(function(n,r){n<t?e(r).addClass("clock-in-checked"):e(r).removeClass("clock-in-checked")})},events:{"click .clock-in-btn":"clockIn"},clockIn:function(){if(G.user.user_id=="WEIBO_ACCOUNT"){e.cm.toast({msg:"游客不可签到"});return}var t=this;this.model.save(null,{parse:!1}).done(function(e){if(!e.success)return;t.model.fetch()})}});return n}),define("views/DiscoveryTypeView",["backbone"],function(e){var t=e.View.extend({initialize:function(){this.listenTo(this.collection,"change:active_type",this.setActiveIndicator)},setActiveIndicator:function(e){this.$active_btn&&this.$active_btn.removeClass("ui-btn-active"),this.$el.find("a[data-type-id].ui-btn-active").removeClass("ui-btn-active"),this.$active_btn=this.$el.find("[data-type-id="+e.active_type+"]"),this.$active_btn.addClass("ui-btn-active"),this.$active_rel&&this.$active_rel.hide();var t=this.$active_btn.attr("data-rel");this.$active_rel=$(t),this.$active_rel.show()}});return t}),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.14",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.lastIndexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i[0]==="﻿"&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!templates/discovery/listItem.html",[],function(){return'<%\nvar img_src = null;\nif (pic_data) {\nimg_src = \'data:image/png;base64,\' + pic_data;\n} else {\nimg_src = \'/assets/img/DefaultFavour.jpg\';\n}\n\nvar discovery_url = \'#discovery/\' + id;\n\nif(id == 595)\n{\n    discovery_url = \'http://ip.yn122.net:8092/?userId=\' + G.user.user_id + \'&location_url=\' + base64encode(\'http://ip.yn122.net:8092/insurance_share/\' + G.user.phone) + discovery_url;\n}\n\n%>\n<li class="cm-bg-color-white cm-row-fluid">\n    <a class="cm-block cm-btn cm-row-fluid" href="<%= discovery_url %>">\n        <img src="<%=img_src%>" class="cm-span3"/>\n        <div class="cm-span8" style="margin-left: 5%">\n            <h5 style="min-height: 2em; max-height: 2em;"><%= title %></h5>\n            <p style="min-height: 4em; max-height: 4em"><%= des %></p>\n            <div>\n                <table class="cm-right">\n                    <tr>\n                        <td>\n                            <a class="cm-block cm-btn ui-icon-md-comment" href="#discovery/<%= id %>/comments">\n                            </a>\n                            <span class="cm-color-text-sec"><%= comment_num || 0 %></span>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n    </a>\n</li>\n'}),define("views/DiscoveryListView",["jquery","underscore","backbone","text!templates/discovery/listItem.html"],function(e,t,n,r){var i=n.View.extend({initialize:function(){this.item_list_tpl=t.template(r),this.$pager=e('<div class="pager ui-btn ui-btn-a" style="display:none"><span>加载更多</span></div>'),this.$el.append(this.$pager),this.$list=this.$el.find(".discovery-list"),this.listenTo(this.collection,"add",this.addItem),this.listenTo(this.collection,"reset",this.resetItems),this.listenTo(this.collection,"reset",this.setPager),this.listenTo(this.collection,"page_end",this.setPager),this.listenTo(this.collection,"change:type",this.setIndicator)},render:function(e){},addItem:function(e){this.$list.append(this.item_list_tpl(e.toJSON()))},setPager:function(e,t){console.log("page_end"),e.models.length<e.total?this.$pager.show():this.$pager.hide()},resetItems:function(e,t){this.$list.empty();var n=e.models,r=n.length;for(var i=0;i<r;i++)this.$list.append(this.item_list_tpl(n[i].toJSON()))},setIndicator:function(e){},loadMore:function(){this.collection.nextPage()},events:{"click .pager":"loadMore"}});return i}),define("views/BaseListView",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({initialize:function(e){e||(e={}),e.item_tpl||(e.item_tpl=""),this.item_tpl=t.template(e.item_tpl),this.$pager=this.$el.find(".pager").hide(),this.$item_container=this.$el.find(".item-container"),this.listenTo(this.collection,"add",this.addItem),this.listenTo(this.collection,"reset",this.resetItems),this.listenTo(this.collection,"change:total",this.showPager),this.listenTo(this.collection,"page_end",this.hidePager),this.listenTo(this.collection,"change:type",this.setIndicator)},render:function(e){},addItem:function(e){this.$item_container.append(this.item_tpl(e.toJSON()))},showPager:function(e,t){this.$pager.show()},hidePager:function(e,t){this.$pager.hide()},resetItems:function(e,t){this.$item_container.empty();var n=e.models,r=n.length;for(var i=0;i<r;i++)this.$item_container.append(this.item_tpl(n[i].toJSON()));this.$pager.hide()},setIndicator:function(e){},loadMore:function(){this.collection.nextPage()},events:{"click .pager":"loadMore"}});return r}),define("text!templates/discovery/comment_list_item.html",[],function(){return'<%\n    var photo_src = \'\';\n    if(!photo){\n        photo_src = \'/assets/img/DefaultFace.png\';\n    }else{\n        photo_src = \'data:image/png;base64,\' + photo;\n    }\n\n    var comment_time = new Date(comment_time).toString(\'yyyy-MM-dd HH:MM:ss\');\n\n%>\n\n<div class="cm-flex-row cm-comment">\n    <div style="width:54px; padding: 3px 3px">\n        <img class="cm-avatar" src="<%=photo_src%>" alt=""/>\n    </div>\n    <div class="cm-flex1 cm-flex-column">\n        <div class="cm-flex1 cm-flex-row">\n            <div class="cm-flex1" style="font-size:14px; font-weight: bold"><%=nickname%></div>\n        </div>\n        <div class="cm-flex2 cm-content">\n            <%=comment%>\n        </div>\n        <div class="cm-flex1"><span class="cm-time"><%=comment_time%></span></div>\n    </div>\n</div>\n'}),define("views/discovery/CommentListView",["views/BaseListView","collections/discovery/CommentCollection","text!templates/discovery/comment_list_item.html"],function(e,t,n){var r=e.extend({initialize:function(r){r||(r={}),r.item_tpl||(r.item_tpl=n),e.prototype.initialize.call(this,r),this.collection||(this.collection=new t)}});return r}),define("views/discovery/CommentFormView",["backbone","models/discovery/CommentModel","jqm"],function(e,t){var n=e.View.extend({model:new t,_strict_content_len:100,initialize:function(){this._strict_content_len=Number(this.$el.find(".content").attr("maxlength")),this.listenTo(this.model,"invalid",this._onModelInvalid),this.listenTo(this.model,"change:id",this._onCommentGen)},events:{"input .content":"_onContentInput","click .submit":"_onSubmit"},_onContentInput:function(e){var t=$(e.target),n=t.val();n.length<5?this.$el.find(".submit").prop("disabled",!0):this.$el.find(".submit").prop("disabled",!1),t.val(n),this.$el.find(".char-num").text(this._strict_content_len-n.length)},_onSubmit:function(){this._collectionFormData(),this.model.isValid()&&this.model.save(),this.close()},_onCommentGen:function(e,t,n){this.trigger("commentgen",this,t)},_onModelInvalid:function(e,t){this.trigger("invalid",this,t)},open:function(){this.$el.popup("open")},close:function(){this.$el.popup("close")},_collectionFormData:function(){var e=this;this.$el.find("[name]").each(function(t,n){var r=$(n).attr("name"),i=$(n).val();e.model.set(r,i,{silent:!0})}),this.model.set("user_id",G.user.user_id)}});return n}),define("views/DiscoveryDetailPageView",["underscore","backbone","models/DiscoveryModel","views/discovery/CommentListView","views/discovery/CommentFormView"],function(e,t,n,r,i){var s=t.View.extend({initialize:function(t){this.model||(this.model=new n),this.comment_form_view=new i({el:"#discovery_add_comment_popup"}),this.comment_list_view=new r({el:"#discovery_comments_container",collection:this.model.comments}),this.comment_more_href_tpl=e.template(this.$el.find("#discovery_comments_more").attr("href")),this.listenTo(this.model.comments,"change:total",this.renderCommentsTotal),this.listenTo(this.model,"change:id",this.clearPage),this.listenTo(this.model,"change:id",this.renderCommentMore),this.listenTo(this.model,"change:id",this._setCommentFormModelPid),this.listenTo(this.model,"change:title",this._renderTitle),this.listenTo(this.model,"change:content",this.renderContent),this.listenTo(this.comment_form_view,"commentgen",this._onCommentGen)},events:{"click #discovery_add_comment_btn":"_onAddCommentBtnClick"},_onAddCommentBtnClick:function(e){this.comment_form_view.open()},_onCommentGen:function(e,t){this.model.comments.reset(),this.model.comments.fetch()},_setCommentFormModelPid:function(e,t,n){this.comment_form_view.model.set("pid",t)},clearPage:function(e,t,n){this.$el.find("#discovery_content").html(""),this.$el.find("#discovery_comments_num").text("")},renderCommentsTotal:function(e){this.$el.find("#discovery_comments_num").text(e.total)},renderCommentMore:function(e){var t=this.comment_more_href_tpl({id:e.get("id")});this.$el.find("#discovery_comments_more").attr("href",t)},_renderTitle:function(e,t,n){$("title").text(t),e.set("title","",{silent:!0})},renderContent:function(e){var t="";if(e.get("id")==595){t='<iframe src="http://ip.yn122.net:8092/insurance_share/0?user_phone='+G.user.phone+"&location_url="+base64encode("http://ip.yn122.net:8092/insurance_share/"+G.user.phone)+'#discovery/detail/" frameborder="0" style="width:100%;height:100%"></iframe>';var n=$(window).height();this.$el.find("#discovery_content").height(n-80)}else t=e.get("content");this.$el.find("#discovery_content").html(t)}});return s}),define("text!templates/discovery/comments_page_view.html",[],function(){return'<!-- 发现回复列表页面 -->\n<div data-role="page" id="discovery_comments_page" data-theme="a" style="padding: 51px 0px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#" onclick="window.history.back();return false;"></a>\n        <h1>车友们的回复</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <div class="title" style="text-align:center; font-size: 1.5rem"></div>\n        <div class="comments-container" style="padding:5px;">\n            <div class="cm-flex-row">\n                <div class="cm-flex1">\n                    <span class="cm-bg-prim cm-radius-s" style="float:left; color:#FFF">热门评论(<i class="comments-num">0</i>)</span>\n                </div>\n            </div>\n            <div class="item-container"></div>\n            <div class="pager ui-btn ui-btn-a" style="display:none; height: 40px;"><span>加载更多</span></div>\n        </div>\n    </div>\n</div>'}),define("views/discovery/CommentsPageView",["backbone","models/DiscoveryModel","views/discovery/CommentListView","text!templates/discovery/comments_page_view.html"],function(e,t,n,r){$(r).appendTo("body");var i=e.View.extend({el:"#discovery_comments_page",initialize:function(){this.discovery_model=new t,this.comment_list_view=new n({el:this.$el.find(".comments-container")[0],collection:this.discovery_model.comments}),this.listenTo(this.discovery_model,"change:title",this.renderTitle),this.listenTo(this.discovery_model.comments,"change:total",this.renderTotal)},setDiscoveryId:function(e){this.discovery_model.set("id",e),this.discovery_model.fetch()},renderTitle:function(e){this.$el.find(".title").text(e.get("title"))},renderTotal:function(e){this.$el.find(".comments-num").text(e.total)}});return i}),define("routers/LocalFavourRouter",["jquery","backbone","models/UserModel","models/ClockInModel","models/DiscoveryModel","collections/DiscoveryTypeCollection","collections/DiscoveryCollection","views/UserStateView","views/ClockInView","views/DiscoveryTypeView","views/DiscoveryListView","views/DiscoveryDetailPageView","views/discovery/CommentsPageView"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=t.Router.extend({initialize:function(){this.user_state_view=new u({el:e("#user_state"),model:new n({user_id:G.user.user_id})}),this.clock_in_view=new a({el:e("#user_state"),model:new r}),e.cm.bind("system.bonus:huiGold",e.proxy(this.bonusHuiGoldHandler,this)),this.discovery_navbar_view=new f({el:"#discovery_navbar",collection:new s}),this.discovery_list_view_0=new l({el:"#discovery_list_view_0",collection:new o({type:0})}),this.discovery_list_view_6=new l({el:"#discovery_list_view_6",collection:new o({type:6})}),this.discovery_list_view_1=new l({el:"#discovery_list_view_1",collection:new o({type:1})}),this.discovery_list_view_7=new l({el:"#discovery_list_view_7",collection:new o({type:7})}),this.discovery_detail_view=new c({el:"#discovery_detail_page",model:new i}),this.listenTo(this.discovery_detail_view.comment_form_view,"invalid",this._onCommentFormInvalid),this.discovery_comments_page_view=new h},_onCommentFormInvalid:function(t,n){e.cm.toast({msg:n})},bonusHuiGoldHandler:function(e,t){var n=this.user_state_view.model.get("HuiGold")||0;this.user_state_view.model.set("HuiGold",Number(n)+Number(t))},routes:{"":"home",dev:"developing","discoverise(/:type)":"discoverise","discovery/:id":"discoveryDetail","discovery/:id/comments":"discoveryComments"},home:function(){e(":mobile-pagecontainer").pagecontainer("change","#home_page");if(this.user_data_fetched)return;this.user_state_view.model.fetch(),this.clock_in_view.model.fetch(),this.user_data_fetched=!0},developing:function(){e.cm.toast({msg:"此功能正在开发中,敬请期待"})},discoverise:function(t){var t=t||0;e(":mobile-pagecontainer").pagecontainer("change","#discovery_page"),this["discovery_list_view_"+t].collection.fetch();var n=this.discovery_navbar_view.collection.type;e("discovery_list_view_"+n).hide(),this.discovery_navbar_view.collection.setActiveType(t)},discoveryDetail:function(t){e(":mobile-pagecontainer").pagecontainer("change","#discovery_detail_page"),this.discovery_detail_view.model.set("id",t).fetch()},discoveryComments:function(t){console.log(t),e(":mobile-pagecontainer").pagecontainer("change","#discovery_comments_page"),this.discovery_comments_page_view.setDiscoveryId(t)}});return p}),define("text!templates/driving_tour/tours_page.html",[],function(){return'<!--活动入口页面-->\n<div data-role="page" id="tours_page" data-theme="a" style="padding-top: 44px; padding-bottom: 0px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>本地惠-自驾游</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n        <!--<div id="tour_navbar" data-role="navbar" class="" cellpadding="0" cellspacing="8">\n            <ul>\n                <li><a data-type-id="all" href="#tours/all">全部</a></li>\n                <li><a data-type-id="my" href="#tours/my">我发布的</a></li>\n            </ul>\n        </div>-->\n    </div>\n    <div role="main" class="ui-content">\n        <table id="tour_list_view" class="list_cd_box_div2" cellpadding="0" cellspacing="0">\n            <tr>\n                <td class="item-container">\n\n                </td>\n            </tr>\n            <tr><td><div class="pager ui-btn ui-btn-a" style="display:none"><span>加载更多</span></div></td></tr>\n        </table>\n    </div>\n</div>'}),define("models/driving_tour/TourModel",["backbone"],function(e){var t=e.Model.extend({urlRoot:"/driving_tour/",parse:function(e,t){return t.collection?e:e.row}});return t}),define("collections/driving_tour/TourCollection",["collections/PaginationCollection","models/driving_tour/TourModel"],function(e,t){var n=e.extend({model:t,initialize:function(t,n){n||(n={}),e.prototype.initialize.call(this,t,n)},url:function(){return"/driving_tours"}});return n}),define("text!templates/driving_tour/tour_list_item.html",[],function(){return'<%\nvar img_src = null;\nif (pic_data) {\nimg_src = \'data:image/png;base64,\' + pic_data;\n} else {\nimg_src = \'/assets/img/DefaultFavour.jpg\';\n}\n\nvar date_str = \'\';\nvar state_str = \'\';\nvar label_bg_color = \'\';\n\nif (state == 2) {\n    state_str = \'已过期\';\n    label_bg_color = \'red\';\n} else if(state == 3) {\n    state_str = \'审核中\';\n    label_bg_color = \'yellow\';\n}\ndate_str = new Date(start_date).toString(\'yyyy-MM-dd\') + \'至\' + new Date(end_date).toString(\'yyyy-MM-dd\');\n\n%>\n\n<div class="fs_list_box">\n    <a class="cm-block cm-span12" href="#tour/detail/<%= id %>">\n        <table style="width: 100%">\n            <tr>\n                <td style="width: 100px">\n                    <img src="<%= img_src %>" width="100" height="100" />\n                </td>\n                <td valign="top">\n                    <div class="fs_list_box_bt ">\n                        <%= name %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        时间：<%= date_str %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        地点：<%= place %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-left">报名人数：<%= user_num %>人</span>\n                        <span class="cm-label cm-right" style="background-color:<%= label_bg_color %>">\n                            <%= state_str %>\n                        </span>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </a>\n</div>\n<div class="fs_list_box_fgx"></div>\n'}),define("views/driving_tour/TourListView",["views/BaseListView","text!templates/driving_tour/tour_list_item.html"],function(e,t){var n=e.extend({initialize:function(n){n||(n={}),n.item_tpl||(n.item_tpl=t),e.prototype.initialize.call(this,n)}});return n}),define("views/driving_tour/ToursPageView",["jquery","backbone","text!templates/driving_tour/tours_page.html","collections/driving_tour/TourCollection","views/driving_tour/TourListView"],function(e,t,n,r,i){e(n).appendTo("body");var s=t.View.extend({initialize:function(){this.tour_list_view=new i({el:"#tour_list_view",collection:new r})}});return s}),define("models/driving_tour/TourSignFormModel",["backbone"],function(e){var t=e.Model.extend({urlRoot:"/activity/sign_up/",_cn_str_reg:/^[\u4e00-\u9fa5]+$/,_phone_reg:/^\d{11}$/,_id_no_reg:/^\d{17}[\d\w]$/,_number_reg:/\d+/,validate:function(e,t){if(typeof e.user_id!="undefined"&&e.user_id=="")return"请输入用户名!";if(typeof e.uname!="undefined"&&(e.uname==""||!this._cn_str_reg.test(e.uname)))return"请输入真实姓名!";if(typeof e.idno!="undefined"&&(e.idno==""||!this._id_no_reg.test(e.idno)))return"请输入真实有效的生分证号!";if(typeof e.phone!="undefined"&&(e.phone==""||!this._phone_reg.test(e.phone)))return"请输入正确的手机号";if(typeof e.people!="undefined"&&(!this._number_reg.test(e.people)||e.people<=0))return"请输入正确人数";if(typeof e.pay_items!="undefined"&&e.pay_items.length<1)return"请确认收费项目"}});return t}),define("text!templates/driving_tour/tour_detail_page.html",[],function(){return'<!-- 活动详情页面 -->\n<div data-role="page" id="tour_detail_page" data-theme="a" style="padding-top: 44px; padding-bottom: 51px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#tours/all"></a>\n        <h1>本地惠-自驾游详情</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <div class="detail-container" style="padding: 0px 1%; width: 98%">\n\n        </div>\n    </div>\n    <div data-role="popup" id="tour_sign_up_popup" data-overlay-theme="g" data-theme="a" data-corners="true" data-enhance="false">\n        <a href="#" data-rel="back" data-theme="j" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" style="background-color: #333; color: #FFF; border-color:#666; border-radius: 25em; position: absolute; right: -12px; top:-12px;"></a>\n        <div id="tour_sign_up_form_container" style="background-color: #eee; border-radius: 0.5em; min-width:320px; float: left">\n            <table class="fb_box" style="padding:10px">\n                <tr class="fb_box_bt" data-field="id">\n                    <td>用户名：</td><td><input name="user_id" type="text" value="" disabled/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="uname">\n                    <td>真实姓名：</td>\n                    <td><input name="uname" type="text" value=""/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="sex">\n                    <td>性别：</td>\n                    <td>\n                        <input type="radio" name="sex" value="1" checked/>男\n                        <input type="radio" name="sex" value="2"/>女\n                    </td>\n                    <!--<select name="sex">\n                        <option value="1">男</option>\n                        <option value="2">女</option>\n                    </select>-->\n                </tr>\n                <tr class="fb_box_bt" data-field="idcardno">\n                    <td>身份证号：</td>\n                    <td><input name="idno" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="pca">\n                    <td>省市区：</td>\n                    <td>\n                        <select id="tour_province" name="province" class="cm-span4"></select>\n                        <select id="tour_city" name="city" class="cm-span4"></select>\n                        <select id="tour_area" name="area" class="cm-span3"></select>\n                    </td>\n                </tr>\n                <tr class="fb_box_bt" data-field="address">\n                    <td>详细地址：</td>\n                    <td><input name="address" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="phone">\n                    <td>电话/手机：</td>\n                    <td><input name="phone" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="sinaWeibo">\n                    <td>新浪微博昵称：</td>\n                    <td><input name="sina_weibo" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="weixin">\n                    <td>微信昵称：</td>\n                    <td><input name="weixin" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="hphm">\n                    <td>车牌：</td>\n                    <td><input name="hphm" type="text"/></td>\n                </tr>\n\n                <tr class="fb_box_bt" data-field="people">\n                    <td>人数：</td>\n                    <td><input name="people" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="qqNum">\n                    <td>QQ号：</td>\n                    <td><input name="qq_num" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="auto">\n                    <td style="width:30%">其他：</td>\n                    <td>\n                        <p id="tour_option_label"></p>\n                        <input name="auto" type="text"/>\n                    </td>\n                </tr>\n                <tr class="fb_box_bt" data-field="pay_items">\n                    <td>\n                        付款项目:\n                    </td>\n                    <td>\n                        <table id="tour_pay_items_container">\n\n                        </table>\n                    </td>\n                </tr>\n                <tr class="fb_box_bt" data-field="total_fee">\n                    <td>总价：</td>\n                    <td>\n                        <span name="total_fee" class="cm-color-money" style="font-weight:bold"></span>\n                    </td>\n                </tr>\n                <tr class="fb_box_bt">\n                    <td colspan="2">\n                        <button id="tour_sign_up_submit_btn" data-theme="g">提交</button>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <a id="tour_sign_up_btn" data-theme="g" style="padding:0.7em 0.5%;width: 99%;color:white">我要报名</a>\n    </div>\n</div>'}),define("text!templates/driving_tour/tour_detail.html",[],function(){return'<%\nvar date_str = \'\';\n\nif (state == 2) {\ndate_str = \'已过期\';\n} else {\ndate_str = new Date(start_date).toString(\'yyyy-MM-dd\') + \'至\' + new Date(end_date).toString(\'yyyy-MM-dd\');\n}\n\nvar sign_date_str = \'\';\n\nif(sign_end_date)\n{\n    var sign_end_date = new Date(sign_end_date);\n    var sign_start_date = new Date(sign_start_date);\n    sign_date_str = sign_start_date.toString(\'yyyy-MM-dd\') + \'至\' + sign_end_date.toString(\'yyyy-MM-dd\');\n}\n\n\n%>\n<table class="fb_box" style="padding: 10px">\n    <tr class="fb_box_bt">\n        <td style="width:30%"><span class="cm-label cm-bg-prim">活动名称</span></td>\n        <td><%= name %></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td><span class="cm-label cm-bg-prim">活动时间</span></td>\n        <td><%= date_str %></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td><span class="cm-label cm-bg-prim">报名时间</span></td>\n        <td><%= sign_date_str %></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td><span class="cm-label cm-bg-prim">活动地点</span></td>\n        <td><%= place %></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td><span class="cm-label cm-bg-prim">出行路线</span></td>\n        <td><%= trip_line %></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td><span class="cm-label cm-bg-prim">支付款项</span></td>\n        <td>\n            <% for(var i = 0; i < goods.length; i++){ %>\n            <span><%= goods[i].name %>:<%= goods[i].price %></span>\n            <% } %>\n        </td>\n    </tr>\n    <tr class="fb_box_bt" >\n        <td><span class="cm-label cm-bg-prim">活动内容</span></td>\n        <td></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td colspan="2">\n            <%= contents %>\n        </td>\n    </tr>\n</table>'});var SPT="--省份--",SCT="--城市--",SAT="--地区--",ShowT=1,PCAD="北京市$市辖区,东城区,西城区,崇文区,宣武区,朝阳区,丰台区,石景山区,海淀区,门头沟区,房山区,通州区,顺义区,昌平区,大兴区,怀柔区,平谷区|市辖县,密云县,延庆县#天津市$市辖区,和平区,河东区,河西区,南开区,河北区,红桥区,塘沽区,汉沽区,大港区,东丽区,西青区,津南区,北辰区,武清区,宝坻区|市辖县,宁河县,静海县,蓟县#河北省$石家庄市,市辖区,长安区,桥东区,桥西区,新华区,井陉矿区,裕华区,井陉县,正定县,栾城县,行唐县,灵寿县,高邑县,深泽县,赞皇县,无极县,平山县,元氏县,赵县,辛集市,藁城市,晋州市,新乐市,鹿泉市|唐山市,市辖区,路南区,路北区,古冶区,开平区,丰南区,丰润区,滦县,滦南县,乐亭县,迁西县,玉田县,唐海县,遵化市,迁安市|秦皇岛市,市辖区,海港区,山海关区,北戴河区,青龙满族自治县,昌黎县,抚宁县,卢龙县|邯郸市,市辖区,邯山区,丛台区,复兴区,峰峰矿区,邯郸县,临漳县,成安县,大名县,涉县,磁县,肥乡县,永年县,邱县,鸡泽县,广平县,馆陶县,魏县,曲周县,武安市|邢台市,市辖区,桥东区,桥西区,邢台县,临城县,内丘县,柏乡县,隆尧县,任县,南和县,宁晋县,巨鹿县,新河县,广宗县,平乡县,威县,清河县,临西县,南宫市,沙河市|保定市,市辖区,新市区,北市区,南市区,满城县,清苑县,涞水县,阜平县,徐水县,定兴县,唐县,高阳县,容城县,涞源县,望都县,安新县,易县,曲阳县,蠡县,顺平县,博野县,雄县,涿州市,定州市,安国市,高碑店市|张家口市,市辖区,桥东区,桥西区,宣化区,下花园区,宣化县,张北县,康保县,沽源县,尚义县,蔚县,阳原县,怀安县,万全县,怀来县,涿鹿县,赤城县,崇礼县|承德市,市辖区,双桥区,双滦区,鹰手营子矿区,承德县,兴隆县,平泉县,滦平县,隆化县,丰宁满族自治县,宽城满族自治县,围场满族蒙古族自治县|沧州市,市辖区,新华区,运河区,沧县,青县,东光县,海兴县,盐山县,肃宁县,南皮县,吴桥县,献县,孟村回族自治县,泊头市,任丘市,黄骅市,河间市|廊坊市,市辖区,安次区,广阳区,固安县,永清县,香河县,大城县,文安县,大厂回族自治县,霸州市,三河市|衡水市,市辖区,桃城区,枣强县,武邑县,武强县,饶阳县,安平县,故城县,景县,阜城县,冀州市,深州市#山西省$太原市,市辖区,小店区,迎泽区,杏花岭区,尖草坪区,万柏林区,晋源区,清徐县,阳曲县,娄烦县,古交市|大同市,市辖区,城区,矿区,南郊区,新荣区,阳高县,天镇县,广灵县,灵丘县,浑源县,左云县,大同县|阳泉市,市辖区,城区,矿区,郊区,平定县,盂县|长治市,市辖区,城区,郊区,长治县,襄垣县,屯留县,平顺县,黎城县,壶关县,长子县,武乡县,沁县,沁源县,潞城市|晋城市,市辖区,城区,沁水县,阳城县,陵川县,泽州县,高平市|朔州市,市辖区,朔城区,平鲁区,山阴县,应县,右玉县,怀仁县|晋中市,市辖区,榆次区,榆社县,左权县,和顺县,昔阳县,寿阳县,太谷县,祁县,平遥县,灵石县,介休市|运城市,市辖区,盐湖区,临猗县,万荣县,闻喜县,稷山县,新绛县,绛县,垣曲县,夏县,平陆县,芮城县,永济市,河津市|忻州市,市辖区,忻府区,定襄县,五台县,代县,繁峙县,宁武县,静乐县,神池县,五寨县,岢岚县,河曲县,保德县,偏关县,原平市|临汾市,市辖区,尧都区,曲沃县,翼城县,襄汾县,洪洞县,古县,安泽县,浮山县,吉县,乡宁县,大宁县,隰县,永和县,蒲县,汾西县,侯马市,霍州市|吕梁市,市辖区,离石区,文水县,交城县,兴县,临县,柳林县,石楼县,岚县,方山县,中阳县,交口县,孝义市,汾阳市#内蒙古自治区$呼和浩特市,市辖区,新城区,回民区,玉泉区,赛罕区,土默特左旗,托克托县,和林格尔县,清水河县,武川县|包头市,市辖区,东河区,昆都仑区,青山区,石拐区,白云矿区,九原区,土默特右旗,固阳县,达尔罕茂明安联合旗|乌海市,市辖区,海勃湾区,海南区,乌达区|赤峰市,市辖区,红山区,元宝山区,松山区,阿鲁科尔沁旗,巴林左旗,巴林右旗,林西县,克什克腾旗,翁牛特旗,喀喇沁旗,宁城县,敖汉旗|通辽市,市辖区,科尔沁区,科尔沁左翼中旗,科尔沁左翼后旗,开鲁县,库伦旗,奈曼旗,扎鲁特旗,霍林郭勒市|鄂尔多斯市,东胜区,达拉特旗,准格尔旗,鄂托克前旗,鄂托克旗,杭锦旗,乌审旗,伊金霍洛旗|呼伦贝尔市,市辖区,海拉尔区,阿荣旗,莫力达瓦达斡尔族自治旗,鄂伦春自治旗,鄂温克族自治旗,陈巴尔虎旗,新巴尔虎左旗,新巴尔虎右旗,满洲里市,牙克石市,扎兰屯市,额尔古纳市,根河市|巴彦淖尔市,市辖区,临河区,五原县,磴口县,乌拉特前旗,乌拉特中旗,乌拉特后旗,杭锦后旗|乌兰察布市,市辖区,集宁区,卓资县,化德县,商都县,兴和县,凉城县,察哈尔右翼前旗,察哈尔右翼中旗,察哈尔右翼后旗,四子王旗,丰镇市|兴安盟,乌兰浩特市,阿尔山市,科尔沁右翼前旗,科尔沁右翼中旗,扎赉特旗,突泉县|锡林郭勒盟,二连浩特市,锡林浩特市,阿巴嘎旗,苏尼特左旗,苏尼特右旗,东乌珠穆沁旗,西乌珠穆沁旗,太仆寺旗,镶黄旗,正镶白旗,正蓝旗,多伦县|阿拉善盟,阿拉善左旗,阿拉善右旗,额济纳旗#辽宁省$沈阳市,市辖区,和平区,沈河区,大东区,皇姑区,铁西区,苏家屯区,东陵区,新城子区,于洪区,辽中县,康平县,法库县,新民市|大连市,市辖区,中山区,西岗区,沙河口区,甘井子区,旅顺口区,金州区,长海县,瓦房店市,普兰店市,庄河市|鞍山市,市辖区,铁东区,铁西区,立山区,千山区,台安县,岫岩满族自治县,海城市|抚顺市,市辖区,新抚区,东洲区,望花区,顺城区,抚顺县,新宾满族自治县,清原满族自治县|本溪市,市辖区,平山区,溪湖区,明山区,南芬区,本溪满族自治县,桓仁满族自治县|丹东市,市辖区,元宝区,振兴区,振安区,宽甸满族自治县,东港市,凤城市|锦州市,市辖区,古塔区,凌河区,太和区,黑山县,义县,凌海市,北宁市|营口市,市辖区,站前区,西市区,鲅鱼圈区,老边区,盖州市,大石桥市|阜新市,市辖区,海州区,新邱区,太平区,清河门区,细河区,阜新蒙古族自治县,彰武县|辽阳市,市辖区,白塔区,文圣区,宏伟区,弓长岭区,太子河区,辽阳县,灯塔市|盘锦市,市辖区,双台子区,兴隆台区,大洼县,盘山县|铁岭市,市辖区,银州区,清河区,铁岭县,西丰县,昌图县,调兵山市,开原市|朝阳市,市辖区,双塔区,龙城区,朝阳县,建平县,喀喇沁左翼蒙古族自治县,北票市,凌源市|葫芦岛市,市辖区,连山区,龙港区,南票区,绥中县,建昌县,兴城市#吉林省$长春市,市辖区,南关区,宽城区,朝阳区,二道区,绿园区,双阳区,农安县,九台市,榆树市,德惠市|吉林市,市辖区,昌邑区,龙潭区,船营区,丰满区,永吉县,蛟河市,桦甸市,舒兰市,磐石市|四平市,市辖区,铁西区,铁东区,梨树县,伊通满族自治县,公主岭市,双辽市|辽源市,市辖区,龙山区,西安区,东丰县,东辽县|通化市,市辖区,东昌区,二道江区,通化县,辉南县,柳河县,梅河口市,集安市|白山市,市辖区,八道江区,抚松县,靖宇县,长白朝鲜族自治县,江源县,临江市|松原市,市辖区,宁江区,前郭尔罗斯蒙古族自治县,长岭县,乾安县,扶余县|白城市,市辖区,洮北区,镇赉县,通榆县,洮南市,大安市|延边朝鲜族自治州,延吉市,图们市,敦化市,珲春市,龙井市,和龙市,汪清县,安图县#黑龙江省$哈尔滨市,市辖区,道里区,南岗区,道外区,香坊区,动力区,平房区,松北区,呼兰区,依兰县,方正县,宾县,巴彦县,木兰县,通河县,延寿县,阿城市,双城市,尚志市,五常市|齐齐哈尔市,市辖区,龙沙区,建华区,铁锋区,昂昂溪区,富拉尔基区,碾子山区,梅里斯达斡尔族区,龙江县,依安县,泰来县,甘南县,富裕县,克山县,克东县,拜泉县,讷河市|鸡西市,市辖区,鸡冠区,恒山区,滴道区,梨树区,城子河区,麻山区,鸡东县,虎林市,密山市|鹤岗市,市辖区,向阳区,工农区,南山区,兴安区,东山区,兴山区,萝北县,绥滨县|双鸭山市,市辖区,尖山区,岭东区,四方台区,宝山区,集贤县,友谊县,宝清县,饶河县|大庆市,市辖区,萨尔图区,龙凤区,让胡路区,红岗区,大同区,肇州县,肇源县,林甸县,杜尔伯特蒙古族自治县|伊春市,市辖区,伊春区,南岔区,友好区,西林区,翠峦区,新青区,美溪区,金山屯区,五营区,乌马河区,汤旺河区,带岭区,乌伊岭区,红星区,上甘岭区,嘉荫县,铁力市|佳木斯市,市辖区,永红区,向阳区,前进区,东风区,郊区,桦南县,桦川县,汤原县,抚远县,同江市,富锦市|七台河市,市辖区,新兴区,桃山区,茄子河区,勃利县|牡丹江市,市辖区,东安区,阳明区,爱民区,西安区,东宁县,林口县,绥芬河市,海林市,宁安市,穆棱市|黑河市,市辖区,爱辉区,嫩江县,逊克县,孙吴县,北安市,五大连池市|绥化市,市辖区,北林区,望奎县,兰西县,青冈县,庆安县,明水县,绥棱县,安达市,肇东市,海伦市|大兴安岭地区,呼玛县,塔河县,漠河县#上海市$市辖区,黄浦区,卢湾区,徐汇区,长宁区,静安区,普陀区,闸北区,虹口区,杨浦区,闵行区,宝山区,嘉定区,浦东新区,金山区,松江区,青浦区,南汇区,奉贤区|市辖县,崇明县#江苏省$南京市,市辖区,玄武区,白下区,秦淮区,建邺区,鼓楼区,下关区,浦口区,栖霞区,雨花台区,江宁区,六合区,溧水县,高淳县|无锡市,市辖区,崇安区,南长区,北塘区,锡山区,惠山区,滨湖区,江阴市,宜兴市|徐州市,市辖区,鼓楼区,云龙区,九里区,贾汪区,泉山区,丰县,沛县,铜山县,睢宁县,新沂市,邳州市|常州市,市辖区,天宁区,钟楼区,戚墅堰区,新北区,武进区,溧阳市,金坛市|苏州市,市辖区,沧浪区,平江区,金阊区,虎丘区,吴中区,相城区,常熟市,张家港市,昆山市,吴江市,太仓市|南通市,市辖区,崇川区,港闸区,海安县,如东县,启东市,如皋市,通州市,海门市|连云港市,市辖区,连云区,新浦区,海州区,赣榆县,东海县,灌云县,灌南县|淮安市,市辖区,清河区,楚州区,淮阴区,清浦区,涟水县,洪泽县,盱眙县,金湖县|盐城市,市辖区,亭湖区,盐都区,响水县,滨海县,阜宁县,射阳县,建湖县,东台市,大丰市|扬州市,市辖区,广陵区,邗江区,维扬区,宝应县,仪征市,高邮市,江都市|镇江市,市辖区,京口区,润州区,丹徒区,丹阳市,扬中市,句容市|泰州市,市辖区,海陵区,高港区,兴化市,靖江市,泰兴市,姜堰市|宿迁市,市辖区,宿城区,宿豫区,沭阳县,泗阳县,泗洪县#浙江省$杭州市,市辖区,上城区,下城区,江干区,拱墅区,西湖区,滨江区,萧山区,余杭区,桐庐县,淳安县,建德市,富阳市,临安市|宁波市,市辖区,海曙区,江东区,江北区,北仑区,镇海区,鄞州区,象山县,宁海县,余姚市,慈溪市,奉化市|温州市,市辖区,鹿城区,龙湾区,瓯海区,洞头县,永嘉县,平阳县,苍南县,文成县,泰顺县,瑞安市,乐清市|嘉兴市,市辖区,秀城区,秀洲区,嘉善县,海盐县,海宁市,平湖市,桐乡市|湖州市,市辖区,吴兴区,南浔区,德清县,长兴县,安吉县|绍兴市,市辖区,越城区,绍兴县,新昌县,诸暨市,上虞市,嵊州市|金华市,市辖区,婺城区,金东区,武义县,浦江县,磐安县,兰溪市,义乌市,东阳市,永康市|衢州市,市辖区,柯城区,衢江区,常山县,开化县,龙游县,江山市|舟山市,市辖区,定海区,普陀区,岱山县,嵊泗县|台州市,市辖区,椒江区,黄岩区,路桥区,玉环县,三门县,天台县,仙居县,温岭市,临海市|丽水市,市辖区,莲都区,青田县,缙云县,遂昌县,松阳县,云和县,庆元县,景宁畲族自治县,龙泉市#安徽省$合肥市,市辖区,瑶海区,庐阳区,蜀山区,包河区,长丰县,肥东县,肥西县|芜湖市,市辖区,镜湖区,弋江区,鸠江区,三山区,芜湖县,繁昌县,南陵县|蚌埠市,市辖区,龙子湖区,蚌山区,禹会区,淮上区,怀远县,五河县,固镇县|淮南市,市辖区,大通区,田家庵区,谢家集区,八公山区,潘集区,凤台县|马鞍山市,市辖区,金家庄区,花山区,雨山区,当涂县|淮北市,市辖区,杜集区,相山区,烈山区,濉溪县|铜陵市,市辖区,铜官山区,狮子山区,郊区,铜陵县|安庆市,市辖区,迎江区,大观区,宜秀区,怀宁县,枞阳县,潜山县,太湖县,宿松县,望江县,岳西县,桐城市|黄山市,市辖区,屯溪区,黄山区,徽州区,歙县,休宁县,黟县,祁门县|滁州市,市辖区,琅琊区,南谯区,来安县,全椒县,定远县,凤阳县,天长市,明光市|阜阳市,市辖区,颍州区,颍东区,颍泉区,临泉县,太和县,阜南县,颍上县,界首市|宿州市,市辖区,埇桥区,砀山县,萧县,灵璧县,泗县|巢湖市,市辖区,居巢区,庐江县,无为县,含山县,和县|六安市,市辖区,金安区,裕安区,寿县,霍邱县,舒城县,金寨县,霍山县|亳州市,市辖区,谯城区,涡阳县,蒙城县,利辛县|池州市,市辖区,贵池区,东至县,石台县,青阳县|宣城市,市辖区,宣州区,郎溪县,广德县,泾县,绩溪县,旌德县,宁国市#福建省$福州市,市辖区,鼓楼区,台江区,仓山区,马尾区,晋安区,闽侯县,连江县,罗源县,闽清县,永泰县,平潭县,福清市,长乐市|厦门市,市辖区,思明区,海沧区,湖里区,集美区,同安区,翔安区|莆田市,市辖区,城厢区,涵江区,荔城区,秀屿区,仙游县|三明市,市辖区,梅列区,三元区,明溪县,清流县,宁化县,大田县,尤溪县,沙县,将乐县,泰宁县,建宁县,永安市|泉州市,市辖区,鲤城区,丰泽区,洛江区,泉港区,惠安县,安溪县,永春县,德化县,金门县,石狮市,晋江市,南安市|漳州市,市辖区,芗城区,龙文区,云霄县,漳浦县,诏安县,长泰县,东山县,南靖县,平和县,华安县,龙海市|南平市,市辖区,延平区,顺昌县,浦城县,光泽县,松溪县,政和县,邵武市,武夷山市,建瓯市,建阳市|龙岩市,市辖区,新罗区,长汀县,永定县,上杭县,武平县,连城县,漳平市|宁德市,市辖区,蕉城区,霞浦县,古田县,屏南县,寿宁县,周宁县,柘荣县,福安市,福鼎市#江西省$南昌市,市辖区,东湖区,西湖区,青云谱区,湾里区,青山湖区,南昌县,新建县,安义县,进贤县|景德镇市,市辖区,昌江区,珠山区,浮梁县,乐平市|萍乡市,市辖区,安源区,湘东区,莲花县,上栗县,芦溪县|九江市,市辖区,庐山区,浔阳区,九江县,武宁县,修水县,永修县,德安县,星子县,都昌县,湖口县,彭泽县,瑞昌市|新余市,市辖区,渝水区,分宜县|鹰潭市,市辖区,月湖区,余江县,贵溪市|赣州市,市辖区,章贡区,赣县,信丰县,大余县,上犹县,崇义县,安远县,龙南县,定南县,全南县,宁都县,于都县,兴国县,会昌县,寻乌县,石城县,瑞金市,南康市|吉安市,市辖区,吉州区,青原区,吉安县,吉水县,峡江县,新干县,永丰县,泰和县,遂川县,万安县,安福县,永新县,井冈山市|宜春市,市辖区,袁州区,奉新县,万载县,上高县,宜丰县,靖安县,铜鼓县,丰城市,樟树市,高安市|抚州市,市辖区,临川区,南城县,黎川县,南丰县,崇仁县,乐安县,宜黄县,金溪县,资溪县,东乡县,广昌县|上饶市,市辖区,信州区,上饶县,广丰县,玉山县,铅山县,横峰县,弋阳县,余干县,鄱阳县,万年县,婺源县,德兴市#山东省$济南市,市辖区,历下区,市中区,槐荫区,天桥区,历城区,长清区,平阴县,济阳县,商河县,章丘市|青岛市,市辖区,市南区,市北区,四方区,黄岛区,崂山区,李沧区,城阳区,胶州市,即墨市,平度市,胶南市,莱西市|淄博市,市辖区,淄川区,张店区,博山区,临淄区,周村区,桓台县,高青县,沂源县|枣庄市,市辖区,市中区,薛城区,峄城区,台儿庄区,山亭区,滕州市|东营市,市辖区,东营区,河口区,垦利县,利津县,广饶县|烟台市,市辖区,芝罘区,福山区,牟平区,莱山区,长岛县,龙口市,莱阳市,莱州市,蓬莱市,招远市,栖霞市,海阳市|潍坊市,市辖区,潍城区,寒亭区,坊子区,奎文区,临朐县,昌乐县,青州市,诸城市,寿光市,安丘市,高密市,昌邑市|济宁市,市辖区,市中区,任城区,微山县,鱼台县,金乡县,嘉祥县,汶上县,泗水县,梁山县,曲阜市,兖州市,邹城市|泰安市,市辖区,泰山区,岱岳区,宁阳县,东平县,新泰市,肥城市|威海市,市辖区,环翠区,文登市,荣成市,乳山市|日照市,市辖区,东港区,岚山区,五莲县,莒县|莱芜市,市辖区,莱城区,钢城区|临沂市,市辖区,兰山区,罗庄区,河东区,沂南县,郯城县,沂水县,苍山县,费县,平邑县,莒南县,蒙阴县,临沭县|德州市,市辖区,德城区,陵县,宁津县,庆云县,临邑县,齐河县,平原县,夏津县,武城县,乐陵市,禹城市|聊城市,市辖区,东昌府区,阳谷县,莘县,茌平县,东阿县,冠县,高唐县,临清市|滨州市,市辖区,滨城区,惠民县,阳信县,无棣县,沾化县,博兴县,邹平县|菏泽市,市辖区,牡丹区,曹县,单县,成武县,巨野县,郓城县,鄄城县,定陶县,东明县#河南省$郑州市,市辖区,中原区,二七区,管城回族区,金水区,上街区,惠济区,中牟县,巩义市,荥阳市,新密市,新郑市,登封市|开封市,市辖区,龙亭区,顺河回族区,鼓楼区,禹王台区,金明区,杞县,通许县,尉氏县,开封县,兰考县|洛阳市,市辖区,老城区,西工区,廛河回族区,涧西区,吉利区,洛龙区,孟津县,新安县,栾川县,嵩县,汝阳县,宜阳县,洛宁县,伊川县,偃师市|平顶山市,市辖区,新华区,卫东区,石龙区,湛河区,宝丰县,叶县,鲁山县,郏县,舞钢市,汝州市|安阳市,市辖区,文峰区,北关区,殷都区,龙安区,安阳县,汤阴县,滑县,内黄县,林州市|鹤壁市,市辖区,鹤山区,山城区,淇滨区,浚县,淇县|新乡市,市辖区,红旗区,卫滨区,凤泉区,牧野区,新乡县,获嘉县,原阳县,延津县,封丘县,长垣县,卫辉市,辉县市|焦作市,市辖区,解放区,中站区,马村区,山阳区,修武县,博爱县,武陟县,温县,济源市,沁阳市,孟州市|濮阳市,市辖区,华龙区,清丰县,南乐县,范县,台前县,濮阳县|许昌市,市辖区,魏都区,许昌县,鄢陵县,襄城县,禹州市,长葛市|漯河市,市辖区,源汇区,郾城区,召陵区,舞阳县,临颍县|三门峡市,市辖区,湖滨区,渑池县,陕县,卢氏县,义马市,灵宝市|南阳市,市辖区,宛城区,卧龙区,南召县,方城县,西峡县,镇平县,内乡县,淅川县,社旗县,唐河县,新野县,桐柏县,邓州市|商丘市,市辖区,梁园区,睢阳区,民权县,睢县,宁陵县,柘城县,虞城县,夏邑县,永城市|信阳市,市辖区,浉河区,平桥区,罗山县,光山县,新县,商城县,固始县,潢川县,淮滨县,息县|周口市,市辖区,川汇区,扶沟县,西华县,商水县,沈丘县,郸城县,淮阳县,太康县,鹿邑县,项城市|驻马店市,市辖区,驿城区,西平县,上蔡县,平舆县,正阳县,确山县,泌阳县,汝南县,遂平县,新蔡县#湖北省$武汉市,市辖区,江岸区,江汉区,硚口区,汉阳区,武昌区,青山区,洪山区,东西湖区,汉南区,蔡甸区,江夏区,黄陂区,新洲区|黄石市,市辖区,黄石港区,西塞山区,下陆区,铁山区,阳新县,大冶市|十堰市,市辖区,茅箭区,张湾区,郧县,郧西县,竹山县,竹溪县,房县,丹江口市|宜昌市,市辖区,西陵区,伍家岗区,点军区,猇亭区,夷陵区,远安县,兴山县,秭归县,长阳土家族自治县,五峰土家族自治县,宜都市,当阳市,枝江市|襄樊市,市辖区,襄城区,樊城区,襄阳区,南漳县,谷城县,保康县,老河口市,枣阳市,宜城市|鄂州市,市辖区,梁子湖区,华容区,鄂城区|荆门市,市辖区,东宝区,掇刀区,京山县,沙洋县,钟祥市|孝感市,市辖区,孝南区,孝昌县,大悟县,云梦县,应城市,安陆市,汉川市|荆州市,市辖区,沙市区,荆州区,公安县,监利县,江陵县,石首市,洪湖市,松滋市|黄冈市,市辖区,黄州区,团风县,红安县,罗田县,英山县,浠水县,蕲春县,黄梅县,麻城市,武穴市|咸宁市,市辖区,咸安区,嘉鱼县,通城县,崇阳县,通山县,赤壁市|随州市,市辖区,曾都区,广水市|恩施土家族苗族自治州,恩施市,利川市,建始县,巴东县,宣恩县,咸丰县,来凤县,鹤峰县|省直辖行政单位,仙桃市,潜江市,天门市,神农架林区#湖南省$长沙市,市辖区,芙蓉区,天心区,岳麓区,开福区,雨花区,长沙县,望城县,宁乡县,浏阳市|株洲市,市辖区,荷塘区,芦淞区,石峰区,天元区,株洲县,攸县,茶陵县,炎陵县,醴陵市|湘潭市,市辖区,雨湖区,岳塘区,湘潭县,湘乡市,韶山市|衡阳市,市辖区,珠晖区,雁峰区,石鼓区,蒸湘区,南岳区,衡阳县,衡南县,衡山县,衡东县,祁东县,耒阳市,常宁市|邵阳市,市辖区,双清区,大祥区,北塔区,邵东县,新邵县,邵阳县,隆回县,洞口县,绥宁县,新宁县,城步苗族自治县,武冈市|岳阳市,市辖区,岳阳楼区,云溪区,君山区,岳阳县,华容县,湘阴县,平江县,汨罗市,临湘市|常德市,市辖区,武陵区,鼎城区,安乡县,汉寿县,澧县,临澧县,桃源县,石门县,津市市|张家界市,市辖区,永定区,武陵源区,慈利县,桑植县|益阳市,市辖区,资阳区,赫山区,南县,桃江县,安化县,沅江市|郴州市,市辖区,北湖区,苏仙区,桂阳县,宜章县,永兴县,嘉禾县,临武县,汝城县,桂东县,安仁县,资兴市|永州市,市辖区,零陵区,冷水滩区,祁阳县,东安县,双牌县,道县,江永县,宁远县,蓝山县,新田县,江华瑶族自治县|怀化市,市辖区,鹤城区,中方县,沅陵县,辰溪县,溆浦县,会同县,麻阳苗族自治县,新晃侗族自治县,芷江侗族自治县,靖州苗族侗族自治县,通道侗族自治县,洪江市|娄底市,市辖区,娄星区,双峰县,新化县,冷水江市,涟源市|湘西土家族苗族自治州,吉首市,泸溪县,凤凰县,花垣县,保靖县,古丈县,永顺县,龙山县#广东省$广州市,市辖区,荔湾区,越秀区,海珠区,天河区,白云区,黄埔区,番禺区,花都区,南沙区,萝岗区,增城市,从化市|韶关市,市辖区,武江区,浈江区,曲江区,始兴县,仁化县,翁源县,乳源瑶族自治县,新丰县,乐昌市,南雄市|深圳市,市辖区,罗湖区,福田区,南山区,宝安区,龙岗区,盐田区|珠海市,市辖区,香洲区,斗门区,金湾区|汕头市,市辖区,龙湖区,金平区,濠江区,潮阳区,潮南区,澄海区,南澳县|佛山市,市辖区,禅城区,南海区,顺德区,三水区,高明区|江门市,市辖区,蓬江区,江海区,新会区,台山市,开平市,鹤山市,恩平市|湛江市,市辖区,赤坎区,霞山区,坡头区,麻章区,遂溪县,徐闻县,廉江市,雷州市,吴川市|茂名市,市辖区,茂南区,茂港区,电白县,高州市,化州市,信宜市|肇庆市,市辖区,端州区,鼎湖区,广宁县,怀集县,封开县,德庆县,高要市,四会市|惠州市,市辖区,惠城区,惠阳区,博罗县,惠东县,龙门县|梅州市,市辖区,梅江区,梅县,大埔县,丰顺县,五华县,平远县,蕉岭县,兴宁市|汕尾市,市辖区,城区,海丰县,陆河县,陆丰市|河源市,市辖区,源城区,紫金县,龙川县,连平县,和平县,东源县|阳江市,市辖区,江城区,阳西县,阳东县,阳春市|清远市,市辖区,清城区,佛冈县,阳山县,连山壮族瑶族自治县,连南瑶族自治县,清新县,英德市,连州市|东莞市|中山市|潮州市,市辖区,湘桥区,潮安县,饶平县|揭阳市,市辖区,榕城区,揭东县,揭西县,惠来县,普宁市|云浮市,市辖区,云城区,新兴县,郁南县,云安县,罗定市#广西壮族自治区$南宁市,市辖区,兴宁区,青秀区,江南区,西乡塘区,良庆区,邕宁区,武鸣县,隆安县,马山县,上林县,宾阳县,横县|柳州市,市辖区,城中区,鱼峰区,柳南区,柳北区,柳江县,柳城县,鹿寨县,融安县,融水苗族自治县,三江侗族自治县|桂林市,市辖区,秀峰区,叠彩区,象山区,七星区,雁山区,阳朔县,临桂县,灵川县,全州县,兴安县,永福县,灌阳县,龙胜各族自治县,资源县,平乐县,荔蒲县,恭城瑶族自治县|梧州市,市辖区,万秀区,蝶山区,长洲区,苍梧县,藤县,蒙山县,岑溪市|北海市,市辖区,海城区,银海区,铁山港区,合浦县|防城港市,市辖区,港口区,防城区,上思县,东兴市|钦州市,市辖区,钦南区,钦北区,灵山县,浦北县|贵港市,市辖区,港北区,港南区,覃塘区,平南县,桂平市|玉林市,市辖区,玉州区,容县,陆川县,博白县,兴业县,北流市|百色市,市辖区,右江区,田阳县,田东县,平果县,德保县,靖西县,那坡县,凌云县,乐业县,田林县,西林县,隆林各族自治县|贺州市,市辖区,八步区,昭平县,钟山县,富川瑶族自治县|河池市,市辖区,金城江区,南丹县,天峨县,凤山县,东兰县,罗城仫佬族自治县,环江毛南族自治县,巴马瑶族自治县,都安瑶族自治县,大化瑶族自治县,宜州市|来宾市,市辖区,兴宾区,忻城县,象州县,武宣县,金秀瑶族自治县,合山市|崇左市,市辖区,江洲区,扶绥县,宁明县,龙州县,大新县,天等县,凭祥市#海南省$海口市,市辖区,秀英区,龙华区,琼山区,美兰区|三亚市,市辖区|省直辖县级行政单位,五指山市,琼海市,儋州市,文昌市,万宁市,东方市,定安县,屯昌县,澄迈县,临高县,白沙黎族自治县,昌江黎族自治县,乐东黎族自治县,陵水黎族自治县,保亭黎族苗族自治县,琼中黎族苗族自治县,西沙群岛,南沙群岛,中沙群岛的岛礁及其海域#重庆市$市辖区,万州区,涪陵区,渝中区,大渡口区,江北区,沙坪坝区,九龙坡区,南岸区,北碚区,万盛区,双桥区,渝北区,巴南区,黔江区,长寿区|市辖县,綦江县,潼南县,铜梁县,大足县,荣昌县,璧山县,梁平县,城口县,丰都县,垫江县,武隆县,忠县,开县,云阳县,奉节县,巫山县,巫溪县,石柱土家族自治县,秀山土家族苗族自治县,酉阳土家族苗族自治县,彭水苗族土家族自治县|县级市,江津市,合川市,永川市,南川市#四川省$成都市,市辖区,锦江区,青羊区,金牛区,武侯区,成华区,龙泉驿区,青白江区,新都区,温江区,金堂县,双流县,郫县,大邑县,蒲江县,新津县,都江堰市,彭州市,邛崃市,崇州市|自贡市,市辖区,自流井区,贡井区,大安区,沿滩区,荣县,富顺县|攀枝花市,市辖区,东区,西区,仁和区,米易县,盐边县|泸州市,市辖区,江阳区,纳溪区,龙马潭区,泸县,合江县,叙永县,古蔺县|德阳市,市辖区,旌阳区,中江县,罗江县,广汉市,什邡市,绵竹市|绵阳市,市辖区,涪城区,游仙区,三台县,盐亭县,安县,梓潼县,北川羌族自治县,平武县,江油市|广元市,市辖区,市中区,元坝区,朝天区,旺苍县,青川县,剑阁县,苍溪县|遂宁市,市辖区,船山区,安居区,蓬溪县,射洪县,大英县|内江市,市辖区,市中区,东兴区,威远县,资中县,隆昌县|乐山市,市辖区,市中区,沙湾区,五通桥区,金口河区,犍为县,井研县,夹江县,沐川县,峨边彝族自治县,马边彝族自治县,峨眉山市|南充市,市辖区,顺庆区,高坪区,嘉陵区,南部县,营山县,蓬安县,仪陇县,西充县,阆中市|眉山市,市辖区,东坡区,仁寿县,彭山县,洪雅县,丹棱县,青神县|宜宾市,市辖区,翠屏区,宜宾县,南溪县,江安县,长宁县,高县,珙县,筠连县,兴文县,屏山县|广安市,市辖区,广安区,岳池县,武胜县,邻水县,华蓥市|达州市,市辖区,通川区,达县,宣汉县,开江县,大竹县,渠县,万源市|雅安市,市辖区,雨城区,名山县,荥经县,汉源县,石棉县,天全县,芦山县,宝兴县|巴中市,市辖区,巴州区,通江县,南江县,平昌县|资阳市,市辖区,雁江区,安岳县,乐至县,简阳市|阿坝藏族羌族自治州,汶川县,理县,茂县,松潘县,九寨沟县,金川县,小金县,黑水县,马尔康县,壤塘县,阿坝县,若尔盖县,红原县|甘孜藏族自治州,康定县,泸定县,丹巴县,九龙县,雅江县,道孚县,炉霍县,甘孜县,新龙县,德格县,白玉县,石渠县,色达县,理塘县,巴塘县,乡城县,稻城县,得荣县|凉山彝族自治州,西昌市,木里藏族自治县,盐源县,德昌县,会理县,会东县,宁南县,普格县,布拖县,金阳县,昭觉县,喜德县,冕宁县,越西县,甘洛县,美姑县,雷波县#贵州省$贵阳市,市辖区,南明区,云岩区,花溪区,乌当区,白云区,小河区,开阳县,息烽县,修文县,清镇市|六盘水市,钟山区,六枝特区,水城县,盘县|遵义市,市辖区,红花岗区,汇川区,遵义县,桐梓县,绥阳县,正安县,道真仡佬族苗族自治县,务川仡佬族苗族自治县,凤冈县,湄潭县,余庆县,习水县,赤水市,仁怀市|安顺市,市辖区,西秀区,平坝县,普定县,镇宁布依族苗族自治县,关岭布依族苗族自治县,紫云苗族布依族自治县|铜仁地区,铜仁市,江口县,玉屏侗族自治县,石阡县,思南县,印江土家族苗族自治县,德江县,沿河土家族自治县,松桃苗族自治县,万山特区|黔西南布依族苗族自治州,兴义市,兴仁县,普安县,晴隆县,贞丰县,望谟县,册亨县,安龙县|毕节地区,毕节市,大方县,黔西县,金沙县,织金县,纳雍县,威宁彝族回族苗族自治县,赫章县|黔东南苗族侗族自治州,凯里市,黄平县,施秉县,三穗县,镇远县,岑巩县,天柱县,锦屏县,剑河县,台江县,黎平县,榕江县,从江县,雷山县,麻江县,丹寨县|黔南布依族苗族自治州,都匀市,福泉市,荔波县,贵定县,瓮安县,独山县,平塘县,罗甸县,长顺县,龙里县,惠水县,三都水族自治县#云南省$昆明市,市辖区,五华区,盘龙区,官渡区,西山区,东川区,呈贡县,晋宁县,富民县,宜良县,石林彝族自治县,嵩明县,禄劝彝族苗族自治县,寻甸回族彝族自治县,安宁市|曲靖市,市辖区,麒麟区,马龙县,陆良县,师宗县,罗平县,富源县,会泽县,沾益县,宣威市|玉溪市,市辖区,红塔区,江川县,澄江县,通海县,华宁县,易门县,峨山彝族自治县,新平彝族傣族自治县,元江哈尼族彝族傣族自治县|保山市,市辖区,隆阳区,施甸县,腾冲县,龙陵县,昌宁县|昭通市,市辖区,昭阳区,鲁甸县,巧家县,盐津县,大关县,永善县,绥江县,镇雄县,彝良县,威信县,水富县|丽江市,市辖区,古城区,玉龙纳西族自治县,永胜县,华坪县,宁蒗彝族自治县|思茅市,市辖区,翠云区,普洱哈尼族彝族自治县,墨江哈尼族自治县,景东彝族自治县,景谷傣族彝族自治县,镇沅彝族哈尼族拉祜族自治县,江城哈尼族彝族自治县,孟连傣族拉祜族佤族自治县,澜沧拉祜族自治县,西盟佤族自治县|临沧市,市辖区,临翔区,凤庆县,云县,永德县,镇康县,双江拉祜族佤族布朗族傣族自治县,耿马傣族佤族自治县,沧源佤族自治县|楚雄彝族自治州,楚雄市,双柏县,牟定县,南华县,姚安县,大姚县,永仁县,元谋县,武定县,禄丰县|红河哈尼族彝族自治州,个旧市,开远市,蒙自县,屏边苗族自治县,建水县,石屏县,弥勒县,泸西县,元阳县,红河县,金平苗族瑶族傣族自治县,绿春县,河口瑶族自治县|文山壮族苗族自治州,文山县,砚山县,西畴县,麻栗坡县,马关县,丘北县,广南县,富宁县|西双版纳傣族自治州,景洪市,勐海县,勐腊县|大理白族自治州,大理市,漾濞彝族自治县,祥云县,宾川县,弥渡县,南涧彝族自治县,巍山彝族回族自治县,永平县,云龙县,洱源县,剑川县,鹤庆县|德宏傣族景颇族自治州,瑞丽市,潞西市,梁河县,盈江县,陇川县|怒江傈僳族自治州,泸水县,福贡县,贡山独龙族怒族自治县,兰坪白族普米族自治县|迪庆藏族自治州,香格里拉县,德钦县,维西傈僳族自治县#西藏自治区$拉萨市,市辖区,城关区,林周县,当雄县,尼木县,曲水县,堆龙德庆县,达孜县,墨竹工卡县|昌都地区,昌都县,江达县,贡觉县,类乌齐县,丁青县,察雅县,八宿县,左贡县,芒康县,洛隆县,边坝县|山南地区,乃东县,扎囊县,贡嘎县,桑日县,琼结县,曲松县,措美县,洛扎县,加查县,隆子县,错那县,浪卡子县|日喀则地区,日喀则市,南木林县,江孜县,定日县,萨迦县,拉孜县,昂仁县,谢通门县,白朗县,仁布县,康马县,定结县,仲巴县,亚东县,吉隆县,聂拉木县,萨嘎县,岗巴县|那曲地区,那曲县,嘉黎县,比如县,聂荣县,安多县,申扎县,索县,班戈县,巴青县,尼玛县|阿里地区,普兰县,札达县,噶尔县,日土县,革吉县,改则县,措勤县|林芝地区,林芝县,工布江达县,米林县,墨脱县,波密县,察隅县,朗县#陕西省$西安市,市辖区,新城区,碑林区,莲湖区,灞桥区,未央区,雁塔区,阎良区,临潼区,长安区,蓝田县,周至县,户县,高陵县|铜川市,市辖区,王益区,印台区,耀州区,宜君县|宝鸡市,市辖区,渭滨区,金台区,陈仓区,凤翔县,岐山县,扶风县,眉县,陇县,千阳县,麟游县,凤县,太白县|咸阳市,市辖区,秦都区,杨凌区,渭城区,三原县,泾阳县,乾县,礼泉县,永寿县,彬县,长武县,旬邑县,淳化县,武功县,兴平市|渭南市,市辖区,临渭区,华县,潼关县,大荔县,合阳县,澄城县,蒲城县,白水县,富平县,韩城市,华阴市|延安市,市辖区,宝塔区,延长县,延川县,子长县,安塞县,志丹县,吴起县,甘泉县,富县,洛川县,宜川县,黄龙县,黄陵县|汉中市,市辖区,汉台区,南郑县,城固县,洋县,西乡县,勉县,宁强县,略阳县,镇巴县,留坝县,佛坪县|榆林市,市辖区,榆阳区,神木县,府谷县,横山县,靖边县,定边县,绥德县,米脂县,佳县,吴堡县,清涧县,子洲县|安康市,市辖区,汉滨区,汉阴县,石泉县,宁陕县,紫阳县,岚皋县,平利县,镇坪县,旬阳县,白河县|商洛市,市辖区,商州区,洛南县,丹凤县,商南县,山阳县,镇安县,柞水县#甘肃省$兰州市,市辖区,城关区,七里河区,西固区,安宁区,红古区,永登县,皋兰县,榆中县|嘉峪关市,市辖区|金昌市,市辖区,金川区,永昌县|白银市,市辖区,白银区,平川区,靖远县,会宁县,景泰县|天水市,市辖区,秦城区,北道区,清水县,秦安县,甘谷县,武山县,张家川回族自治县|武威市,市辖区,凉州区,民勤县,古浪县,天祝藏族自治县|张掖市,市辖区,甘州区,肃南裕固族自治县,民乐县,临泽县,高台县,山丹县|平凉市,市辖区,崆峒区,泾川县,灵台县,崇信县,华亭县,庄浪县,静宁县|酒泉市,市辖区,肃州区,金塔县,安西县,肃北蒙古族自治县,阿克塞哈萨克族自治县,玉门市,敦煌市|庆阳市,市辖区,西峰区,庆城县,环县,华池县,合水县,正宁县,宁县,镇原县|定西市,市辖区,安定区,通渭县,陇西县,渭源县,临洮县,漳县,岷县|陇南市,市辖区,武都区,成县,文县,宕昌县,康县,西和县,礼县,徽县,两当县|临夏回族自治州,临夏市,临夏县,康乐县,永靖县,广河县,和政县,东乡族自治县,积石山保安族东乡族撒拉族自治县|甘南藏族自治州,合作市,临潭县,卓尼县,舟曲县,迭部县,玛曲县,碌曲县,夏河县#青海省$西宁市,市辖区,城东区,城中区,城西区,城北区,大通回族土族自治县,湟中县,湟源县|海东地区,平安县,民和回族土族自治县,乐都县,互助土族自治县,化隆回族自治县,循化撒拉族自治县|海北藏族自治州,门源回族自治县,祁连县,海晏县,刚察县|黄南藏族自治州,同仁县,尖扎县,泽库县,河南蒙古族自治县|海南藏族自治州,共和县,同德县,贵德县,兴海县,贵南县|果洛藏族自治州,玛沁县,班玛县,甘德县,达日县,久治县,玛多县|玉树藏族自治州,玉树县,杂多县,称多县,治多县,囊谦县,曲麻莱县|海西蒙古族藏族自治州,格尔木市,德令哈市,乌兰县,都兰县,天峻县#宁夏回族自治区$银川市,市辖区,兴庆区,西夏区,金凤区,永宁县,贺兰县,灵武市|石嘴山市,市辖区,大武口区,惠农区,平罗县|吴忠市,市辖区,利通区,盐池县,同心县,青铜峡市|固原市,市辖区,原州区,西吉县,隆德县,泾源县,彭阳县|中卫市,市辖区,沙坡头区,中宁县,海原县#新疆维吾尔自治区$乌鲁木齐市,市辖区,天山区,沙依巴克区,新市区,水磨沟区,头屯河区,达坂城区,东山区,乌鲁木齐县|克拉玛依市,市辖区,独山子区,克拉玛依区,白碱滩区,乌尔禾区|吐鲁番地区,吐鲁番市,鄯善县,托克逊县|哈密地区,哈密市,巴里坤哈萨克自治县,伊吾县|昌吉回族自治州,昌吉市,阜康市,米泉市,呼图壁县,玛纳斯县,奇台县,吉木萨尔县,木垒哈萨克自治县|博尔塔拉蒙古自治州,博乐市,精河县,温泉县|巴音郭楞蒙古自治州,库尔勒市,轮台县,尉犁县,若羌县,且末县,焉耆回族自治县,和静县,和硕县,博湖县|阿克苏地区,阿克苏市,温宿县,库车县,沙雅县,新和县,拜城县,乌什县,阿瓦提县,柯坪县|克孜勒苏柯尔克孜自治州,阿图什市,阿克陶县,阿合奇县,乌恰县|喀什地区,喀什市,疏附县,疏勒县,英吉沙县,泽普县,莎车县,叶城县,麦盖提县,岳普湖县,伽师县,巴楚县,塔什库尔干塔吉克自治县|和田地区,和田市,和田县,墨玉县,皮山县,洛浦县,策勒县,于田县,民丰县|伊犁哈萨克自治州,伊宁市,奎屯市,伊宁县,察布查尔锡伯自治县,霍城县,巩留县,新源县,昭苏县,特克斯县,尼勒克县|塔城地区,塔城市,乌苏市,额敏县,沙湾县,托里县,裕民县,和布克赛尔蒙古自治县|阿勒泰地区,阿勒泰市,布尔津县,富蕴县,福海县,哈巴河县,青河县,吉木乃县|省直辖行政单位,石河子市,阿拉尔市,图木舒克市,五家渠市#香港特别行政区$香港,香港特别行政区#澳门特别行政区$澳门,澳门特别行政区#台湾省$台北市,中正区,大同区,中山区,松山区,大安区,万华区,信义区,士林区,北投区,内湖区,南港区,文山区|高雄市,新兴区,前金区,芩雅区,盐埕区,鼓山区,旗津区,前镇区,三民区,左营区,楠梓区,小港区|基隆市,仁爱区,信义区,中正区,中山区,安乐区,暖暖区,七堵区|台中市,中区,东区,南区,西区,北区,北屯区,西屯区,南屯区|台南市,中西区,东区,南区,北区,安平区,安南区|新竹市,东区,北区,香山区|嘉义市,东区,西区|县,台北县(板桥市),宜兰县(宜兰市),新竹县(竹北市),桃园县(桃园市),苗栗县(苗栗市),台中县(丰原市),彰化县(彰化市),南投县(南投市),嘉义县(太保市),云林县(斗六市),台南县(新营市),高雄县(凤山市),屏东县(屏东市),台东县(台东市),花莲县(花莲市),澎湖县(马公市)#其它$亚洲,阿富汗,巴林,孟加拉国,不丹,文莱,缅甸,塞浦路斯,印度,印度尼西亚,伊朗,伊拉克,日本,约旦,朝鲜,科威特,老挝,马尔代夫,黎巴嫩,马来西亚,以色列,蒙古,尼泊尔,阿曼,巴基斯坦,巴勒斯坦,菲律宾,沙特阿拉伯,新加坡,斯里兰卡,叙利亚,泰国,柬埔寨,土耳其,阿联酋,越南,也门,韩国,中国,中国香港,中国澳门,中国台湾|非洲,阿尔及利亚,安哥拉,厄里特里亚,法罗群鸟,加那利群岛(西)(拉斯帕尔马斯),贝宁,博茨瓦纳,布基纳法索,布隆迪,喀麦隆,加那利群岛(西)(圣克鲁斯),佛得角,中非,乍得,科摩罗,刚果,吉布提,埃及,埃塞俄比亚,赤道几内亚,加蓬,冈比亚,加纳,几内亚,南非,几内亚比绍,科特迪瓦,肯尼亚,莱索托,利比里亚,利比亚,马达加斯加,马拉维,马里,毛里塔尼亚,毛里求斯,摩洛哥,莫桑比克,尼日尔,尼日利亚,留尼旺岛,卢旺达,塞内加尔,塞舌尔,塞拉利昂,索马里,苏丹,斯威士兰,坦桑尼亚,圣赤勒拿,多哥,突尼斯,乌干达,扎伊尔,赞比亚,津巴布韦,纳米比亚,迪戈加西亚,桑给巴尔,马约特岛,圣多美和普林西比|欧洲,阿尔巴尼亚,安道尔,奥地利,比利时,保加利亚,捷克,丹麦,芬兰,法国,德国,直布罗陀(英),希腊,匈牙利,冰岛,爱尔兰,意大利,列支敦士登,斯洛伐克,卢森堡,马耳他,摩纳哥,荷兰,挪威,波兰,葡萄牙,马其顿,罗马尼亚,南斯拉夫,圣马力诺,西班牙,瑞典,瑞士,英国,科罗地亚,斯洛文尼亚,梵蒂冈,波斯尼亚和塞哥维那,俄罗斯联邦,亚美尼亚共和国,白俄罗斯共和国,格鲁吉亚共和国,哈萨克斯坦共和国,吉尔吉斯坦共和国,乌兹别克斯坦共和国,塔吉克斯坦共和国,土库曼斯坦共和国,乌克兰,立陶宛,拉脱维亚,爱沙尼亚,摩尔多瓦,阿塞拜疆|美洲,安圭拉岛,安提瓜和巴布达,阿根廷,阿鲁巴岛,阿森松,巴哈马,巴巴多斯,伯利兹,百慕大群岛,玻利维亚,巴西,加拿大,开曼群岛,智利,哥伦比亚,多米尼加联邦,哥斯达黎加,古巴,多米尼加共和国,厄瓜多尔,萨尔瓦多,法属圭亚那,格林纳达,危地马拉,圭亚那,海地,洪都拉斯,牙买加,马提尼克(法),墨西哥,蒙特塞拉特岛,荷属安的列斯群岛,尼加拉瓜,巴拿马,巴拉圭,秘鲁,波多黎哥,圣皮埃尔岛密克隆岛(法),圣克里斯托弗和尼维斯,圣卢西亚,福克兰群岛,维尔京群岛(英),圣文森特岛(英),维尔京群岛(美),苏里南,特立尼达和多巴哥,乌拉圭,美国,委内瑞拉,格陵兰岛,特克斯和凯科斯群岛,瓜多罗普|大洋洲,澳大利亚,科克群岛,斐济,法属波里尼西亚、塔希提,瓦努阿图,关岛,基里巴斯,马里亚纳群岛,中途岛,瑙鲁,新咯里多尼亚群岛,新西兰,巴布亚新几内亚,东萨摩亚,西萨摩亚,所罗门群岛,汤加,对诞岛,威克岛,科科斯岛,夏威夷,诺福克岛,帕劳,纽埃岛,图瓦卢,托克鲁,密克罗尼西亚,马绍尔群岛,瓦里斯加富士那群岛";ShowT&&(PCAD=SPT+"$"+SCT+","+SAT+"#"+PCAD);var PCAArea=[],PCAP=[],PCAC=[],PCAA=[],PCAN=PCAD.split("#");for(var i=0;i<PCAN.length;i++){PCAA[i]=[];var TArea=PCAN[i].split("$")[1].split("|");for(var j=0;j<TArea.length;j++)PCAA[i][j]=TArea[j].split(","),PCAA[i][j].length==1&&(PCAA[i][j][1]=SAT),TArea[j]=TArea[j].split(",")[0];PCAArea[i]=PCAN[i].split("$")[0]+","+TArea.join(","),PCAP[i]=PCAArea[i].split(",")[0],PCAC[i]=PCAArea[i].split(",")}PCAS.SetP=function(e){for(i=0;i<PCAP.length;i++){var t=null,n=null;t=n=PCAP[i],t==SPT&&(n=""),e.SelP.options.add(new Option(t,n)),e.DefP==n&&(e.SelP[i].selected=!0)}PCAS.SetC(e)},PCAS.SetC=function(e){var t=e.SelP.selectedIndex;e.SelC.length=0;for(i=1;i<PCAC[t].length;i++){var n=null,r=null;n=r=PCAC[t][i],n==SCT&&(r=""),e.SelC.options.add(new Option(n,r)),e.DefC==r&&(e.SelC[i-1].selected=!0)}e.SelA&&PCAS.SetA(e)},PCAS.SetA=function(e){var t=e.SelP.selectedIndex,n=e.SelC.selectedIndex;e.SelA.length=0;for(i=1;i<PCAA[t][n].length;i++){var r=null,s=null;r=s=PCAA[t][n][i],r==SAT&&(s=""),e.SelA.options.add(new Option(r,s)),e.DefA==s&&(e.SelA[i-1].selected=!0)}},define("pcas",function(e){return function(){var t,n;return t||e.PCAS}}(this)),define("views/driving_tour/TourDetailPageView",["jquery","underscore","backbone","models/driving_tour/TourModel","models/driving_tour/TourSignFormModel","text!templates/driving_tour/tour_detail_page.html","text!templates/driving_tour/tour_detail.html","pcas","jqm"],function(e,t,n,r,i,s,o,u){e(s).appendTo("body");var a=n.View.extend({detail_tpl:t.template(o),model:new r,sign_form_model:new i,el:"#tour_detail_page",initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.sign_form_model,"invalid",this.onSignModelInValid),this.listenTo(this.sign_form_model,"change:order_info",this.onSignModelOrderInfoChange),new u("tour_province","tour_city","tour_area")},render:function(t,n){this.$el.find(".detail-container").empty(),this.$el.find("#tour_sign_up_btn").hide();if(t.keys().length==0)return;this.$el.find(".detail-container").append(this.detail_tpl(t.toJSON()));var r=t.get("state"),i=t.get("sign_start_date"),s=t.get("sign_end_date"),o=new Date(i),u=new Date(s),a=Date.today();r!=1||i&&Date.compare(o,a)==1||s&&Date.compare(u,a)==-1?this.$el.find("#tour_sign_up_btn").hide():this.$el.find("#tour_sign_up_btn").show();var f=t.get("infos")||"";this.$el.find("#tour_sign_up_form_container [data-field]").each(function(t,n){var r=e(n).attr("data-field");f.indexOf(r)!=-1?e(n).show():e(n).hide()}),e('[data-field="auto"]').find("#tour_option_label").text(t.get("option")),e('[name="user_id"]').val(G.user.user_id);var l=t.get("need_pay");if(l==1){e('#tour_sign_up_form_container [data-field="pay_items"]').show(),e('#tour_sign_up_form_container [data-field="total_fee"]').show(),e('#tour_sign_up_form_container [name="total_fee"]').text("0.00");var c=t.get("goods"),h=c.length;e("#tour_pay_items_container").empty();for(var p=0;p<h;p++){var d=e('<tr class="tour-pay-item" data-id="'+c[p].id+'" data-price="'+c[p].price+'"></tr>');e("#tour_pay_items_container").append(d),d.append("<td>"+c[p].name+"</td>"),d.append('<td class="cm-color-money">'+c[p].price+"</td>"),d.append('<td class="cm-numberspinner cm-span6 tour-pay-item-number"></td>'),d.find(".cm-numberspinner").numberspinner({change:function(t,n){var r=0;e("#tour_pay_items_container .tour-pay-item").each(function(t,n){var i=Number(e(n).attr("data-price")),s=e(n).find(".tour-pay-item-number").numberspinner("getValue");r+=i*s}),e('#tour_sign_up_form_container [name="total_fee"]').text(Number(r).toFixed(2))}})}}else e('#tour_sign_up_form_container [data-field="pay_items"]').hide()},events:{"click #tour_sign_up_btn":"onSignUpBtnClick","click #tour_sign_up_submit_btn":"onSignUpSubmit",'change [name="pay_type"]':"onPayTypeChange"},onSignUpBtnClick:function(t){return t.preventDefault(),e("#tour_sign_up_popup").popup("open"),!1},onPeopleNumberInput:function(e){var t=this.$el.find('[name="people"]').val(),n=this.$el.find('[name="deposit"]').val(),r=Number(t)*Number(n);this.$el.find("total_fee").val(r.toFixed(2))},onSignUpSubmit:function(e){return this._collectFormData(),this.sign_form_model.isValid()&&this.sign_form_model.save(),!1},onSignModelInValid:function(e,t){this.trigger("invalid:sign",this,t)},onSignModelOrderInfoChange:function(e,t){this.trigger("ordergen",this,this._getOrderInfo())},_collectFormData:function(){this.sign_form_model.clear({silent:!0});var t=this;e("[name]:visible").each(function(n,r){var i=e(r).attr("name"),s=e(r).val();t.sign_form_model.set(i,s,{silent:!0})});var n=[];e("#tour_pay_items_container .tour-pay-item").each(function(t,r){var i=e(r).find(".tour-pay-item-number").numberspinner("getValue");if(i==0)return;var s={};s.id=e(r).attr("data-id"),s.number=i,n.push(s)}),t.sign_form_model.set("pay_items",n),t.sign_form_model.set("aid",this.model.get("id")),t.sign_form_model.set("user_id",G.user.user_id)},_getOrderInfo:function(){var e=this.sign_form_model.get("order_info"),t=this.model.get("pay_types");if(e&&e instanceof Object){e.pay_type={offline:0,alipay:0,wxpay:0};if(t.indexOf("CASH")!=-1||t.indexOf("POS")!=-1||t.indexOf("TRANSFER")!=-1)e.pay_type.offline=1;t.indexOf("ONLINE")!=-1&&(e.pay_type.alipay=1,e.pay_type.wxpay=1)}return e}});return a});var base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);define("base64",function(){}),define("routers/TourRouter",["jquery","backbone","views/driving_tour/ToursPageView","views/driving_tour/TourDetailPageView","jqm","base64"],function(e,t,n,r){var i=t.Router.extend({initialize:function(){this.tours_page_view=new n,this.tour_detail_page_view=new r,this.listenTo(this.tour_detail_page_view,"invalid:sign",this._onSignInValid),this.listenTo(this.tour_detail_page_view,"ordergen",this._onNewOrderGen)},_onSignInValid:function(t,n){e.cm.toast({msg:n})},_onNewOrderGen:function(e,t){if(!t)return;var n="<root><orderId>"+t.order_id+"<orderId><orderNo>"+t.order_no+"</orderNo><orderFee>"+t.order_fee+"</orderFee><payType><offline>"+t.pay_type.offline+"</offline><alipay>"+t.pay_type.alipay+"</alipay><wxpay>"+t.pay_type.wxpay+"</wxpay></payType></root>"},routes:{"tours(/:type)":"index","tour/detail(/:id)":"tourDetail"},index:function(t){t||this.tours_page_view.tour_list_view.collection.reset(),this.tours_page_view.tour_list_view.collection.fetch(),e(":mobile-pagecontainer").pagecontainer("change","#tours_page")},tourDetail:function(t){this.tour_detail_page_view.model.clear(),this.tour_detail_page_view.model.set({id:t},{silent:!0}),this.tour_detail_page_view.model.fetch(),e(":mobile-pagecontainer").pagecontainer("change","#tour_detail_page")}});return i}),define("models/insurance/InsuranceFormModel",["underscore","backbone"],function(e,t){var n=t.Model.extend({url:"/insurance/first",parse:function(e,t){return e.row||{}},validate:function(t,n){var r=/\d+/;if(!e.isUndefined(t.car_price)&&(t.car_price<1||!r.test(t.car_price)))return"车价必须为数字且大于1";if(!e.isUndefined(t.compulsory_state_id)&&!t.compulsory_state_id)return"请选择交强险出现情况";var i=/\d{11}/;if(!e.isUndefined(t.phone)&&!i.test(t.phone))return"手机号码不合法";if(!e.isUndefined(t.third)&&t.third<0)return"第三方责任险金额必须大于0";if(!e.isUndefined(t.driver)&&t.driver<0)return"司机座椅责任险金额必须大于0";if(!e.isUndefined(t.passenger)&&t.passenger<0)return"乘客座椅责任险金额必须大于0";if(!e.isUndefined(t.glass_id)&&!t.glass_id)return"玻璃单独破损险玻璃种类必须选择";if(!e.isUndefined(t.scratch)&&t.scratch<0)return"车身划痕险金额必须大于0";if(!e.isUndefined(t.optional_deductible)&&t.optional_deductible<0)return"可选免赔额金额必须大于等于0"}});return n}),define("text!templates/insurance/insurance_page.html",[],function(){return'<!--新保险入口页面-->\n<div data-role="page" id="insurance_page" data-theme="a" style="padding-top: 95px; padding-bottom: 0px; background:#FFF">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>本地惠-保险巨惠</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n        <div id="insurance_navbar" data-role="navbar" class="" cellpadding="0" cellspacing="8">\n            <ul>\n                <li>\n                    <a class="cm-right btn no-enhance" href="#insurance/list" style="background-color:#F1F1F1;font-size:16px;color:#3D9AE8;padding:0px;margin:0px">\n                        <img src="/assets/img/tei.png" style="width:30px;height:30px;float:left">\n                        <div style="height: 32px;display:inline-block;float:left;line-height:32px;">我的订单</div>\n                    </a>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div role="main" class="ui-content">\n        <!-- <div style="float:left;width:100%">\n            <a href="#insurance/set/compulsory">\n                <img src="/assets/img/insurance/ad1.jpg" width="100%"  style="min-width:320px;" />\n            </a>\n        </div> -->\n        <div class="bx_hjb_box" style="width:93%; margin: 0px 3%;">\n            <!-- <div style="font-size:16px;color:#ffffff ;text-align:center; margin-bottom:20px;">\n                <img src="/assets/img/insurance/ad1.jpg" width="100%" />\n            </div> -->\n            <div  class="bx_hjb_box_txt1">我只买交强险</div>\n            <div style="float:left; width:100%;color: #535353; text-align:center;font-size: 14px;font-family:微软雅黑; margin-top:20px;margin-bottom:20px;">\n                <select class="compulsory-state" style="width:85%; height: auto">\n                    <option value="1">连续三年未出险</option>\n                    <option value="2">上两年度双方无肇事</option>\n                    <option value="3">上一年度双方无肇事</option>\n                    <option value="4">新车或上一年度有一次双方肇事</option>\n                    <option value="5">上年度有两次双方肇事</option>\n                    <option value="6">上年度有三此及次上双方肇事</option>\n                </select>\n            </div>\n            <div  class="bx_fb_button2">\n                <a href="#insurance/set/compulsory" class="goto-set-compulsory-btn">\n                    <button class="bx_fb_box_button9 no-enhance">立即抢优惠</button>\n                </a>\n            </div>\n        </div>\n        <div class="bx_hjb_box1" style="width: 93%; margin: 5px 3%; clear:both">\n            <div class="bx_hjb_box_bja">经济套餐</div>\n            <div class="bx_hjb_box_txt1">老驾自由组合套餐——不含车损险</div>\n            <div class="bx_hjb_box_txt2">最优惠：国寿财、中华财险、太保，7折出单，再送保费总额30%油卡</div>\n            <div class="bx_fb_button2" style="border-top:none;">\n                <a href="#insurance/set/value">\n                    <button class="bx_fb_box_button7 no-enhance">点此初算</button>\n                </a>\n            </div>\n        </div>  \n        <div class="bx_hjb_box1" style="width: 93%; margin: 5px 3%; clear:both" >\n            <div class="bx_hjb_box_bja">全险套餐</div>\n            <div class="bx_hjb_box_txt1">高保障自由组合套餐——含车损险</div>\n            <div class="bx_hjb_box_txt2">最优惠：国寿财、天安，7折出单，再送保费总额30%油卡</div>\n            <div class="bx_fb_button2">\n                <a href="#insurance/set/full">\n                    <button class="bx_fb_box_button7 no-enhance">点此初算</button>\n                </a>\n            </div>\n        </div>\n        <div class="bx_hjb_box1" style="width: 93%; margin: 5px 3%; clear:both" >\n            <div class="bx_hjb_box_bja">营运车辆</div>\n            <div class="bx_hjb_box_txt1">营运车辆高保障自由组合套餐——含车损险</div>\n            <div class="bx_hjb_box_txt2">最优惠：国寿财、天安，7折出单</div>\n            <div class="bx_fb_button2">\n                <a href="#insurance/set/profit">\n                    <button class="bx_fb_box_button7 no-enhance">点此初算</button>\n                </a>\n            </div>\n        </div>\n        <div class="bx_hjb_box" style="width: 93%; margin: 5px 3%; clear:both" >\n            <div  class="bx_hjb_box_bja2">预约</div>\n            <div  class="bx_hjb_box_txt1">客服将在您指定时间为您提供多家报价,提前预约可获五十元车优惠服务券,预约、代缴不用愁</div>\n            <div  class="bx_hjb_box_txt2">&nbsp;</div>\n            <div  class="bx_fb_button2">\n                <a href="#insurance/reservation">\n                    <button class="bx_fb_box_button7 no-enhance">立即预约</button>\n                </a>\n            </div>\n        </div>\n        <div class="bx_zf_box_div_yf" style="width:100%">常见问题：<br/>\n            <ul>\n                <li>怎样选择保险组合 <b data-rel="#insurance_qa1_popup" class="qa cm-circle cm-bg-prim" style="font-size:0.85em; text-align: center">?</b></li>\n                <li>出险后怎么办 <b data-rel="#insurance_qa2_popup" class="qa cm-circle cm-bg-prim" style="font-size:0.85em; text-align: center">?</b></li>\n                <li>售后服务 <b data-rel="#insurance_qa4_popup" class="qa cm-circle cm-bg-prim" style="font-size:0.85em; text-align: center">i</b></li>\n                <li>咨询电话和公司地址 <b data-rel="#insurance_qa4_popup" class="qa cm-circle cm-bg-prim" style="font-size:0.85em; text-align: center">i</b></li>\n                <li>客服微信号 <b data-rel="#insurance_qa5_popup" class="qa cm-circle cm-bg-prim" style="font-size:0.75em; text-align: center">i</b></li>\n            </ul>\n        </div>\n    </div>\n    <div data-role="popup" id="insurance_qa1_popup" data-overlay-theme="g" data-theme="a" data-corners="true" data-enhance="false">\n        <a href="#" data-rel="back" data-theme="j" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" style="background-color: #333; color: #FFF; border-color:#666; border-radius: 25em; position: absolute; right: -12px; top:-12px;"></a>\n        <div class="container" style="padding:5px 10px;max-height:400px;overflow:scroll;">\n            <table  class="bx_xxnr_div_table">\n                <tr>\n                    <td>怎样选择保险组合</td>\n                </tr>\n            </table>\n            <table  class="bx_xxnr_div_table_txt" align="center">\n                <tr>\n                    <td style="font-size: 0.95em; line-height: 1.25em;">险种释义\n                        <br>\n                        A、	交强险保额（只对第三者赔付）：\n                        <br>\n                        ※事故所涉及的第三者死亡或伤残：11万元\n                        <br>\n                        （释义：第三者死亡或全残，保险公司赔付11万元；第三者在事故发生180天后，经鉴定有永久残疾的，按对应伤残等级的赔付比例进行赔偿，从数千元至11万元以内。）<br>\n                        &nbsp;※事故所涉及的第三者因伤就医的医疗费用：1万元\n                        <br>\n                        （该费用为报销制，需按诊疗目录的标准报销）<br>\n                        &nbsp;※事故所涉的第三者的财产损失：2000元<br>\n                        &nbsp;B、	第三者责任险保险金额可以由客户自选：5万、10万、20万、30万、50万、100万，该保险的保额覆盖第三者的人身伤亡、事故医疗费用及财产损失，只要总费用在保额内，保险公司均承担赔偿责任。\n                        考虑当前的社会情况，建议选择第三者责任险的保险额应在20万元以上，30至50万元为宜，避免因交通事故陷入个人或家庭的财务危机，甚至返贫。\n                        <br>\n                        C、	不计免赔附加险：买了该附加险后，只要不超过第三者险的保额，保险公司承担所有的依法赔偿责任\n                        <br>\n                        D、 只要保险金额足够覆盖事故的赔偿金额，被保险人在出现第三者事故后，在出现第三者赔偿争议时，可以简单选择由第三者到法院起诉，保险公司会自然地成为第二被告，被保险人无需亲自应诉或委托律师应诉，相关的法律事务均可由保险公司代为处理。\n                        <br>\n                        保险组合\n                        <br>\n                        1、	实惠又省钱\n                        交强+三者+座位+不计免赔\n                        适合于用车情况简单、技术熟练的老驾，或者关注用车成本的车主\n                        <br>\n                        2、	最省钱\n                        只买交强险\n                        技术好、运气好、家底厚的超级车主\n                        <br>\n                        3、	省心又省钱\n                        交强+三者+车损+座位+不计免赔\n                        怕麻烦又爱车的车主\n                        <br>\n                        4、	甩手掌柜还省钱\n                        能买的险种买全，优惠不停步\n                        有钱、任性\n                        <br>\n                        注：没有固定车位、用车情况复杂的车主请关注“划痕险、抢盗险、玻璃单独破碎险、涉水险”\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n    <div data-role="popup" id="insurance_qa2_popup" data-overlay-theme="g" data-theme="a" data-corners="true" data-enhance="false">\n        <a href="#" data-rel="back" data-theme="j" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" style="background-color: #333; color: #FFF; border-color:#666; border-radius: 25em; position: absolute; right: -12px; top:-12px;"></a>\n        <div class="container" style="padding:5px 10px;max-height:400px;overflow:scroll;">\n            <table  class="bx_xxnr_div_table">\n                <tr>\n                    <td>出险怎么办</td>\n                </tr>\n            </table>\n            <table  class="bx_xxnr_div_table_txt" align="center">\n                <tr>\n                    <td style="font-size: 0.95em; line-height: 1.25em">\n                        云南交警自助处理平台\n                        <br>\n                        轻微事故：无人伤，车辆可正常行驶\n                        <br>\n                        其他事故：\n                        <br>\n                        有人伤：\n                        <br>\n                        ①	拨打120急救或施救电话<br>\n                        ②	拨打交警报警电话（点击立即拨打）\n                        <br>\n                        ③	拨打保险公司报案电话\n                        点击查看各保险公司报案电话目录\n                        <br>\n                        ④	拍摄现场照片\n                        点击查看如何拍摄\n                        <br>\n                        ⑤	保险公司人员现场查勘\n                        <br>\n                        ⑥	医院相关材料、单据收集，保险公司核赔\n                        <br>\n                        ⑦	事故车辆定损、修复\n                        <br>\n                        ⑧	按保险公司要求提供单证索赔\n                        <br>\n                        点击查看保险公司理赔单证一览表\n                        <br>\n                        车辆无法行驶：<br>\n                        &nbsp;①	拨打施救电话\n                        点击查看各保险公司报案电话目录\n                        <br>\n                        ②	拍摄现场照片\n                        点击查看如何拍摄\n                        <br>\n                        ③	保险公司人员现场查勘\n                        <br>\n                        ④	事故车辆定损、修复\n                        <br>\n                        ⑤	按保险公司要求提供单证索赔\n                        <br>\n                        点击查看保险公司理赔单证一览表\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n    <div data-role="popup" id="insurance_qa3_popup" data-overlay-theme="g" data-theme="a" data-corners="true" data-enhance="false">\n        <a href="#" data-rel="back" data-theme="j" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" style="background-color: #333; color: #FFF; border-color:#666; border-radius: 25em; position: absolute; right: -12px; top:-12px;"></a>\n        <div class="container" style="padding:5px 10px;">\n\n\n        </div>\n    </div>\n    <div data-role="popup" id="insurance_qa4_popup" data-overlay-theme="g" data-theme="a" data-corners="true" data-enhance="false">\n        <a href="#" data-rel="back" data-theme="j" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" style="background-color: #333; color: #FFF; border-color:#666; border-radius: 25em; position: absolute; right: -12px; top:-12px;"></a>\n        <div class="container" style="padding:5px 10px;max-height:400px;overflow:scroll;">\n            <table  class="bx_xxnr_div_table">\n                <tr>\n                    <td>咨询电话和公司地址</td>\n                </tr>\n            </table>\n            <table  class="bx_xxnr_div_table_txt" align="center">\n                <tr>\n                    <td style="font-size: 0.95em; line-height: 1.25em">\n                        咨询热线 <a href="tel:400-009-0047" style="color:deepskyblue;">400-009-0047</a>转2 <br>\n                        客服电话（亦可添加微信）<br>\n                        <a href="tel:18208765609" style="color:deepskyblue;">18208765609</a> <br>\n                        <a href="tel:18208769819" style="color:deepskyblue;">18208769819</a> <br>\n                        <a href="tel:18208762269" style="color:deepskyblue;">18208762269</a> <br>\n                        <a href="tel:18208762368" style="color:deepskyblue;">18208762368</a> <br>\n                        地址：<a href="http://api.map.baidu.com/geocoder?address=云南省昆明市东风东路东风巷1号勘泰大厦A幢&output=html" style="color:deepskyblue;">东风东路东风巷1号勘泰大厦A幢</a> <br>\n                        <a href="http://api.map.baidu.com/geocoder?address=云南省昆明市东风东路东风巷1号勘泰大厦A幢&output=html" style="color:deepskyblue;"><img src="http://api.map.baidu.com/staticimage?width=300&height=225&zoom=17&scale=1&markers=102.729387,25.045562&center=%E6%98%86%E6%98%8E%E4%B8%9C%E9%A3%8E%E4%B8%9C%E8%B7%AF%E4%B8%9C%E9%A3%8E%E5%B7%B71%E5%8F%B7%E5%8B%98%E6%B3%B0%E5%A4%A7%E5%8E%A6A%E5%B9%A2" style="width:100%;"></a>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n    <div data-role="popup" id="insurance_qa5_popup" data-overlay-theme="g" data-theme="a" data-corners="true" data-enhance="false">\n        <a href="#" data-rel="back" data-theme="j" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" style="background-color: #333; color: #FFF; border-color:#666; border-radius: 25em; position: absolute; right: -12px; top:-12px;"></a>\n        <div class="container" style="padding:5px 10px;max-height:400px;overflow:scroll;">\n            <table  class="bx_xxnr_div_table">\n                <tr>\n                    <td>客服微信号</td>\n                </tr>\n            </table>\n            <table  class="bx_xxnr_div_table_txt" align="center">\n                <tr>\n                    <td style="font-size: 0.95em; line-height: 1.25em">\n                        <table style="text-align: center">\n                            <tr>\n                                <td>\n                                    <img src="/assets/img/insurance/18208765609.jpg" class="cm-left" style="width:100%">\n                                </td>\n                                <td>\n                                    <img src="/assets/img/insurance/18208769819.jpg" class="cm-left" style="width:100%">\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>18208765609</td>\n                                <td>18208769819</td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    <img src="/assets/img/insurance/18208762269.jpg" class="cm-left" style="width:100%">\n                                </td>\n                                <td>\n                                    <img src="/assets/img/insurance/18208762368.jpg" class="cm-left" style="width:100%">\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>18208762269</td>\n                                <td>18208762368</td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</div>'}),define("views/insurance/InsurancePageView",["jquery","underscore","backbone","models/insurance/InsuranceFormModel","text!templates/insurance/insurance_page.html"],function(e,t,n,r,i){e(i).appendTo("body");var s=n.View.extend({form_model:new r,el:"#insurance_page",initialize:function(e){},events:{"click .goto-set-compulsory-btn":"_onGotoSetCompulsoryBtnClick","click .qa":"_onQaClick"},_onGotoSetCompulsoryBtnClick:function(t){t.preventDefault();var n=e(t.currentTarget).attr("href"),r=this.$el.find(".compulsory-state").val();return this.trigger("uri",this,n+"/"+r),!1},_onQaClick:function(t){var n=e(t.target),r=n.attr("data-rel");e(r).popup("open")}});return s}),define("models/insurance/InsuranceResultModel",["backbone"],function(e){var t=e.Model.extend({urlRoot:"/insurance/first_result/",parse:function(e,t){return t.collection?e:e.row||{}}});return t}),define("models/insurance/InsuranceInfoModel",["backbone","models/insurance/InsuranceResultModel"],function(e,t){var n=e.Model.extend({urlRoot:"/insurance/info/",parse:function(e,t){return t.collection?e:e.row||{}},initialize:function(){this.result=new t,this.listenTo(this,"change:result_id",this._loadResult),this.listenTo(this.result,"change",this._onResultChange)},_loadResult:function(e,t,n){this.result.set("id",t,{silent:!0}),this.result.fetch()},_onResultChange:function(e,t){this.trigger("change:result",this,this.result,t)}});return n}),define("models/insurance/InsuranceCompanyModel",["backbone"],function(e){var t=e.Model.extend({parse:function(e,t){return t.collection?e:e.row||{}}});return t}),define("collections/insurance/InsuranceCompanyCollection",["backbone","models/insurance/InsuranceCompanyModel"],function(e,t){var n=e.Collection.extend({model:t,rows:5,url:function(){return"/insurance/companise"},parse:function(e,t){return e.rows||[]}});return n}),define("text!templates/insurance/compulsory_set_page.html",[],function(){return'<!--新保险入口页面-->\n<div data-role="page" id="insurance_compulsory_set_page" data-theme="a" style="padding-top: 44px; padding-bottom: 0px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>保险巨惠-老驾套餐</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <div class="discount-detail"></div>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <a class="apply-actual-btn" data-theme="g" style="padding:0.7em 0.5%;width: 99%;color:white;">我要投保</a>\n    </div>\n</div>'}),define("text!templates/insurance/discount_detail.html",[],function(){return'<%\n    var car_type_id = info.car_type_id;\n    var standard_compulsory = Number(result.standardCompulsoryInsurance) || 0.00;\n    var standard_damage = Number(result.standardDamageInsurance) || 0.00;\n    var standard_third = Number(result.standardThird) || 0.00;\n    var standard_driver = Number(result.standardDriver) || 0.00;\n    var standard_passenger = Number(result.standardPassenger) || 0.00;\n    var standard_robbery = Number(result.standardRobbery) || 0.00;\n    var standard_glass = Number(result.standardGlass) || 0.00;\n    var standard_scratch = Number(result.standardScratch) || 0.00;\n    var standard_self_ignition = Number(result.standardSelfIgnition) || 0.00;\n    var standard_optional_deductible = Number(result.standardOptionalDeductible) || 0.00;\n    var standard_not_deductible = Number(result.standardNotDeductible) || 0.00;\n    var total_standard = Number(result.totalStandard) || 0.00;\n\n    var discount = Number(company.discount);\n    var car_price_discount = Number(company.car_price_discount);\n    var coefficient = Number(result.coefficient || 0);\n    var after_discount_compulsory = Number(result.afterDiscountCompulsoryInsurance) || 0.00;\n\n    //计算含折价折扣的折扣后车损险保费\n    var after_discount_damage = 0;\n    var car_price = 0;\n\n    if(coefficient == 1)\n    {\n    car_price = (standard_damage - 619.00) * 100 / 1.47 * car_price_discount;\n    after_discount_damage = Math.round((car_price * 1.47 / 100.0 + 619.0) * 100) / 100;\n    }\n    else if(coefficient == 2)\n    {\n    car_price = (standard_damage - 590.00) * 100 / 1.40 * car_price_discount;\n    after_discount_damage = Math.round((car_price * 1.40 / 100.0 + 590.0) * 100) / 100;\n    }\n    else if(coefficient == 3 || coefficient == 4 || coefficient == 5)\n    {\n    car_price = (standard_damage - 584.00) * 100 / 1.39 * car_price_discount;\n    after_discount_damage = Math.round((car_price * 1.39 / 100.0 + 584.0) * 100) /100;\n    }\n    else if(coefficient == 6)\n    {\n    car_price = (standard_damage - 602.00) * 100 / 1.43 * car_price_discount;\n    after_discount_damage = Math.round((car_price * 1.43 / 100.0 + 602.0) * 100) / 100;\n    }\n\n    var after_discount_third = standard_third * discount;\n    var after_discount_driver = standard_driver * discount;\n    var after_discount_passenger = standard_passenger * discount;\n    var after_discount_robbery = standard_robbery * discount;\n    var after_discount_glass = standard_glass * discount;\n    var after_discount_scratch = standard_scratch * discount;\n    var after_discount_self_ignition = standard_self_ignition * discount;\n    var after_discount_optional_deductible = standard_optional_deductible * discount;\n    var after_discount_not_deductible = standard_not_deductible * discount;\n    var total_after_discount = (total_standard - standard_compulsory) * discount + after_discount_compulsory;\n\n    var gift1 = Number(company.gift);\n    var gift2 = Number(company.gift2);\n    var gift3 = Number(company.gift3);\n\n    var gift_money = 0;\n    \n    if(car_type_id == 1)\n    {\n        if(after_discount_damage != 0)\n        {\n            //因为车损险和交强险折扣是单独计算\n            total_after_discount = (total_standard - standard_damage - standard_compulsory) * discount + after_discount_damage + after_discount_compulsory;\n\n            gift_money = total_after_discount * gift1;\n        }\n        else\n        {\n            gift_money = total_after_discount * gift2;\n        }\n    }\n    else\n    {\n        gift_money = 0; //营运车辆暂时无礼包\n    }\n%>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>保险公司</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= company.name %></td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>初算详细列表</td>\n    </tr>\n</table>\n<table  class="insurance-price-detail bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td></td>\n        <th colspan="2">标准保费</th>\n        <th colspan="2">优惠保费</th>\n    </tr>\n    <% if( standard_compulsory != 0 ){ %>\n    <tr>\n        <th>交强险</th>\n        <td colspan="2"><%= standard_compulsory.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_compulsory.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_damage != 0 ){ %>\n    <tr>\n        <th>车损险</th>\n        <td colspan="2"><%= standard_damage.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_damage.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_third != 0 ){ %>\n    <tr>\n        <%\n            var standard_third_str = null;\n            var after_discount_third_str = null;\n            if(standard_third < 0){\n                standard_third_str = \'待算\';\n                after_discount_third_str = \'待算\';\n            }else{\n                standard_third_str = standard_third.toFixed(2);\n                after_discount_third_str = after_discount_third.toFixed(2);\n            }\n        %>\n        <th>第三者险</th>\n        <td colspan="2"><%= standard_third_str %></td>\n        <td colspan="2"><%= after_discount_third.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_driver != 0 ) { %>\n    <tr>\n        <th>司机座位险</th>\n        <td colspan="2"><%= standard_driver.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_driver.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_passenger != 0 ){ %>\n    <tr>\n        <th>乘客座位险</th>\n        <td colspan="2"><%= standard_passenger.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_passenger.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_robbery != 0 ){ %>\n    <tr>\n        <th>盗抢险</th>\n        <td colspan="2"><%= standard_robbery.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_robbery.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_glass != 0 ){ %>\n    <tr>\n        <th>玻璃单独破损险</th>\n        <td colspan="2"><%= standard_glass.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_glass.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_scratch != 0 ){ %>\n    <tr>\n        <th>划痕</th>\n        <td colspan="2"><%= standard_scratch.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_scratch.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_self_ignition != 0 ){ %>\n    <tr>\n        <th>自然</th>\n        <td colspan="2"><%= standard_self_ignition.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_self_ignition.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_optional_deductible != 0 ){ %>\n    <tr>\n        <th>可选免赔</th>\n        <td colspan="2"><%= standard_optional_deductible.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_optional_deductible.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_not_deductible != 0 ){ %>\n    <tr>\n        <th>不计免赔</th>\n        <td colspan="2"><%= standard_not_deductible.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_not_deductible.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <tr>\n        <th style="background-color: orangered">总价</th>\n        <td colspan="2"><%= total_standard.toFixed(2) %></td>\n        <td colspan="2"><%= total_after_discount.toFixed(2) %></td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>出单赠送礼包金额</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= gift_money.toFixed(2) %></td>\n    </tr>\n</table>'}),define("views/insurance/CompulsorySetPageView",["jquery","underscore","backbone","models/insurance/InsuranceFormModel","models/insurance/InsuranceInfoModel","collections/insurance/InsuranceCompanyCollection","text!templates/insurance/compulsory_set_page.html","text!templates/insurance/discount_detail.html"],function(e,t,n,r,i,s,o,u){e(o).appendTo("body");var a=n.View.extend({model:new r,el:"#insurance_compulsory_set_page",initialize:function(){this.insurance_info=new i,this.company=new s,this.discount_detail_tpl=t.template(u),this.listenTo(this.model,"change:info_id",this._onNewInsuranceInfoGen),this.listenTo(this.insurance_info,"change:result",this._resultProcess),this.listenTo(this.company,"reset",this._discountProcess)},events:{"change [name=compulsory_state_id]":"_onCompulsoryStateChange","click .apply-actual-btn":"_onApplyActualBtnClick"},_onApplyActualBtnClick:function(e){this.trigger("uri",this,"insurance/apply_actual/"+this.insurance_info.get("id")+"/compulsory")},_onFormModelInvalid:function(t,n){e.cm.toast({msg:n})},_onNewInsuranceInfoGen:function(e,t,n){this.insurance_info.set("id",t,{silent:!0}),this.insurance_info.fetch()},_resultProcess:function(e,t,n){if(this.company.models.length==0)return;var r=this.company.models[0].attributes,i=this.insurance_info.result.attributes;this.$el.find(".discount-detail").empty().append(this.discount_detail_tpl({info:this.insurance_info.attributes,company:r,result:i})),this.$el.find(".apply-actual-btn").show()},_discountProcess:function(e,t){if(!this.insurance_info.result.get("totalStandard"))return;var n=this.company.models[0].attributes,r=this.insurance_info.result.attributes;this.$el.find(".discount-detail").empty().append(this.discount_detail_tpl({info:this.insurance_info.attributes,company:n,result:r})),this.$el.find(".apply-actual-btn").show()},reset:function(e){this.$el.find("[name=compulsory_state_id]").val(""),this.$el.find(".apply-actual-btn").hide(),this.$el.find(".discount-detail").empty(),this.insurance_info.clear({silent:!0}),this.insurance_info.result.clear({silent:!0}),this.company.fetch({reset:!0}),this.model.set("compulsory_state_id",e,{silent:!0}),this.model.save()}});return a}),define("text!templates/insurance/value_set_page.html",[],function(){return'<!--新保险入口页面-->\n<div data-role="page" id="insurance_value_set_page" data-theme="a" style="padding-top: 44px; padding-bottom: 0px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>保险巨惠-经济套餐</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <table class="fb_box">\n            <tr class="fb_box_bt">\n                <td class="cm-span4">交强险：</td>\n                <td colspan="2">\n                    <select name="compulsory_state_id" class="fb_box_input">\n                        <option value="1">连续三年未出险</option>\n                        <option value="2">上两年度双方无肇事</option>\n                        <option value="3">上一年度双方无肇事</option>\n                        <option value="4">新车或上一年度有一次双方肇事</option>\n                        <option value="5">上年度有两次双方肇事</option>\n                        <option value="6">上年度有三此及次上双方肇事</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>商业三者责任险:</td>\n                <td>\n                    <select name="third" class="fb_box_input">\n                        <option value="0">不购买</option>\n                        <option value="50000">5万</option>\n                        <option value="100000">10万</option>\n                        <option value="200000">20万</option>\n                        <option value="300000">30万</option>\n                        <option value="500000">50万</option>\n                        <option value="1000000">100万</option>\n                        <!--100万以上值为-1, 此值不做计算, 但需说明待算-->\n                        <option value="-1">100以上</option>\n                    </select>\n                </td>\n                <td style="font-size: 10px; color: dodgerblue; line-height: 10px;"><b style="color: red">注:</b>建议普通车主购买三者险保额在30万元-50万元</td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>司机座位险：</td>\n                <td>\n                    <select name="is_buy_driver" data-ignore="true" class="fb_box_input" disabled>\n                        <option value="1">购买</option>\n                        <option value="0" selected>不购买</option>\n                    </select>\n                </td>\n                <td>\n                    <input name="driver" type="text" class="fb_box_input" style="text-align: center; width: 50%;" value="0" disabled/><span >万元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>乘客座位险：</td>\n                <td>\n                    <select name="passenger_number" class="fb_box_input cm-flex2" disabled>\n                        <option value="0">不购买</option>\n                        <option value="1">副驾驶</option>\n                        <option value="3">x3(副驾驶+后排两座)</option>\n                        <option value="4">x4(副驾驶+后排三座)</option>\n                    </select>\n                </td>\n                <td>\n                    <input name="passenger" type="text" class="fb_box_input cm-flex2" value="0" style="text-align: center; width: 50%;" disabled /><span>万元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>不计免赔：</td>\n                <td colspan="2">\n                    <select name="not_deductible" class="fb_box_input">\n                        <option value="1">购买</option>\n                        <option value="0">不购买</option>\n                    </select>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <button class="submit" data-theme="f" style="padding:0.7em 0.5%;width: 99%;color:white;">初算保费</button>\n    </div>\n</div>'}),define("views/insurance/ValueSetPageView",["jquery","underscore","backbone","models/insurance/InsuranceFormModel","text!templates/insurance/value_set_page.html"],function(e,t,n,r,i){e(i).appendTo("body");var s=n.View.extend({model:new r,el:"#insurance_value_set_page",initialize:function(){this.listenTo(this.model,"invalid",this._onFormModelInvalid),this.listenTo(this.model,"change:info_id",this._onNewInsuranceInfoGen)},events:{"input input:text":"_onNumberInput",'change [name="third"]':"_onThirdSelectChange",'change [name="is_buy_driver"]':"_onIsBuyDriverChange",'change [name="passenger_number"]':"_onPassengerNumberChange","click .submit":"_onFormSubmit"},_onNumberInput:function(t){var n=e(t.target).val();n=n.replace(/[^\d+]/g,""),e(t.target).val(n)},_onThirdSelectChange:function(t){var n=e(t.target).val();n==0?(this.$el.find("[name=is_buy_driver]").prop("disabled",!0).val(0).change(),this.$el.find("[name=passenger_number]").prop("disabled",!0).val(0).change()):(this.$el.find("[name=is_buy_driver]").prop("disabled",!1).val(1).change(),this.$el.find("[name=passenger_number]").prop("disabled",!1).val(1).change())},_onIsBuyDriverChange:function(t){var n=e(t.target).val();n==0?this.$el.find('[name="driver"]').prop("disabled",!0).val(0):this.$el.find('[name="driver"]').prop("disabled",!1).val(1)},_onPassengerNumberChange:function(t){var n=e(t.target).val();n==0?this.$el.find('[name="passenger"]').prop("disabled",!0).val(0):this.$el.find('[name="passenger"]').prop("disabled",!1).val(1)},_onFormSubmit:function(e){this._collectFormData(),this.model.isValid()&&this.model.save()},_onFormModelInvalid:function(e,t){this.trigger("invalid",this,t)},_onNewInsuranceInfoGen:function(e,t,n){this.trigger("uri",this,"insurance/price/"+t)},_collectFormData:function(){var t={};this.$el.find('[name][data-ignore!="true"]:enabled:visible').each(function(n,r){var i=e(r).attr("name"),s=e(r).val()||0;if(i=="car_price"||i=="driver"||i=="passenger")s*=1e4;t[i]=s}),this.model.clear({silent:!0}).set(t,{silent:!0})}});return s}),define("text!templates/insurance/full_set_page.html",[],function(){return'<!--新保险入口页面-->\n<div data-role="page" id="insurance_full_set_page" data-theme="a" style="padding-top: 44px; padding-bottom: 0px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>保险巨惠-全险套餐</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <table class="fb_box" style="width: 96%; padding: 5px; 2%;">\n            <tr class="fb_box_bt">\n                <td style="width:40%;">车价：</td>\n                <td colspan="2">\n                    <input name="car_price" type="text" class="fb_box_input" style="text-align: center; width: 50%;"/>\n                    <span class="cm-flex1">万元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>使用年限：</td>\n                <td colspan="2">\n                    <select name="service_year" class="fb_box_input">\n                        <option value="1">1年以下</option>\n                        <option value="2">1年及以上，2年以下</option>\n                        <option value="3">2年及以上，3年以下</option>\n                        <option value="4">3年及以上，4年以下</option>\n                        <option value="5">4年及以上，6年以下</option>\n                        <option value="6">6年及以上</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>交强险：</td>\n                <td colspan="2">\n                    <select name="compulsory_state_id" class="fb_box_input">\n                        <option value="1">连续三年未出险</option>\n                        <option value="2">上两年度双方无肇事</option>\n                        <option value="3">上一年度双方无肇事</option>\n                        <option value="4">新车或上一年度有一次双方肇事</option>\n                        <option value="5">上年度有两次双方肇事</option>\n                        <option value="6">上年度有三此及次上双方肇事</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>商业三者责任险:</td>\n                <td colspan="2">\n                    <select name="third" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="50000">5万</option>\n                        <option value="100000">10万</option>\n                        <option value="200000">20万</option>\n                        <option value="300000">30万</option>\n                        <option value="500000">50万</option>\n                        <option value="1000000">100万</option>\n                        <!--100万以上值为-1, 此值不做计算, 但需说明待算-->\n                        <option value="-1">100以上</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>司机座位险：</td>\n                <td>\n                    <select name="is_buy_driver" data-ignore="true" class="fb_box_input" disabled>\n                        <option value="1">购买</option>\n                        <option value="0" selected>不购买</option>\n                    </select>\n                </td>\n                <td>\n                    <input name="driver" type="text" class="fb_box_input cm-flex1" style="text-align: center; width: 50%;" value="0" disabled /><span class="cm-flex1">万元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>乘客座位险：</td>\n                <td>\n                    <select class="fb_box_input" name="passenger_number" style="width:100%;" disabled>\n                        <option value="0">不购买</option>\n                        <option value="1">副驾驶</option>\n                        <option value="3">x3(副驾驶+后排两座)</option>\n                        <option value="4">x4(副驾驶+后排三座)</option>\n                    </select>\n                </td>\n                <td>\n                    <input name="passenger" type="text" class="fb_box_input" value="0" style="text-align: center; width: 50%;" disabled /><span>万元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td class="cm-span6">玻璃单独破损险：</td>\n                <td colspan="2">\n                    <select name="glass_id" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="1">国产</option>\n                        <option value="2">进口</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>全车抢盗险：</td>\n                <td colspan="2">\n                    <select name="robbery" type="text" class="fb_box_input">\n                        <option value="0">不购买</option>\n                        <option value="1">购买</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td class="cm-span6">车身划痕险：</td>\n                <td colspan="2">\n                    <select name="scratch" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="2000">2000元</option>\n                        <option value="5000">5000元</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td class="cm-span6">自燃损失险：</td>\n                <td colspan="2">\n                    <select name="self_ignition" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="1">购买</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td class="cm-span6">涉水损失险：</td>\n                <td colspan="2">\n                    <select name="insurance_wading" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="1">购买</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td class="cm-span6">可选免赔额：</td>\n                <td colspan="2">\n                    <input name="optional_deductible" type="text" class="fb_box_input cm-flex1" style="text-align: center; width: 50%;" value="0"/>\n                    <span class="cm-flex1">元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td class="cm-span6">不计免赔：</td>\n                <td colspan="2">\n                    <select name="not_deductible" class="fb_box_input cm-flex1">\n                        <option value="1">购买</option>\n                        <option value="0">不购买</option>\n                    </select>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <button class="submit" data-theme="f" style="padding:0.7em 0.5%;width: 99%;color:white;">初算保费</button>\n    </div>\n</div>'}),define("views/insurance/FullSetPageView",["jquery","underscore","backbone","models/insurance/InsuranceFormModel","text!templates/insurance/full_set_page.html"],function(e,t,n,r,i){e(i).appendTo("body");var s=n.View.extend({model:new r,el:"#insurance_full_set_page",initialize:function(){this.listenTo(this.model,"invalid",this._onFormModelInvalid),this.listenTo(this.model,"change:info_id",this._onNewInsuranceInfoGen)},events:{"input input:text":"_onNumberInput",'change [name="third"]':"_onThirdSelectChange",'change [name="is_buy_driver"]':"_onIsBuyDriverChange",'change [name="passenger_number"]':"_onPassengerNumberChange","click .submit":"_onFormSubmit"},_onNumberInput:function(t){var n=e(t.target).val();n=n.replace(/[^\d+]/g,""),e(t.target).val(n)},_onThirdSelectChange:function(t){var n=e(t.target).val();n==0?(this.$el.find("[name=is_buy_driver]").prop("disabled",!0).val(0).change(),this.$el.find("[name=passenger_number]").prop("disabled",!0).val(0).change()):(this.$el.find("[name=is_buy_driver]").prop("disabled",!1).val(1).change(),this.$el.find("[name=passenger_number]").prop("disabled",!1).val(1).change())},_onIsBuyDriverChange:function(t){var n=e(t.target).val();n==0?this.$el.find('[name="driver"]').prop("disabled",!0).val(0):this.$el.find('[name="driver"]').prop("disabled",!1).val(1)},_onPassengerNumberChange:function(t){var n=e(t.target).val();n==0?this.$el.find('[name="passenger"]').prop("disabled",!0).val(0):this.$el.find('[name="passenger"]').prop("disabled",!1).val(1)},_onFormSubmit:function(e){this._collectFormData(),console.log(this.model.attributes),this.model.isValid()&&this.model.save()},_onFormModelInvalid:function(e,t){this.trigger("invalid",this,t)},_onNewInsuranceInfoGen:function(e,t,n){this.trigger("uri",this,"insurance/price/"+t)},_collectFormData:function(){var t={damage:!0};this.$el.find("[name]:enabled:visible").each(function(n,r){var i=e(r).attr("name"),s=e(r).val()||0;if(i=="car_price"||i=="driver"||i=="passenger")s*=1e4;t[i]=s}),this.model.clear({silent:!0}).set(t,{silent:!0})}});return s}),define("text!templates/insurance/profit_set_page.html",[],function(){return'<!--新保险营运货车套餐页面-->\n<div data-role="page" id="insurance_profit_set_page" data-theme="a" style="padding-top: 44px; padding-bottom: 40px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>保险巨惠-营运车辆全险套餐</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <table class="fb_box" style="width: 96%; padding: 5px; 2%;">\n            <tr class="fb_box_bt">\n                <td>车辆使用类型：</td>\n                <td colspan="2">\n                    <select name="car_type_id" class="fb_box_input">\n                        <option value="2" selected>营运货车</option>\n                        <option value="4">公路客运营运客车</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt psg-car-level" style="display:none">\n                <td>座位数：</td>\n                <td colspan="2">\n                    <select name="level" class="fb_box_input">\n                        <option value="1" selected>6-10座</option>\n                        <option value="2">10-20座</option>\n                        <option value="3">20-36座</option>\n                        <option value="4">36座以上</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt truck-level">\n                <td>载重量：</td>\n                <td colspan="2">\n                    <select name="level" class="fb_box_input">\n                        <option value="1" selected>2吨以下</option>\n                        <option value="2">2-5吨</option>\n                        <option value="3">5-10吨</option>\n                        <option value="4">10吨以上</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td style="width:40%;">车损险：</td>\n                <td colspan="2">\n                    <select name="is_buy_damage" type="text" class="fb_box_input" data-ignore="true" style="text-align: center; width: 50%;">\n                        <option value="0">不购买</option>\n                        <option value="1">购买</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt rel-damage">\n                <td style="width:40%;">车价：</td>\n                <td colspan="2">\n                    <input name="car_price" type="text" class="fb_box_input" style="text-align: center; width: 50%;"/>\n                    <span class="cm-flex1">万元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt rel-damage">\n                <td>使用年限：</td>\n                <td colspan="2">\n                    <select name="service_year" class="fb_box_input">\n                        <option value="1">1年以下</option>\n                        <option value="2">1年及以上，2年以下</option>\n                        <option value="3">2年及以上，3年以下</option>\n                        <option value="4">3年及以上，4年以下</option>\n                        <option value="5">4年及以上，6年以下</option>\n                        <option value="6">6年及以上</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>交强险：</td>\n                <td colspan="2">\n                    <select name="compulsory_state_id" class="fb_box_input">\n                        <option value="1">连续三年未出险</option>\n                        <option value="2">上两年度双方无肇事</option>\n                        <option value="3">上一年度双方无肇事</option>\n                        <option value="4">新车或上一年度有一次双方肇事</option>\n                        <option value="5">上年度有两次双方肇事</option>\n                        <option value="6">上年度有三此及次上双方肇事</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>商业三者责任险:</td>\n                <td colspan="2">\n                    <select name="third" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="50000">5万</option>\n                        <option value="100000">10万</option>\n                        <option value="200000">20万</option>\n                        <option value="300000">30万</option>\n                        <option value="500000">50万</option>\n                        <option value="1000000">100万</option>\n                        <!--100万以上值为-1, 此值不做计算, 但需说明待算-->\n                        <option value="-1">100以上</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>司机座位险：</td>\n                <td colspan="2">\n                    <input name="driver" type="text" class="fb_box_input cm-flex1" style="text-align: center; width: 50%;" value="1" disabled /><span class="cm-flex1">万元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td>乘客座位险：</td>\n                <td>\n                    <select class="fb_box_input" name="passenger_number" style="width:100%;" disabled>\n                        <option value="0">不购买</option>\n                        <option value="1">副驾驶</option>\n                        <option value="3">x3(副驾驶+后排两座)</option>\n                        <option value="4">x4(副驾驶+后排三座)</option>\n                    </select>\n                </td>\n                <td>\n                    <input name="passenger" type="text" class="fb_box_input" value="1" style="text-align: center; width: 50%;" disabled /><span>万元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt rel-damage">\n                <td class="cm-span6">玻璃单独破损险：</td>\n                <td colspan="2">\n                    <select name="glass_id" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="1">国产</option>\n                        <option value="2">进口</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt rel-damage">\n                <td>全车抢盗险：</td>\n                <td colspan="2">\n                    <select name="robbery" type="text" class="fb_box_input">\n                        <option value="0">不购买</option>\n                        <option value="1">购买</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt rel-damage">\n                <td class="cm-span6">车身划痕险：</td>\n                <td colspan="2">\n                    <select name="scratch" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="2000">2000元</option>\n                        <option value="5000">5000元</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt rel-damage">\n                <td class="cm-span6">自燃损失险：</td>\n                <td colspan="2">\n                    <select name="self_ignition" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="1">购买</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt rel-damage">\n                <td class="cm-span6">涉水损失险：</td>\n                <td colspan="2">\n                    <select name="insurance_wading" class="fb_box_input cm-flex1">\n                        <option value="0">不购买</option>\n                        <option value="1">购买</option>\n                    </select>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td class="cm-span6">可选免赔额：</td>\n                <td colspan="2">\n                    <input name="optional_deductible" type="text" class="fb_box_input cm-flex1" style="text-align: center; width: 50%;" value="0"/>\n                    <span class="cm-flex1">元</span>\n                </td>\n            </tr>\n            <tr class="fb_box_bt">\n                <td class="cm-span6">不计免赔：</td>\n                <td colspan="2">\n                    <select name="not_deductible" class="fb_box_input cm-flex1">\n                        <option value="1">购买</option>\n                        <option value="0">不购买</option>\n                    </select>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <button class="submit" data-theme="f" style="padding:0.7em 0.5%;width: 99%;color:white;">初算保费</button>\n    </div>\n</div>\n<style type="text/css">\n    .rel-damage {\n        display: none;\n    }\n</style>'}),define("views/insurance/ProfitSetPageView",["jquery","underscore","backbone","models/insurance/InsuranceFormModel","text!templates/insurance/profit_set_page.html"],function(e,t,n,r,i){e(i).appendTo("body");var s=n.View.extend({model:new r,el:"#insurance_profit_set_page",initialize:function(){this.listenTo(this.model,"invalid",this._onFormModelInvalid),this.listenTo(this.model,"change:info_id",this._onNewInsuranceInfoGen)},events:{"input input:text":"_onNumberInput","change [name=car_type_id]":"_onCarTypeIdChange",'change [name="is_buy_damage"]':"_onIsBuyDamageChange",'change [name="third"]':"_onThirdSelectChange",'change [name="passenger_number"]':"_onPassengerNumberChange","click .submit":"_onFormSubmit"},_onNumberInput:function(t){var n=e(t.target).val();n=n.replace(/[^\d+]/g,""),e(t.target).val(n)},_onCarTypeIdChange:function(t){var n=e(t.currentTarget).val();n=="2"?(this.$el.find(".truck-level").show(),this.$el.find(".psg-car-level").hide()):n=="4"&&(this.$el.find(".psg-car-level").show(),this.$el.find(".truck-level").hide())},_onIsBuyDamageChange:function(t){var n=e(t.target).val();n==0?this.$el.find(".rel-damage").hide():this.$el.find(".rel-damage").show()},_onThirdSelectChange:function(t){var n=e(t.target).val();n==0?(this.$el.find("[name=driver]").prop("disabled",!0),this.$el.find("[name=passenger_number]").prop("disabled",!0),this.$el.find("[name=passenger]").prop("disabled",!0)):(this.$el.find("[name=driver]").prop("disabled",!1),this.$el.find("[name=passenger_number]").prop("disabled",!1),this.$el.find("[name=passenger]").prop("disabled",!1))},_onPassengerNumberChange:function(t){var n=e(t.target).val();n==0?this.$el.find('[name="passenger"]').prop("disabled",!0):this.$el.find('[name="passenger"]').prop("disabled",!1)},_onFormSubmit:function(e){this._collectFormData(),console.log(this.model.attributes),this.model.isValid()&&this.model.save()},_onFormModelInvalid:function(e,t){this.trigger("invalid",this,t)},_onNewInsuranceInfoGen:function(e,t,n){this.trigger("uri",this,"insurance/price/"+t)},_collectFormData:function(){var t={damage:!0};this.$el.find('[name][data-ignore!="true"]:enabled:visible').each(function(n,r){var i=e(r).attr("name"),s=e(r).val()||0;if(i=="car_price"||i=="driver"||i=="passenger")s*=1e4;t[i]=s}),this.model.clear({silent:!0}).set(t,{silent:!0})}});return s}),define("models/CarInfoModel",["backbone"],function(e){var t=e.Model.extend({url:function(){return this.attributes.id?"/car_info/"+this.attributes.id:"/car_info/"+this.attributes.user_id+"/"+this.attributes.hphm},parse:function(e,t){return t.collection?e:e.row||{}}});return t}),define("models/insurance/InsuranceReservationFormModel",["backbone"],function(e){var t=e.Model.extend({url:"/insurance/reservation",parse:function(e,t){return e.row||{}},validate:function(e,t){var n=/\d{11}/,r=/^[\u4e00-\u9fa5][A-Z][A-Za-z\d]{5}$/,i=/^[\u4e00-\u9fa5]+$/,s=/^\d{17}[\d\w]$/;if(!_.isUndefined(e.phone)&&!n.test(e.phone))return"手机号码不合法";if(!e.hphm)return"请输入号牌号码";if(!_.isUndefined(e.hphm)&&!r.test(e.hphm))return"号牌号码不正确";if(!_.isUndefined(e.auto_name)&&!e.auto_name)return"请填写车辆品牌种类(车型)";if(!_.isUndefined(e.frame_number)&&!e.frame_number)return"请填写车架号";if(!_.isUndefined(e.engine_number)&&!e.engine_number)return"请填写发动机号";if(!_.isUndefined(e.offer_date)&&!e.offer_date)return"请填写发报价日期"}});return t}),define("text!templates/insurance/reservation_page.html",[],function(){return'<!--新保险申请精算页面-->\n<div data-role="page" id="insurance_reservation_page" data-theme="a" style="padding-top: 44px; padding-bottom: 44px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>保险巨惠-保险预约</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <div class="fb_box">\n            <div class="fb_box_bt">联系电话:\n                <input name="phone" type="text" class="fb_box_input" style="width: 60%; float: right" />\n            </div>\n        </div>\n        <div class="reservation-form">\n            <div class="fb_box">\n                <div class="fb_box_bt">车牌号:\n                    <input name="hphm" type="text" class="fb_box_input" style="width: 40%; float: right"/>\n                    <select name="hphm_header" data-ignore style="width:20%; float:right">\n                        <option value="云" selected>云</option>\n                    </select>\n                </div>\n                <div class="fb_box_bt">车辆品牌型号:\n                    <input name="auto_name" type="text" class="fb_box_input" style="width: 60%; float: right"/>\n                </div>\n                <div class="fb_box_bt">车架号:<input name="frame_number" type="text" class="fb_box_input" style="width: 60%; float: right"/>\n                </div>\n                <div class="fb_box_bt">发动机号:\n                    <input name="engine_number" type="text" class="fb_box_input" style="width: 60%; float: right"/>\n                </div>\n                <div class="fb_box_bt">报价日期:\n                    <input type="text" name="offer_date" class="fb_box_input" style="width: 60%; float: right" />\n                </div>\n            </div>\n        </div>\n    </div>\n    <div data-role="popup" id="insurance_reservation_result_popup" data-overlay-theme="g" data-theme="a" data-corners="true" data-enhance="false">\n        <a href="#" data-rel="back" data-theme="j" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" style="background-color: #333; color: #FFF; border-color:#666; border-radius: 25em; position: absolute; right: -12px; top:-12px;"></a>\n        <div class="container" style="padding:5px 10px;">\n            <p>\n            感谢您的预约!<br>\n            客服将在指定时间为您提供报价.<br>\n            成功出单后您将额外获得车友惠<b style="color: orangered">50</b>元服务券.\n            </p>\n        </div>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <a class="reservation-btn" data-theme="g" style="padding:0.7em 0.5%;width: 99%;color:white;">立即预约</a>\n    </div>\n</div>'}),function(e){var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeek:["ن","ث","ع","خ","ج","س","ح"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Min","Sen","Sel","Rab","Kam","Jum","Sab"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeek:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeek:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeek:["B","Be","Ça","Ç","Ca","C","Ş"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeek:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeek:["P","E","T","K","N","R","L"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeek:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeek:["Su","Ma","Ti","Ke","To","Pe","La"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeek:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeek:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeek:["Sv","Pr","Ot","Tr","Ct","Pk","St"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeek:["нед","пон","вто","сре","чет","пет","саб"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeek:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeek:["Ne","Po","Ut","St","Št","Pi","So"]},sq:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sre","čet","Pet","Sub"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeek:["нед","пон","уто","сре","чет","пет","суб"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeek:["א'","ב'","ג'","ד'","ה'","ו'","שבת"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeek:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeek:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1};window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return t==="float"&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(e,t,n){return n.toUpperCase()})),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r;for(n=t||0,r=this.length;n<r;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var n=e(this),r=function(e){var t={x:0,y:0},n;if(e.type==="touchstart"||e.type==="touchmove"||e.type==="touchend"||e.type==="touchcancel")n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],t.x=n.clientX,t.y=n.clientY;else if(e.type==="mousedown"||e.type==="mouseup"||e.type==="mousemove"||e.type==="mouseover"||e.type==="mouseout"||e.type==="mouseenter"||e.type==="mouseleave")t.x=e.clientX,t.y=e.clientY;return t},i=0,s,o,u,a,f,l=100,c=!1,h=0,p=0,d=0,v=!1,m=0,g=function(){};if(t==="hide"){n.find(".xdsoft_scrollbar").hide();return}e(this).hasClass("xdsoft_scroller_box")||(s=n.children().eq(0),o=n[0].clientHeight,u=s[0].offsetHeight,a=e('<div class="xdsoft_scrollbar"></div>'),f=e('<div class="xdsoft_scroller"></div>'),a.append(f),n.addClass("xdsoft_scroller_box").append(a),g=function(t){var i=r(t).y-h+m;i<0&&(i=0),i+f[0].offsetHeight>d&&(i=d-f[0].offsetHeight),n.trigger("scroll_element.xdsoft_scroller",[l?i/l:0])},f.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(i){o||n.trigger("resize_scroll.xdsoft_scroller",[t]),h=r(i).y,m=parseInt(f.css("margin-top"),10),d=a[0].offsetHeight,i.type==="mousedown"?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function s(){e([document.body,window]).off("mouseup.xdsoft_scroller",s).off("mousemove.xdsoft_scroller",g).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",g)):(v=!0,i.stopPropagation(),i.preventDefault())}).on("touchmove",function(e){v&&(e.preventDefault(),g(e))}).on("touchend touchcancel",function(e){v=!1,m=0}),n.on("scroll_element.xdsoft_scroller",function(e,t){o||n.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,f.css("margin-top",l*t),setTimeout(function(){s.css("marginTop",-parseInt((s[0].offsetHeight-o)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,r){var i,c;o=n[0].clientHeight,u=s[0].offsetHeight,i=o/u,c=i*a[0].offsetHeight,i>1?f.hide():(f.show(),f.css("height",parseInt(c>10?c:10,10)),l=a[0].offsetHeight-f[0].offsetHeight,r!==!0&&n.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(s.css("marginTop"),10))/(u-o)]))}),n.on("mousewheel",function(e){var t=Math.abs(parseInt(s.css("marginTop"),10));return t-=e.deltaY*20,t<0&&(t=0),n.trigger("scroll_element.xdsoft_scroller",[t/(u-o)]),e.stopPropagation(),!1}),n.on("touchstart",function(e){c=r(e),p=Math.abs(parseInt(s.css("marginTop"),10))}),n.on("touchmove",function(e){if(c){e.preventDefault();var t=r(e);n.trigger("scroll_element.xdsoft_scroller",[(p-(t.y-c.y))/(u-o)])}}),n.on("touchend touchcancel",function(e){c=!1,p=0})),n.trigger("resize_scroll.xdsoft_scroller",[t])})},e.fn.datetimepicker=function(n){var r=48,i=57,s=96,o=105,u=17,a=46,f=13,l=27,c=8,h=37,p=38,d=39,v=40,m=9,g=116,y=65,b=67,w=86,E=90,S=89,x=!1,T=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend(!0,{},t),N=0,C,k,L=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function t(n){if(e.is(":disabled")||e.data("xdsoft_datetimepicker"))return;clearTimeout(N),N=setTimeout(function(){e.data("xdsoft_datetimepicker")||C(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")},100)})};return C=function(t){function X(){var e=!1,n;return T.startDate?e=W.strToDate(T.startDate):(e=T.value||(t&&t.val&&t.val()?t.val():""),e?e=W.strToDateTime(e):T.defaultDate&&(e=W.strToDateTime(T.defaultDate),T.defaultTime&&(n=W.strtotime(T.defaultTime),e.setHours(n.getHours()),e.setMinutes(n.getMinutes())))),e&&W.isValidDate(e)?N.data("changed",!0):e="",e||0}var N=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),C=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),k=e('<div class="xdsoft_datepicker active"></div>'),L=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),A=e('<div class="xdsoft_calendar"></div>'),O=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),M=O.find(".xdsoft_time_box").eq(0),_=e('<div class="xdsoft_time_variant"></div>'),D=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),P=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),H=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),B=!1,j,F,I,q,R,U=0,z=0,W;T.id&&N.attr("id",T.id),T.style&&N.attr("style",T.style),T.weeks&&N.addClass("xdsoft_showweeks"),N.addClass("xdsoft_"+T.theme),N.addClass(T.className),L.find(".xdsoft_month span").after(P),L.find(".xdsoft_year span").after(H),L.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){var n=e(this).find(".xdsoft_select").eq(0),r=0,i=0,s=n.is(":visible"),o,u;L.find(".xdsoft_select").hide(),W.currentTime&&(r=W.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n[s?"hide":"show"]();for(o=n.find("div.xdsoft_option"),u=0;u<o.length;u+=1){if(o.eq(u).data("value")===r)break;i+=o[0].offsetHeight}return n.xdsoftScroller(i/(n.children()[0].offsetHeight-n[0].clientHeight)),t.stopPropagation(),!1}),L.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(t){if(W.currentTime===undefined||W.currentTime===null)W.currentTime=W.now();var n=W.currentTime.getFullYear();W&&W.currentTime&&W.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),N.trigger("xchange.xdsoft"),T.onChangeMonth&&e.isFunction(T.onChangeMonth)&&T.onChangeMonth.call(N,W.currentTime,N.data("input")),n!==W.currentTime.getFullYear()&&e.isFunction(T.onChangeYear)&&T.onChangeYear.call(N,W.currentTime,N.data("input"))}),N.setOptions=function(n){var C={},A=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(n){return 0}},_=function(e,t){e=typeof e=="string"||e instanceof String?document.getElementById(e):e;if(!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},P=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return(new RegExp(n)).test(t)};T=e.extend(!0,{},T,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&(T.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&(T.weekends=e.extend(!0,[],n.weekends)),n.highlightedDates&&e.isArray(n.highlightedDates)&&n.highlightedDates.length&&(e.each(n.highlightedDates,function(t,n){var r=e.map(n.split(","),e.trim),i,s=new HighlightedDate(Date.parseDate(r[0],T.formatDate),r[1],r[2]),o=s.date.dateFormat(T.formatDate);C[o]!==undefined?(i=C[o].desc,i&&i.length&&s.desc&&s.desc.length&&(C[o].desc=i+"\n"+s.desc)):C[o]=s}),T.highlightedDates=e.extend(!0,[],C)),n.highlightedPeriods&&e.isArray(n.highlightedPeriods)&&n.highlightedPeriods.length&&(C=e.extend(!0,[],T.highlightedDates),e.each(n.highlightedPeriods,function(t,n){var r=e.map(n.split(","),e.trim),i=Date.parseDate(r[0],T.formatDate),s=Date.parseDate(r[1],T.formatDate),o=r[2],u,a,f,l=r[3];while(i<=s)u=new HighlightedDate(i,o,l),a=i.dateFormat(T.formatDate),i.setDate(i.getDate()+1),C[a]!==undefined?(f=C[a].desc,f&&f.length&&u.desc&&u.desc.length&&(C[a].desc=f+"\n"+u.desc)):C[a]=u}),T.highlightedDates=e.extend(!0,[],C)),n.disabledDates&&e.isArray(n.disabledDates)&&n.disabledDates.length&&(T.disabledDates=e.extend(!0,[],n.disabledDates)),n.disabledWeekDays&&e.isArray(n.disabledWeekDays)&&n.disabledWeekDays.length&&(T.disabledWeekDays=e.extend(!0,[],n.disabledWeekDays)),(T.open||T.opened)&&!T.inline&&t.trigger("open.xdsoft"),T.inline&&(B=!0,N.addClass("xdsoft_inline"),t.after(N).hide()),T.inverseButton&&(T.next="xdsoft_prev",T.prev="xdsoft_next"),T.datepicker?k.addClass("active"):k.removeClass("active"),T.timepicker?O.addClass("active"):O.removeClass("active"),T.value&&(W.setCurrentTime(T.value),t&&t.val&&t.val(W.str)),isNaN(T.dayOfWeekStart)?T.dayOfWeekStart=0:T.dayOfWeekStart=parseInt(T.dayOfWeekStart,10)%7,T.timepickerScrollbar||M.xdsoftScroller("hide"),T.minDate&&/^-(.*)$/.test(T.minDate)&&(T.minDate=W.strToDateTime(T.minDate).dateFormat(T.formatDate)),T.maxDate&&/^\+(.*)$/.test(T.maxDate)&&(T.maxDate=W.strToDateTime(T.maxDate).dateFormat(T.formatDate)),D.toggle(T.showApplyButton),L.find(".xdsoft_today_button").css("visibility",T.todayButton?"visible":"hidden"),L.find("."+T.prev).css("visibility",T.prevButton?"visible":"hidden"),L.find("."+T.next).css("visibility",T.nextButton?"visible":"hidden"),T.mask&&(t.off("keydown.xdsoft"),T.mask===!0&&(T.mask=T.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),e.type(T.mask)==="string"&&(P(T.mask,t.val())||t.val(T.mask.replace(/[0-9]/g,"_")),t.on("keydown.xdsoft",function(n){var N=this.value,C=n.which,k,L;if(C>=r&&C<=i||C>=s&&C<=o||C===c||C===a){k=A(this),L=C!==c&&C!==a?String.fromCharCode(s<=C&&C<=o?C-r:C):"_",(C===c||C===a)&&k&&(k-=1,L="_");while(/[^0-9_]/.test(T.mask.substr(k,1))&&k<T.mask.length&&k>0)k+=C===c||C===a?-1:1;N=N.substr(0,k)+L+N.substr(k+1);if(e.trim(N)==="")N=T.mask.replace(/[0-9]/g,"_");else if(k===T.mask.length)return n.preventDefault(),!1;k+=C===c||C===a?0:1;while(/[^0-9_]/.test(T.mask.substr(k,1))&&k<T.mask.length&&k>0)k+=C===c||C===a?-1:1;P(T.mask,N)?(this.value=N,_(this,k)):e.trim(N)===""?this.value=T.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if([y,b,w,E,S].indexOf(C)!==-1&&x||[l,p,v,h,d,g,u,m,f].indexOf(C)!==-1)return!0;return n.preventDefault(),!1}))),T.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){if(T.allowBlank&&!e.trim(e(this).val()).length)e(this).val(null),N.data("xdsoft_datetime").empty();else if(!Date.parseDate(e(this).val(),T.format)){var t=+[e(this).val()[0],e(this).val()[1]].join(""),n=+[e(this).val()[2],e(this).val()[3]].join("");!T.datepicker&&T.timepicker&&t>=0&&t<24&&n>=0&&n<60?e(this).val([t,n].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(W.now().dateFormat(T.format)),N.data("xdsoft_datetime").setCurrentTime(e(this).val())}else N.data("xdsoft_datetime").setCurrentTime(e(this).val());N.trigger("changedatetime.xdsoft")}),T.dayOfWeekStartPrev=T.dayOfWeekStart===0?6:T.dayOfWeekStart-1,N.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},N.data("options",T).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),H.hide(),P.hide(),!1}),M.append(_),M.xdsoftScroller(),N.on("afterOpen.xdsoft",function(){M.xdsoftScroller()}),N.append(k).append(O),T.withoutCopyright!==!0&&N.append(C),k.append(L).append(A).append(D),e(T.parentID).append(N),j=function(){var t=this;t.now=function(e){var n=new Date,r,i;return!e&&T.defaultDate&&(r=t.strToDateTime(T.defaultDate),n.setFullYear(r.getFullYear()),n.setMonth(r.getMonth()),n.setDate(r.getDate())),T.yearOffset&&n.setFullYear(n.getFullYear()+T.yearOffset),!e&&T.defaultTime&&(i=t.strtotime(T.defaultTime),n.setHours(i.getHours()),n.setMinutes(i.getMinutes())),n},t.isValidDate=function(e){return Object.prototype.toString.call(e)!=="[object Date]"?!1:!isNaN(e.getTime())},t.setCurrentTime=function(e){t.currentTime=typeof e=="string"?t.strToDateTime(e):t.isValidDate(e)?e:t.now(),N.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(e){return t.currentTime},t.nextMonth=function(){if(t.currentTime===undefined||t.currentTime===null)t.currentTime=t.now();var n=t.currentTime.getMonth()+1,r;return n===12&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),n=0),r=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min((new Date(t.currentTime.getFullYear(),n+1,0)).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),T.onChangeMonth&&e.isFunction(T.onChangeMonth)&&T.onChangeMonth.call(N,W.currentTime,N.data("input")),r!==t.currentTime.getFullYear()&&e.isFunction(T.onChangeYear)&&T.onChangeYear.call(N,W.currentTime,N.data("input")),N.trigger("xchange.xdsoft"),n},t.prevMonth=function(){if(t.currentTime===undefined||t.currentTime===null)t.currentTime=t.now();var n=t.currentTime.getMonth()-1;return n===-1&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),n=11),t.currentTime.setDate(Math.min((new Date(t.currentTime.getFullYear(),n+1,0)).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),T.onChangeMonth&&e.isFunction(T.onChangeMonth)&&T.onChangeMonth.call(N,W.currentTime,N.data("input")),N.trigger("xchange.xdsoft"),n},t.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},t.strToDateTime=function(e){var n=[],r,i;return e&&e instanceof Date&&t.isValidDate(e)?e:(n=/^(\+|\-)(.*)$/.exec(e),n&&(n[2]=Date.parseDate(n[2],T.formatDate)),n&&n[2]?(r=n[2].getTime()-n[2].getTimezoneOffset()*6e4,i=new Date(t.now(!0).getTime()+parseInt(n[1]+"1",10)*r)):i=e?Date.parseDate(e,T.format):t.now(),t.isValidDate(i)||(i=t.now()),i)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,T.formatDate):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,T.formatTime):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.str=function(){return t.currentTime.dateFormat(T.format)},t.currentTime=this.now()},W=new j,D.on("click",function(e){e.preventDefault(),N.data("changed",!0),W.setCurrentTime(X()),t.val(W.str()),N.trigger("close.xdsoft")}),L.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){N.data("changed",!0),W.setCurrentTime(0),N.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e=W.getCurrentTime(),n,r;e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=W.strToDate(T.minDate),n=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(e<n)return;r=W.strToDate(T.maxDate),r=new Date(r.getFullYear(),r.getMonth(),r.getDate());if(e>r)return;t.val(W.str()),N.trigger("close.xdsoft")}),L.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,r=!1;(function i(e){t.hasClass(T.next)?W.nextMonth():t.hasClass(T.prev)&&W.prevMonth(),T.monthChangeSpinner&&(r||(n=setTimeout(i,e||100)))})(500),e([document.body,window]).on("mouseup.xdsoft",function s(){clearTimeout(n),r=!0,e([document.body,window]).off("mouseup.xdsoft",s)})}),O.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,r=!1,i=110;(function s(e){var o=M[0].clientHeight,u=_[0].offsetHeight,a=Math.abs(parseInt(_.css("marginTop"),10));t.hasClass(T.next)&&u-o-T.timeHeightInTimePicker>=a?_.css("marginTop","-"+(a+T.timeHeightInTimePicker)+"px"):t.hasClass(T.prev)&&a-T.timeHeightInTimePicker>=0&&_.css("marginTop","-"+(a-T.timeHeightInTimePicker)+"px"),M.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(_.css("marginTop"),10)/(u-o))]),i=i>10?10:i-10,r||(n=setTimeout(s,e||i))})(500),e([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(n),r=!0,e([document.body,window]).off("mouseup.xdsoft",o)})}),F=0,N.on("xchange.xdsoft",function(t){clearTimeout(F),F=setTimeout(function(){if(W.currentTime===undefined||W.currentTime===null)W.currentTime=W.now();var t="",r=new Date(W.currentTime.getFullYear(),W.currentTime.getMonth(),1,12,0,0),i=0,s,o=W.now(),u=!1,a=!1,f,l,c,h,p,d,v=[],m,g=!0,y="",b="",w,E;while(r.getDay()!==T.dayOfWeekStart)r.setDate(r.getDate()-1);t+="<table><thead><tr>",T.weeks&&(t+="<th></th>");for(s=0;s<7;s+=1)t+="<th>"+T.i18n[T.lang].dayOfWeek[(s+T.dayOfWeekStart)%7]+"</th>";t+="</tr></thead>",t+="<tbody>",T.maxDate!==!1&&(u=W.strToDate(T.maxDate),u=new Date(u.getFullYear(),u.getMonth(),u.getDate(),23,59,59,999)),T.minDate!==!1&&(a=W.strToDate(T.minDate),a=new Date(a.getFullYear(),a.getMonth(),a.getDate()));while(i<W.currentTime.countDaysInMonth()||r.getDay()!==T.dayOfWeekStart||W.currentTime.getMonth()===r.getMonth())v=[],i+=1,l=r.getDay(),c=r.getDate(),h=r.getFullYear(),p=r.getMonth(),d=W.getWeekOfYear(r),E="",v.push("xdsoft_date"),T.beforeShowDay&&e.isFunction(T.beforeShowDay.call)?m=T.beforeShowDay.call(N,r):m=null,u!==!1&&r>u||a!==!1&&r<a||m&&m[0]===!1?v.push("xdsoft_disabled"):T.disabledDates.indexOf(r.dateFormat(T.formatDate))!==-1?v.push("xdsoft_disabled"):T.disabledWeekDays.indexOf(l)!==-1&&v.push("xdsoft_disabled"),m&&m[1]!==""&&v.push(m[1]),W.currentTime.getMonth()!==p&&v.push("xdsoft_other_month"),(T.defaultSelect||N.data("changed"))&&W.currentTime.dateFormat(T.formatDate)===r.dateFormat(T.formatDate)&&v.push("xdsoft_current"),o.dateFormat(T.formatDate)===r.dateFormat(T.formatDate)&&v.push("xdsoft_today"),(r.getDay()===0||r.getDay()===6||T.weekends.indexOf(r.dateFormat(T.formatDate))!==-1)&&v.push("xdsoft_weekend"),T.highlightedDates[r.dateFormat(T.formatDate)]!==undefined&&(f=T.highlightedDates[r.dateFormat(T.formatDate)],v.push(f.style===undefined?"xdsoft_highlighted_default":f.style),E=f.desc===undefined?"":f.desc),T.beforeShowDay&&e.isFunction(T.beforeShowDay)&&v.push(T.beforeShowDay(r)),g&&(t+="<tr>",g=!1,T.weeks&&(t+="<th>"+d+"</th>")),t+='<td data-date="'+c+'" data-month="'+p+'" data-year="'+h+'"'+' class="xdsoft_date xdsoft_day_of_week'+r.getDay()+" "+v.join(" ")+'" title="'+E+'">'+"<div>"+c+"</div>"+"</td>",r.getDay()===T.dayOfWeekStartPrev&&(t+="</tr>",g=!0),r.setDate(c+1);t+="</tbody></table>",A.html(t),L.find(".xdsoft_label span").eq(0).text(T.i18n[T.lang].months[W.currentTime.getMonth()]),L.find(".xdsoft_label span").eq(1).text(W.currentTime.getFullYear()),y="",b="",p="",w=function(t,n){var r=W.now(),i,s;r.setHours(t),t=parseInt(r.getHours(),10),r.setMinutes(n),n=parseInt(r.getMinutes(),10),i=new Date(W.currentTime),i.setHours(t),i.setMinutes(n),v=[],(T.minDateTime!==!1&&T.minDateTime>i||T.maxTime!==!1&&W.strtotime(T.maxTime).getTime()<r.getTime()||T.minTime!==!1&&W.strtotime(T.minTime).getTime()>r.getTime())&&v.push("xdsoft_disabled"),(T.minDateTime!==!1&&T.minDateTime>i||T.disabledMinTime!==!1&&r.getTime()>W.strtotime(T.disabledMinTime).getTime()&&T.disabledMaxTime!==!1&&r.getTime()<W.strtotime(T.disabledMaxTime).getTime())&&v.push("xdsoft_disabled"),s=new Date(W.currentTime),s.setHours(parseInt(W.currentTime.getHours(),10)),s.setMinutes(Math[T.roundTime](W.currentTime.getMinutes()/T.step)*T.step),(T.initTime||T.defaultSelect||N.data("changed"))&&s.getHours()===parseInt(t,10)&&(T.step>59||s.getMinutes()===parseInt(n,10))&&(T.defaultSelect||N.data("changed")?v.push("xdsoft_current"):T.initTime&&v.push("xdsoft_init_time")),parseInt(o.getHours(),10)===parseInt(t,10)&&parseInt(o.getMinutes(),10)===parseInt(n,10)&&v.push("xdsoft_today"),y+='<div class="xdsoft_time '+v.join(" ")+'" data-hour="'+t+'" data-minute="'+n+'">'+r.dateFormat(T.formatTime)+"</div>"};if(!T.allowTimes||!e.isArray(T.allowTimes)||!T.allowTimes.length)for(i=0,s=0;i<(T.hours12?12:24);i+=1)for(s=0;s<60;s+=T.step)b=(i<10?"0":"")+i,p=(s<10?"0":"")+s,w(b,p);else for(i=0;i<T.allowTimes.length;i+=1)b=W.strtotime(T.allowTimes[i]).getHours(),p=W.strtotime(T.allowTimes[i]).getMinutes(),w(b,p);_.html(y),n="",i=0;for(i=parseInt(T.yearStart,10)+T.yearOffset;i<=parseInt(T.yearEnd,10)+T.yearOffset;i+=1)n+='<div class="xdsoft_option '+(W.currentTime.getFullYear()===i?"xdsoft_current":"")+'" data-value="'+i+'">'+i+"</div>";H.children().eq(0).html(n);for(i=parseInt(T.monthStart,10),n="";i<=parseInt(T.monthEnd,10);i+=1)n+='<div class="xdsoft_option '+(W.currentTime.getMonth()===i?"xdsoft_current":"")+'" data-value="'+i+'">'+T.i18n[T.lang].months[i]+"</div>";P.children().eq(0).html(n),e(N).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(T.timepicker){var e,t,n,r;_.find(".xdsoft_current").length?e=".xdsoft_current":_.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=M[0].clientHeight,n=_[0].offsetHeight,r=_.find(e).index()*T.timeHeightInTimePicker+1,n-t<r&&(r=n-t),M.trigger("scroll_element.xdsoft_scroller",[parseInt(r,10)/(n-t)])):M.trigger("scroll_element.xdsoft_scroller",[0])}}),I=0,A.on("click.xdsoft","td",function(n){n.stopPropagation(),I+=1;var r=e(this),i=W.currentTime;if(i===undefined||i===null)W.currentTime=W.now(),i=W.currentTime;if(r.hasClass("xdsoft_disabled"))return!1;i.setDate(1),i.setFullYear(r.data("year")),i.setMonth(r.data("month")),i.setDate(r.data("date")),N.trigger("select.xdsoft",[i]),t.val(W.str()),(I>1||T.closeOnDateSelect===!0||T.closeOnDateSelect===!1&&!T.timepicker)&&!T.inline&&N.trigger("close.xdsoft"),T.onSelectDate&&e.isFunction(T.onSelectDate)&&T.onSelectDate.call(N,W.currentTime,N.data("input"),n),N.data("changed",!0),N.trigger("xchange.xdsoft"),N.trigger("changedatetime.xdsoft"),setTimeout(function(){I=0},200)}),_.on("click.xdsoft","div",function(t){t.stopPropagation();var n=e(this),r=W.currentTime;if(r===undefined||r===null)W.currentTime=W.now(),r=W.currentTime;if(n.hasClass("xdsoft_disabled"))return!1;r.setHours(n.data("hour")),r.setMinutes(n.data("minute")),N.trigger("select.xdsoft",[r]),N.data("input").val(W.str()),T.inline!==!0&&T.closeOnTimeSelect===!0&&N.trigger("close.xdsoft"),T.onSelectTime&&e.isFunction(T.onSelectTime)&&T.onSelectTime.call(N,W.currentTime,N.data("input"),t),N.data("changed",!0),N.trigger("xchange.xdsoft"),N.trigger("changedatetime.xdsoft")}),k.on("mousewheel.xdsoft",function(e){return T.scrollMonth?(e.deltaY<0?W.nextMonth():W.prevMonth(),!1):!0}),t.on("mousewheel.xdsoft",function(e){if(!T.scrollInput)return!0;if(!T.datepicker&&T.timepicker)return q=_.find(".xdsoft_current").length?_.find(".xdsoft_current").eq(0).index():0,q+e.deltaY>=0&&q+e.deltaY<_.children().length&&(q+=e.deltaY),_.children().eq(q).length&&_.children().eq(q).trigger("mousedown"),!1;if(T.datepicker&&!T.timepicker)return k.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val(W.str()),N.trigger("changedatetime.xdsoft"),!1}),N.on("changedatetime.xdsoft",function(t){if(T.onChangeDateTime&&e.isFunction(T.onChangeDateTime)){var n=N.data("input");T.onChangeDateTime.call(N,W.currentTime,n,t),delete T.value,n.trigger("change")}}).on("generate.xdsoft",function(){T.onGenerate&&e.isFunction(T.onGenerate)&&T.onGenerate.call(N,W.currentTime,N.data("input")),B&&(N.trigger("afterOpen.xdsoft"),B=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),q=0,R=function(){var t=N.data("input").offset(),n=t.top+N.data("input")[0].offsetHeight-1,r=t.left,i="absolute",s;T.fixed?(n-=e(window).scrollTop(),r-=e(window).scrollLeft(),i="fixed"):(n+N[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(n=t.top-N[0].offsetHeight+1),n<0&&(n=0),r+N[0].offsetWidth>e(window).width()&&(r=e(window).width()-N[0].offsetWidth)),s=N[0];do{s=s.parentNode;if(window.getComputedStyle(s).getPropertyValue("position")==="relative"&&e(window).width()>=s.offsetWidth){r-=(e(window).width()-s.offsetWidth)/2;break}}while(s.nodeName!=="HTML");N.css({left:r,top:n,position:i})},N.on("open.xdsoft",function(t){var n=!0;T.onShow&&e.isFunction(T.onShow)&&(n=T.onShow.call(N,W.currentTime,N.data("input"),t)),n!==!1&&(N.show(),R(),e(window).off("resize.xdsoft",R).on("resize.xdsoft",R),T.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function r(){N.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",r)}))}).on("close.xdsoft",function(t){var n=!0;L.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),T.onClose&&e.isFunction(T.onClose)&&(n=T.onClose.call(N,W.currentTime,N.data("input"),t)),n!==!1&&!T.opened&&!T.inline&&N.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(e){N.is(":visible")?N.trigger("close.xdsoft"):N.trigger("open.xdsoft")}).data("input",t),U=0,z=0,N.data("xdsoft_datetime",W),N.setOptions(T),W.setCurrentTime(X()),t.data("xdsoft_datetimepicker",N).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(e){if(t.is(":disabled")||t.data("xdsoft_datetimepicker").is(":visible")&&T.closeOnInputClick)return;clearTimeout(U),U=setTimeout(function(){if(t.is(":disabled"))return;B=!0,W.setCurrentTime(X()),N.trigger("open.xdsoft")},100)}).on("keydown.xdsoft",function(t){var n=this.value,r,i=t.which;if([f].indexOf(i)!==-1&&T.enterLikeTab)return r=e("input:visible,textarea:visible"),N.trigger("close.xdsoft"),r.eq(r.index(this)+1).focus(),!1;if([m].indexOf(i)!==-1)return N.trigger("close.xdsoft"),!0})},k=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===u&&(x=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===u&&(x=!1)}),this.each(function(){var t=e(this).data("xdsoft_datetimepicker"),r;if(t){if(e.type(n)==="string")switch(n){case"show":e(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"toggle":t.trigger("toggle.xdsoft");break;case"destroy":k(e(this));break;case"reset":this.value=this.defaultValue,(!this.value||!t.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,T.format)))&&t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":r=t.data("input"),r.trigger("blur.xdsoft")}else t.setOptions(n);return 0}e.type(n)!=="string"&&(!T.lazyInit||T.open||T.inline?C(e(this)):L(e(this)))})},e.fn.datetimepicker.defaults=t}(jQuery),function(){!function(e){"function"==typeof define&&define.amd?define("datetimepicker",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,u=a.call(arguments,1),f=0,h=0,p=0,v=0,m=0,g=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(p=-1*o.detail),"wheelDelta"in o&&(p=o.wheelDelta),"wheelDeltaY"in o&&(p=o.wheelDeltaY),"wheelDeltaX"in o&&(h=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(h=-1*p,p=0),f=0===p?h:p,"deltaY"in o&&(p=-1*o.deltaY,f=p),"deltaX"in o&&(h=o.deltaX,0===p&&(f=-1*h)),0!==p||0!==h){if(1===o.deltaMode){var y=e.data(this,"mousewheel-line-height");f*=y,p*=y,h*=y}else if(2===o.deltaMode){var b=e.data(this,"mousewheel-page-height");f*=b,p*=b,h*=b}if(v=Math.max(Math.abs(p),Math.abs(h)),(!s||s>v)&&(s=v,r(o,v)&&(s/=40)),r(o,v)&&(f/=40,h/=40,p/=40),f=Math[f>=1?"floor":"ceil"](f/s),h=Math[h>=1?"floor":"ceil"](h/s),p=Math[p>=1?"floor":"ceil"](p/s),l.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();m=t.clientX-w.left,g=t.clientY-w.top}return t.deltaX=h,t.deltaY=p,t.deltaFactor=s,t.offsetX=m,t.offsetY=g,t.deltaMode=0,u.unshift(t,f,h,p),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,u)}}function n(){s=null}function r(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],u="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice;if(e.event.fixHooks)for(var f=o.length;f;)e.event.fixHooks[o[--f]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=u.length;n;)this.addEventListener(u[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=u.length;n;)this.removeEventListener(u[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){if(e=="unixtime")return parseInt(this.getTime()/1e3);Date.formatFunctions[e]==null&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;var codePrefix="Date.prototype."+funcName+" = function() {return ",code="",special=!1,ch="";for(var i=0;i<format.length;++i)ch=format.charAt(i),!special&&ch=="\\"?special=!0:special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch);code.length==0?code='""':code=code.substring(0,code.length-3),eval(codePrefix+code+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if(t=="unixtime")return new Date(isNaN(parseInt(e))?0:parseInt(e)*1e3);Date.parseFunctions[t]==null&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="";for(var i=0;i<format.length;++i)ch=format.charAt(i),!special&&ch=="\\"?special=!0:special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c));code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$","i"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return String.leftPad(Math.ceil((e-n)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return(e&3)==0&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return e<0?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return e<0?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var r=new String(e);n==null&&(n=" ");while(r.length<t)r=n+r;return r},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}(),define("views/insurance/ReservationPageView",["jquery","underscore","backbone","models/CarInfoModel","models/insurance/InsuranceReservationFormModel","text!templates/insurance/reservation_page.html","jqm","datetimepicker"],function(e,t,n,r,i,s){e(s).appendTo("body");var o=n.View.extend({el:"#insurance_reservation_page",initialize:function(){this.model=new i,this.car_info_model=new r,this.$el.find('[name="offer_date"]').datetimepicker({lang:"ch",format:"Y-m-d",formatDate:"Y/m/d",timepicker:!1,minDate:"-1970/01/01"}),this.listenTo(this.model,"invalid",this._onFormModelInvalid),this.listenTo(this.model,"sync",this._onFormModelSync),this.listenTo(this.car_info_model,"request",this._lockSubmit),this.listenTo(this.car_info_model,"sync",this._renderCarInfo),this.listenTo(this.car_info_model,"sync",this._unlockSubmit)},events:{"input [name=hphm]":"_onHphmInput","change [name=hphm]":"_onHphmChange","click .reservation-btn":"_onReservationBtnClick"},_onHphmInput:function(e){this.$el.find("[name=auto_name]").prop("disabled",!1).val(""),this.$el.find("[name=frame_number]").prop("disabled",!1).val(""),this.$el.find("[name=engine_number]").prop("disabled",!1).val("")},_onHphmChange:function(t){var n=this.$el.find('[name="hphm_header"]').val()+e(t.target).val();this.car_info_model.clear({silent:!0}),this.car_info_model.set({hphm:n,user_id:G.user.user_id}),this.car_info_model.fetch({reset:!0})},_onReservationBtnClick:function(e){this._collectionFormData(),this.model.isValid()&&this.model.save()},_onFormModelSync:function(e,t,n){if(!t.success)return;this.$el.find("#insurance_reservation_result_popup").popup("open")},_onFormModelInvalid:function(t,n){e.cm.toast({msg:n})},_collectionFormData:function(){var t=this,n=this.model.get("info_id");this.model.clear({silent:!0}),this.model.set("info_id",n,{silent:!0});var t=this;this.$el.find("[name]:visible:not([data-ignore])").each(function(n,r){var i=e(r).attr("name"),s=e(r).val();i=="hphm"&&s&&(s=t.$el.find('[name="hphm_header"]').val()+s),t.model.set(i,s,{silent:!0})}),t.model.set("user_id",G.user.user_id,{silent:!0}),t.model.set("car_info_id",this.car_info_model.get("id"))},_lockSubmit:function(e,t,n){this.$el.find(".reservation-btn").prop("disabled",!0)},_unlockSubmit:function(e,t,n){this.$el.find(".reservation-btn").prop("disabled",!1)},_renderCarInfo:function(e,t,n){if(!t.row)return;this.$el.find("[name=auto_name]").val(e.get("auto_name")).prop("disabled",!0),this.$el.find("[name=frame_number]").val(e.get("frame_number")).prop("disabled",!0),this.$el.find("[name=engine_number]").val(e.get("engine_number")).prop("disabled",!0)},reset:function(){this.$el.find("[name=phone]").val(G.user.phone||"")}});return o}),define("text!templates/insurance/parity_price_page.html",[],function(){return'<!--新保险比价页面-->\n<div data-role="page" id="insurance_parity_price_page" data-theme="a" style="padding-top: 44px; padding-bottom: 44px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>本地惠-保险巨惠</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <div id="insurance_parity_price_chart_container" style="margin: auto; width:320px; height: 300px"></div>\n        <div class="discount-detail"></div>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <button class="apply-actual-btn" data-theme="f" style="padding:0.7em 0.5%;width: 99%;color:white; display:none">申请精算</button>\n    </div>\n</div>'}),function(e){function n(t){e.jqplot.ElemContainer.call(this),this.name=t,this._series=[],this.show=!1,this.tickRenderer=e.jqplot.AxisTickRenderer,this.tickOptions={},this.labelRenderer=e.jqplot.AxisLabelRenderer,this.labelOptions={},this.label=null,this.showLabel=!0,this.min=null,this.max=null,this.autoscale=!1,this.pad=1.2,this.padMax=null,this.padMin=null,this.ticks=[],this.numberTicks,this.tickInterval,this.renderer=e.jqplot.LinearAxisRenderer,this.rendererOptions={},this.showTicks=!0,this.showTickMarks=!0,this.showMinorTicks=!0,this.drawMajorGridlines=!0,this.drawMinorGridlines=!1,this.drawMajorTickMarks=!0,this.drawMinorTickMarks=!0,this.useSeriesColor=!1,this.borderWidth=null,this.borderColor=null,this.scaleToHiddenSeries=!1,this._dataBounds={min:null,max:null},this._intervalStats=[],this._offsets={min:null,max:null},this._ticks=[],this._label=null,this.syncTicks=null,this.tickSpacing=75,this._min=null,this._max=null,this._tickInterval=null,this._numberTicks=null,this.__ticks=null,this._options={}}function r(t){e.jqplot.ElemContainer.call(this),this.show=!1,this.location="ne",this.labels=[],this.showLabels=!0,this.showSwatches=!0,this.placement="insideGrid",this.xoffset=0,this.yoffset=0,this.border,this.background,this.textColor,this.fontFamily,this.fontSize,this.rowSpacing="0.5em",this.renderer=e.jqplot.TableLegendRenderer,this.rendererOptions={},this.preDraw=!1,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null,this.escapeHtml=!1,this._series=[],e.extend(!0,this,t)}function i(t){e.jqplot.ElemContainer.call(this),this.text=t,this.show=!0,this.fontFamily,this.fontSize,this.textAlign,this.textColor,this.renderer=e.jqplot.DivTitleRenderer,this.rendererOptions={},this.escapeHtml=!1}function s(t){t=t||{},e.jqplot.ElemContainer.call(this),this.show=!0,this.xaxis="xaxis",this._xaxis,this.yaxis="yaxis",this._yaxis,this.gridBorderWidth=2,this.renderer=e.jqplot.LineRenderer,this.rendererOptions={},this.data=[],this.gridData=[],this.label="",this.showLabel=!0,this.color,this.negativeColor,this.lineWidth=2.5,this.lineJoin="round",this.lineCap="round",this.linePattern="solid",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.25,this.shadowDepth=3,this.shadowAlpha="0.1",this.breakOnNull=!1,this.markerRenderer=e.jqplot.MarkerRenderer,this.markerOptions={},this.showLine=!0,this.showMarker=!0,this.index,this.fill=!1,this.fillColor,this.fillAlpha,this.fillAndStroke=!1,this.disableStack=!1,this._stack=!1,this.neighborThreshold=4,this.fillToZero=!1,this.fillToValue=0,this.fillAxis="y",this.useNegativeColors=!0,this._stackData=[],this._plotData=[],this._plotValues={x:[],y:[]},this._intervals={x:{},y:{}},this._prevPlotData=[],this._prevGridData=[],this._stackAxis="y",this._primaryAxis="_xaxis",this.canvas=new e.jqplot.GenericCanvas,this.shadowCanvas=new e.jqplot.GenericCanvas,this.plugins={},this._sumy=0,this._sumx=0,this._type=""}function o(){e.jqplot.ElemContainer.call(this),this.drawGridlines=!0,this.gridLineColor="#cccccc",this.gridLineWidth=1,this.background="#fffdf6",this.borderColor="#999999",this.borderWidth=2,this.drawBorder=!0,this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.5,this.shadowWidth=3,this.shadowDepth=3,this.shadowColor=null,this.shadowAlpha="0.07",this._left,this._top,this._right,this._bottom,this._width,this._height,this._axes=[],this.renderer=e.jqplot.CanvasGridRenderer,this.rendererOptions={},this._offsets={top:null,bottom:null,left:null,right:null}}function a(){function l(e){var t,n,r,i,s;for(var o=0;o<e.length;o++){var u,a=[e[o].data,e[o]._stackData,e[o]._plotData,e[o]._prevPlotData];for(var f=0;f<4;f++){u=!0,t=a[f];if(e[o]._stackAxis=="x"){for(var l=0;l<t.length;l++)if(typeof t[l][1]!="number"){u=!1;break}u&&t.sort(function(e,t){return e[1]-t[1]})}else{for(var l=0;l<t.length;l++)if(typeof t[l][0]!="number"){u=!1;break}u&&t.sort(function(e,t){return e[0]-t[0]})}}}}function c(e){var t=e.data.plot,n=t.eventCanvas._elem.offset(),r={x:e.pageX-n.left,y:e.pageY-n.top},i={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},s=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],o=t.axes,u,a;for(u=11;u>0;u--)a=s[u-1],o[a].show&&(i[a]=o[a].series_p2u(r[a.charAt(0)]));return{offsets:n,gridPos:r,dataPos:i}}function h(t,n){var r=n.series,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T;for(o=n.seriesStack.length-1;o>=0;o--){i=n.seriesStack[o],u=r[i],S=u._highlightThreshold;switch(u.renderer.constructor){case e.jqplot.BarRenderer:f=t.x,l=t.y;for(s=0;s<u._barPoints.length;s++){w=u._barPoints[s],y=u.gridData[s];if(f>w[0][0]&&f<w[2][0]&&l>w[2][1]&&l<w[0][1])return{seriesIndex:u.index,pointIndex:s,gridData:y,data:u.data[s],points:u._barPoints[s]}}break;case e.jqplot.PyramidRenderer:f=t.x,l=t.y;for(s=0;s<u._barPoints.length;s++){w=u._barPoints[s],y=u.gridData[s];if(f>w[0][0]+S[0][0]&&f<w[2][0]+S[2][0]&&l>w[2][1]&&l<w[0][1])return{seriesIndex:u.index,pointIndex:s,gridData:y,data:u.data[s],points:u._barPoints[s]}}break;case e.jqplot.DonutRenderer:p=u.startAngle/180*Math.PI,f=t.x-u._center[0],l=t.y-u._center[1],a=Math.sqrt(Math.pow(f,2)+Math.pow(l,2)),f>0&&-l>=0?c=2*Math.PI-Math.atan(-l/f):f>0&&-l<0?c=-Math.atan(-l/f):f<0?c=Math.PI-Math.atan(-l/f):f==0&&-l>0?c=3*Math.PI/2:f==0&&-l<0?c=Math.PI/2:f==0&&l==0&&(c=0),p&&(c-=p,c<0?c+=2*Math.PI:c>2*Math.PI&&(c-=2*Math.PI)),h=u.sliceMargin/180*Math.PI;if(a<u._radius&&a>u._innerRadius)for(s=0;s<u.gridData.length;s++){d=s>0?u.gridData[s-1][1]+h:h,v=u.gridData[s][1];if(c>d&&c<v)return{seriesIndex:u.index,pointIndex:s,gridData:[t.x,t.y],data:u.data[s]}}break;case e.jqplot.PieRenderer:p=u.startAngle/180*Math.PI,f=t.x-u._center[0],l=t.y-u._center[1],a=Math.sqrt(Math.pow(f,2)+Math.pow(l,2)),f>0&&-l>=0?c=2*Math.PI-Math.atan(-l/f):f>0&&-l<0?c=-Math.atan(-l/f):f<0?c=Math.PI-Math.atan(-l/f):f==0&&-l>0?c=3*Math.PI/2:f==0&&-l<0?c=Math.PI/2:f==0&&l==0&&(c=0),p&&(c-=p,c<0?c+=2*Math.PI:c>2*Math.PI&&(c-=2*Math.PI)),h=u.sliceMargin/180*Math.PI;if(a<u._radius)for(s=0;s<u.gridData.length;s++){d=s>0?u.gridData[s-1][1]+h:h,v=u.gridData[s][1];if(c>d&&c<v)return{seriesIndex:u.index,pointIndex:s,gridData:[t.x,t.y],data:u.data[s]}}break;case e.jqplot.BubbleRenderer:f=t.x,l=t.y;var N=null;if(u.show){for(var s=0;s<u.gridData.length;s++)y=u.gridData[s],g=Math.sqrt((f-y[0])*(f-y[0])+(l-y[1])*(l-y[1])),g<=y[2]&&(g<=m||m==null)&&(m=g,N={seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]});if(N!=null)return N}break;case e.jqplot.FunnelRenderer:f=t.x,l=t.y;var C=u._vertices,k=C[0],L=C[C.length-1],A,O,M;function _(e,t,n){var r=(t[1]-n[1])/(t[0]-n[0]),i=t[1]-r*t[0],s=e+t[1];return[(s-i)/r,s]}A=_(l,k[0],L[3]),O=_(l,k[1],L[2]);for(s=0;s<C.length;s++){M=C[s];if(l>=M[0][1]&&l<=M[3][1]&&f>=A[0]&&f<=O[0])return{seriesIndex:u.index,pointIndex:s,gridData:null,data:u.data[s]}}break;case e.jqplot.LineRenderer:f=t.x,l=t.y,a=u.renderer;if(u.show){if((u.fill||u.renderer.bands.show&&u.renderer.bands.fill)&&(!n.plugins.highlighter||!n.plugins.highlighter.show)){var D=!1;if(f>u._boundingBox[0][0]&&f<u._boundingBox[1][0]&&l>u._boundingBox[1][1]&&l<u._boundingBox[0][1]){var P=u._areaPoints.length,H,s=P-1;for(var H=0;H<P;H++){var B=[u._areaPoints[H][0],u._areaPoints[H][1]],j=[u._areaPoints[s][0],u._areaPoints[s][1]];(B[1]<l&&j[1]>=l||j[1]<l&&B[1]>=l)&&B[0]+(l-B[1])/(j[1]-B[1])*(j[0]-B[0])<f&&(D=!D),s=H}}if(D)return{seriesIndex:i,pointIndex:null,gridData:u.gridData,data:u.data,points:u._areaPoints};break}T=u.markerRenderer.size/2+u.neighborThreshold,x=T>0?T:0;for(var s=0;s<u.gridData.length;s++){y=u.gridData[s];if(a.constructor==e.jqplot.OHLCRenderer)if(a.candleStick){var F=u._yaxis.series_u2p;if(f>=y[0]-a._bodyWidth/2&&f<=y[0]+a._bodyWidth/2&&l>=F(u.data[s][2])&&l<=F(u.data[s][3]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else if(!a.hlc){var F=u._yaxis.series_u2p;if(f>=y[0]-a._tickLength&&f<=y[0]+a._tickLength&&l>=F(u.data[s][2])&&l<=F(u.data[s][3]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else{var F=u._yaxis.series_u2p;if(f>=y[0]-a._tickLength&&f<=y[0]+a._tickLength&&l>=F(u.data[s][1])&&l<=F(u.data[s][2]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else if(y[0]!=null&&y[1]!=null){g=Math.sqrt((f-y[0])*(f-y[0])+(l-y[1])*(l-y[1]));if(g<=x&&(g<=m||m==null))return m=g,{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}}}break;default:f=t.x,l=t.y,a=u.renderer;if(u.show){T=u.markerRenderer.size/2+u.neighborThreshold,x=T>0?T:0;for(var s=0;s<u.gridData.length;s++){y=u.gridData[s];if(a.constructor==e.jqplot.OHLCRenderer)if(a.candleStick){var F=u._yaxis.series_u2p;if(f>=y[0]-a._bodyWidth/2&&f<=y[0]+a._bodyWidth/2&&l>=F(u.data[s][2])&&l<=F(u.data[s][3]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else if(!a.hlc){var F=u._yaxis.series_u2p;if(f>=y[0]-a._tickLength&&f<=y[0]+a._tickLength&&l>=F(u.data[s][2])&&l<=F(u.data[s][3]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else{var F=u._yaxis.series_u2p;if(f>=y[0]-a._tickLength&&f<=y[0]+a._tickLength&&l>=F(u.data[s][1])&&l<=F(u.data[s][2]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else{g=Math.sqrt((f-y[0])*(f-y[0])+(l-y[1])*(l-y[1]));if(g<=x&&(g<=m||m==null))return m=g,{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}}}}}return null}this.animate=!1,this.animateReplot=!1,this.axes={xaxis:new n("xaxis"),yaxis:new n("yaxis"),x2axis:new n("x2axis"),y2axis:new n("y2axis"),y3axis:new n("y3axis"),y4axis:new n("y4axis"),y5axis:new n("y5axis"),y6axis:new n("y6axis"),y7axis:new n("y7axis"),y8axis:new n("y8axis"),y9axis:new n("y9axis"),yMidAxis:new n("yMidAxis")},this.baseCanvas=new e.jqplot.GenericCanvas,this.captureRightClick=!1,this.data=[],this.dataRenderer,this.dataRendererOptions,this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]},this.defaultAxisStart=1,this.drawIfHidden=!1,this.eventCanvas=new e.jqplot.GenericCanvas,this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:!0},this.fontFamily,this.fontSize,this.grid=new o,this.legend=new r,this.noDataIndicator={show:!1,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:!0},yaxis:{min:0,max:12,tickInterval:3,show:!0}}},this.negativeSeriesColors=e.jqplot.config.defaultNegativeColors,this.options={},this.previousSeriesStack=[],this.plugins={},this.series=[],this.seriesStack=[],this.seriesColors=e.jqplot.config.defaultColors,this.sortData=!0,this.stackSeries=!1,this.syncXTicks=!0,this.syncYTicks=!0,this.target=null,this.targetId=null,this.textColor,this.title=new i,this._drawCount=0,this._sumy=0,this._sumx=0,this._stackData=[],this._plotData=[],this._width=null,this._height=null,this._plotDimensions={height:null,width:null},this._gridPadding={top:null,right:null,bottom:null,left:null},this._defaultGridPadding={top:10,right:10,bottom:23,left:10},this._addDomReference=e.jqplot.config.addDomReference,this.preInitHooks=new e.jqplot.HooksManager,this.postInitHooks=new e.jqplot.HooksManager,this.preParseOptionsHooks=new e.jqplot.HooksManager,this.postParseOptionsHooks=new e.jqplot.HooksManager,this.preDrawHooks=new e.jqplot.HooksManager,this.postDrawHooks=new e.jqplot.HooksManager,this.preDrawSeriesHooks=new e.jqplot.HooksManager,this.postDrawSeriesHooks=new e.jqplot.HooksManager,this.preDrawLegendHooks=new e.jqplot.HooksManager,this.addLegendRowHooks=new e.jqplot.HooksManager,this.preSeriesInitHooks=new e.jqplot.HooksManager,this.postSeriesInitHooks=new e.jqplot.HooksManager,this.preParseSeriesOptionsHooks=new e.jqplot.HooksManager,this.postParseSeriesOptionsHooks=new e.jqplot.HooksManager,this.eventListenerHooks=new e.jqplot.EventListenerManager,this.preDrawSeriesShadowHooks=new e.jqplot.HooksManager,this.postDrawSeriesShadowHooks=new e.jqplot.HooksManager,this.colorGenerator=new e.jqplot.ColorGenerator,this.negativeColorGenerator=new e.jqplot.ColorGenerator,this.canvasManager=new e.jqplot.CanvasManager,this.themeEngine=new e.jqplot.ThemeEngine;var f=0;this.init=function(t,r,i){i=i||{};for(var s=0;s<e.jqplot.preInitHooks.length;s++)e.jqplot.preInitHooks[s].call(this,t,r,i);for(var s=0;s<this.preInitHooks.hooks.length;s++)this.preInitHooks.hooks[s].call(this,t,r,i);this.targetId="#"+t,this.target=e("#"+t),this._addDomReference&&this.target.data("jqplot",this),this.target.removeClass("jqplot-error");if(!this.target.get(0))throw new Error("No plot target specified");this.target.css("position")=="static"&&this.target.css("position","relative"),this.target.hasClass("jqplot-target")||this.target.addClass("jqplot-target");if(!this.target.height()){var o;i&&i.height?o=parseInt(i.height,10):this.target.attr("data-height")?o=parseInt(this.target.attr("data-height"),10):o=parseInt(e.jqplot.config.defaultHeight,10),this._height=o,this.target.css("height",o+"px")}else this._height=o=this.target.height();if(!this.target.width()){var a;i&&i.width?a=parseInt(i.width,10):this.target.attr("data-width")?a=parseInt(this.target.attr("data-width"),10):a=parseInt(e.jqplot.config.defaultWidth,10),this._width=a,this.target.css("width",a+"px")}else this._width=a=this.target.width();for(var s=0,f=u.length;s<f;s++)this.axes[u[s]]=new n(u[s]);this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;if(this._height<=0||this._width<=0||!this._height||!this._width)throw new Error("Canvas dimension not set");i.dataRenderer&&e.isFunction(i.dataRenderer)&&(i.dataRendererOptions&&(this.dataRendererOptions=i.dataRendererOptions),this.dataRenderer=i.dataRenderer,r=this.dataRenderer(r,this,this.dataRendererOptions)),i.noDataIndicator&&e.isPlainObject(i.noDataIndicator)&&e.extend(!0,this.noDataIndicator,i.noDataIndicator);if(r==null||e.isArray(r)==0||r.length==0||e.isArray(r[0])==0||r[0].length==0){if(this.noDataIndicator.show==0)throw new Error("No data specified");for(var c in this.noDataIndicator.axes)for(var h in this.noDataIndicator.axes[c])this.axes[c][h]=this.noDataIndicator.axes[c][h];this.postDrawHooks.add(function(){var t=this.eventCanvas.getHeight(),n=this.eventCanvas.getWidth(),r=e('<div class="jqplot-noData-container" style="position:absolute;"></div>');this.target.append(r),r.height(t),r.width(n),r.css("top",this.eventCanvas._offsets.top),r.css("left",this.eventCanvas._offsets.left);var i=e('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');r.append(i),i.html(this.noDataIndicator.indicator);var s=i.height(),o=i.width();i.height(s),i.width(o),i.css("top",(t-s)/2+"px")})}this.data=e.extend(!0,[],r),this.parseOptions(i),this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.computePlotData();for(var s=0;s<this.series.length;s++){this.seriesStack.push(s),this.previousSeriesStack.push(s),this.series[s].shadowCanvas._plotDimensions=this._plotDimensions,this.series[s].canvas._plotDimensions=this._plotDimensions;for(var p=0;p<e.jqplot.preSeriesInitHooks.length;p++)e.jqplot.preSeriesInitHooks[p].call(this.series[s],t,this.data,this.options.seriesDefaults,this.options.series[s],this);for(var p=0;p<this.preSeriesInitHooks.hooks.length;p++)this.preSeriesInitHooks.hooks[p].call(this.series[s],t,this.data,this.options.seriesDefaults,this.options.series[s],this);this.series[s]._plotDimensions=this._plotDimensions,this.series[s].init(s,this.grid.borderWidth,this);for(var p=0;p<e.jqplot.postSeriesInitHooks.length;p++)e.jqplot.postSeriesInitHooks[p].call(this.series[s],t,this.data,this.options.seriesDefaults,this.options.series[s],this);for(var p=0;p<this.postSeriesInitHooks.hooks.length;p++)this.postSeriesInitHooks.hooks[p].call(this.series[s],t,this.data,this.options.seriesDefaults,this.options.series[s],this);this._sumy+=this.series[s]._sumy,this._sumx+=this.series[s]._sumx}var d,v;for(var s=0,f=u.length;s<f;s++)d=u[s],v=this.axes[d],v._plotDimensions=this._plotDimensions,v.init(),this.axes[d].borderColor==null&&(d.charAt(0)!=="x"&&v.useSeriesColor===!0&&v.show?v.borderColor=v._series[0].color:v.borderColor=this.grid.borderColor);this.sortData&&l(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(var s=0;s<e.jqplot.postInitHooks.length;s++)e.jqplot.postInitHooks[s].call(this,t,this.data,i);for(var s=0;s<this.postInitHooks.hooks.length;s++)this.postInitHooks.hooks[s].call(this,t,this.data,i)},this.resetAxesScale=function(t,n){var r=n||{},i=t||this.axes;i===!0&&(i=this.axes);if(e.isArray(i))for(var s=0;s<i.length;s++)this.axes[i[s]].resetScale(r[i[s]]);else if(typeof i=="object")for(var o in i)this.axes[o].resetScale(r[o])},this.reInitialize=function(r,i){var s=e.extend(!0,{},this.options,i),o=this.targetId.substr(1),a=r==null?this.data:r;for(var f=0;f<e.jqplot.preInitHooks.length;f++)e.jqplot.preInitHooks[f].call(this,o,a,s);for(var f=0;f<this.preInitHooks.hooks.length;f++)this.preInitHooks.hooks[f].call(this,o,a,s);this._height=this.target.height(),this._width=this.target.width();if(this._height<=0||this._width<=0||!this._height||!this._width)throw new Error("Target dimension not set");this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;var c,h,p,d;for(var f=0,v=u.length;f<v;f++){c=u[f],d=this.axes[c],h=d._ticks;for(var p=0,m=h.length;p<m;p++){var g=h[p]._elem;g&&(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t&&window.G_vmlCanvasManager.uninitElement(g.get(0)),g.emptyForce(),g=null,h._elem=null)}h=null,delete d.ticks,delete d._ticks,this.axes[c]=new n(c),this.axes[c]._plotWidth=this._width,this.axes[c]._plotHeight=this._height}r&&(s.dataRenderer&&e.isFunction(s.dataRenderer)&&(s.dataRendererOptions&&(this.dataRendererOptions=s.dataRendererOptions),this.dataRenderer=s.dataRenderer,r=this.dataRenderer(r,this,this.dataRendererOptions)),this.data=e.extend(!0,[],r)),i&&this.parseOptions(s),this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.seriesStack=[],this.previousSeriesStack=[],this.computePlotData();for(var f=0,v=this.series.length;f<v;f++){this.seriesStack.push(f),this.previousSeriesStack.push(f),this.series[f].shadowCanvas._plotDimensions=this._plotDimensions,this.series[f].canvas._plotDimensions=this._plotDimensions;for(var p=0;p<e.jqplot.preSeriesInitHooks.length;p++)e.jqplot.preSeriesInitHooks[p].call(this.series[f],o,this.data,this.options.seriesDefaults,this.options.series[f],this);for(var p=0;p<this.preSeriesInitHooks.hooks.length;p++)this.preSeriesInitHooks.hooks[p].call(this.series[f],o,this.data,this.options.seriesDefaults,this.options.series[f],this);this.series[f]._plotDimensions=this._plotDimensions,this.series[f].init(f,this.grid.borderWidth,this);for(var p=0;p<e.jqplot.postSeriesInitHooks.length;p++)e.jqplot.postSeriesInitHooks[p].call(this.series[f],o,this.data,this.options.seriesDefaults,this.options.series[f],this);for(var p=0;p<this.postSeriesInitHooks.hooks.length;p++)this.postSeriesInitHooks.hooks[p].call(this.series[f],o,this.data,this.options.seriesDefaults,this.options.series[f],this);this._sumy+=this.series[f]._sumy,this._sumx+=this.series[f]._sumx}for(var f=0,v=u.length;f<v;f++)c=u[f],d=this.axes[c],d._plotDimensions=this._plotDimensions,d.init(),d.borderColor==null&&(c.charAt(0)!=="x"&&d.useSeriesColor===!0&&d.show?d.borderColor=d._series[0].color:d.borderColor=this.grid.borderColor);this.sortData&&l(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(var f=0,v=e.jqplot.postInitHooks.length;f<v;f++)e.jqplot.postInitHooks[f].call(this,o,this.data,s);for(var f=0,v=this.postInitHooks.hooks.length;f<v;f++)this.postInitHooks.hooks[f].call(this,o,this.data,s)},this.quickInit=function(){this._height=this.target.height(),this._width=this.target.width();if(this._height<=0||this._width<=0||!this._height||!this._width)throw new Error("Target dimension not set");this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;for(var n in this.axes)this.axes[n]._plotWidth=this._width,this.axes[n]._plotHeight=this._height;this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this._sumy=0,this._sumx=0,this.computePlotData();for(var r=0;r<this.series.length;r++)this.series[r]._type==="line"&&this.series[r].renderer.bands.show&&this.series[r].renderer.initBands.call(this.series[r],this.series[r].renderer.options,this),this.series[r]._plotDimensions=this._plotDimensions,this.series[r].canvas._plotDimensions=this._plotDimensions,this._sumy+=this.series[r]._sumy,this._sumx+=this.series[r]._sumx;var i;for(var s=0;s<12;s++){i=u[s];var o=this.axes[i]._ticks;for(var r=0;r<o.length;r++){var a=o[r]._elem;a&&(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t&&window.G_vmlCanvasManager.uninitElement(a.get(0)),a.emptyForce(),a=null,o._elem=null)}o=null,this.axes[i]._plotDimensions=this._plotDimensions,this.axes[i]._ticks=[]}this.sortData&&l(this.series),this.grid._axes=this.axes,this.legend._series=this.series},this.computePlotData=function(){this._plotData=[],this._stackData=[];var t,n,r;for(n=0,r=this.series.length;n<r;n++){t=this.series[n],this._plotData.push([]),this._stackData.push([]);var i=t.data;this._plotData[n]=e.extend(!0,[],i),this._stackData[n]=e.extend(!0,[],i),t._plotData=this._plotData[n],t._stackData=this._stackData[n];var s={x:[],y:[]};if(this.stackSeries&&!t.disableStack){t._stack=!0;var o=t._stackAxis==="x"?0:1;for(var u=0,a=i.length;u<a;u++){var f=i[u][o];f==null&&(f=0),this._plotData[n][u][o]=f,this._stackData[n][u][o]=f;if(n>0)for(var l=n;l--;){var c=this._plotData[l][u][o];if(f*c>=0){this._plotData[n][u][o]+=c,this._stackData[n][u][o]+=c;break}}}}else{for(var h=0;h<t.data.length;h++)s.x.push(t.data[h][0]),s.y.push(t.data[h][1]);this._stackData.push(t.data),this.series[n]._stackData=t.data,this._plotData.push(t.data),t._plotData=t.data,t._plotValues=s}n>0&&(t._prevPlotData=this.series[n-1]._plotData),t._sumy=0,t._sumx=0;for(h=t.data.length-1;h>-1;h--)t._sumy+=t.data[h][1],t._sumx+=t.data[h][0]}},this.populatePlotData=function(t,n){this._plotData=[],this._stackData=[],t._stackData=[],t._plotData=[];var r={x:[],y:[]};if(this.stackSeries&&!t.disableStack){t._stack=!0;var i=t._stackAxis==="x"?0:1,s=e.extend(!0,[],t.data),o=e.extend(!0,[],t.data),u,a,f,l,c;for(var h=0;h<n;h++){var p=this.series[h].data;for(var d=0;d<p.length;d++)f=p[d],u=f[0]!=null?f[0]:0,a=f[1]!=null?f[1]:0,s[d][0]+=u,s[d][1]+=a,l=i?a:u,t.data[d][i]*l>=0&&(o[d][i]+=l)}for(var v=0;v<o.length;v++)r.x.push(o[v][0]),r.y.push(o[v][1]);this._plotData.push(o),this._stackData.push(s),t._stackData=s,t._plotData=o,t._plotValues=r}else{for(var v=0;v<t.data.length;v++)r.x.push(t.data[v][0]),r.y.push(t.data[v][1]);this._stackData.push(t.data),this.series[n]._stackData=t.data,this._plotData.push(t.data),t._plotData=t.data,t._plotValues=r}n>0&&(t._prevPlotData=this.series[n-1]._plotData),t._sumy=0,t._sumx=0;for(v=t.data.length-1;v>-1;v--)t._sumy+=t.data[v][1],t._sumx+=t.data[v][0]},this.getNextSeriesColor=function(e){var t=0,n=e.seriesColors;return function(){return t<n.length?n[t++]:(t=0,n[t++])}}(this),this.parseOptions=function(t){for(var n=0;n<this.preParseOptionsHooks.hooks.length;n++)this.preParseOptionsHooks.hooks[n].call(this,t);for(var n=0;n<e.jqplot.preParseOptionsHooks.length;n++)e.jqplot.preParseOptionsHooks[n].call(this,t);this.options=e.extend(!0,{},this.defaults,t);var r=this.options;this.animate=r.animate,this.animateReplot=r.animateReplot,this.stackSeries=r.stackSeries;if(e.isPlainObject(r.fillBetween)){var i=["series1","series2","color","baseSeries","fill"],o;for(var n=0,a=i.length;n<a;n++)o=i[n],r.fillBetween[o]!=null&&(this.fillBetween[o]=r.fillBetween[o])}r.seriesColors&&(this.seriesColors=r.seriesColors),r.negativeSeriesColors&&(this.negativeSeriesColors=r.negativeSeriesColors),r.captureRightClick&&(this.captureRightClick=r.captureRightClick),this.defaultAxisStart=t&&t.defaultAxisStart!=null?t.defaultAxisStart:this.defaultAxisStart,this.colorGenerator.setColors(this.seriesColors),this.negativeColorGenerator.setColors(this.negativeSeriesColors),e.extend(!0,this._gridPadding,r.gridPadding),this.sortData=r.sortData!=null?r.sortData:this.sortData;for(var n=0;n<12;n++){var f=u[n],l=this.axes[f];l._options=e.extend(!0,{},r.axesDefaults,r.axes[f]),e.extend(!0,l,r.axesDefaults,r.axes[f]),l._plotWidth=this._width,l._plotHeight=this._height}var c=function(t,n,r){var i=[],s,o;n=n||"vertical";if(!e.isArray(t[0]))for(s=0,o=t.length;s<o;s++)n=="vertical"?i.push([r+s,t[s]]):i.push([t[s],r+s]);else e.extend(!0,i,t);return i},h=0;this.series=[];for(var n=0;n<this.data.length;n++){var p=e.extend(!0,{index:n},{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[n],{rendererOptions:{animation:{show:this.animate}}}),i=new s(p);for(var d=0;d<e.jqplot.preParseSeriesOptionsHooks.length;d++)e.jqplot.preParseSeriesOptionsHooks[d].call(i,this.options.seriesDefaults,this.options.series[n]);for(var d=0;d<this.preParseSeriesOptionsHooks.hooks.length;d++)this.preParseSeriesOptionsHooks.hooks[d].call(i,this.options.seriesDefaults,this.options.series[n]);e.extend(!0,i,p);var v="vertical";i.renderer===e.jqplot.BarRenderer&&i.rendererOptions&&i.rendererOptions.barDirection=="horizontal"&&(v="horizontal",i._stackAxis="x",i._primaryAxis="_yaxis"),i.data=c(this.data[n],v,this.defaultAxisStart);switch(i.xaxis){case"xaxis":i._xaxis=this.axes.xaxis;break;case"x2axis":i._xaxis=this.axes.x2axis;break;default:}i._yaxis=this.axes[i.yaxis],i._xaxis._series.push(i),i._yaxis._series.push(i),i.show?(i._xaxis.show=!0,i._yaxis.show=!0):(i._xaxis.scaleToHiddenSeries&&(i._xaxis.show=!0),i._yaxis.scaleToHiddenSeries&&(i._yaxis.show=!0)),i.label||(i.label="Series "+(n+1).toString()),this.series.push(i);for(var d=0;d<e.jqplot.postParseSeriesOptionsHooks.length;d++)e.jqplot.postParseSeriesOptionsHooks[d].call(this.series[n],this.options.seriesDefaults,this.options.series[n]);for(var d=0;d<this.postParseSeriesOptionsHooks.hooks.length;d++)this.postParseSeriesOptionsHooks.hooks[d].call(this.series[n],this.options.seriesDefaults,this.options.series[n])}e.extend(!0,this.grid,this.options.grid);for(var n=0,a=u.length;n<a;n++){var f=u[n],l=this.axes[f];l.borderWidth==null&&(l.borderWidth=this.grid.borderWidth)}typeof this.options.title=="string"?this.title.text=this.options.title:typeof this.options.title=="object"&&e.extend(!0,this.title,this.options.title),this.title._plotWidth=this._width,this.legend.setOptions(this.options.legend);for(var n=0;n<e.jqplot.postParseOptionsHooks.length;n++)e.jqplot.postParseOptionsHooks[n].call(this,t);for(var n=0;n<this.postParseOptionsHooks.hooks.length;n++)this.postParseOptionsHooks.hooks[n].call(this,t)},this.destroy=function(){this.canvasManager.freeAllCanvases(),this.eventCanvas&&this.eventCanvas._elem&&this.eventCanvas._elem.unbind(),this.target.empty(),this.target[0].innerHTML=""},this.replot=function(t){var n=t||{},r=n.data||null,i=n.clear===!1?!1:!0,s=n.resetAxes||!1;delete n.data,delete n.clear,delete n.resetAxes,this.target.trigger("jqplotPreReplot"),i&&this.destroy(),r||!e.isEmptyObject(n)?this.reInitialize(r,n):this.quickInit(),s&&this.resetAxesScale(s,n.axes),this.draw(),this.target.trigger("jqplotPostReplot")},this.redraw=function(e){e=e!=null?e:!0,this.target.trigger("jqplotPreRedraw"),e&&(this.canvasManager.freeAllCanvases(),this.eventCanvas._elem.unbind(),this.target.empty());for(var t in this.axes)this.axes[t]._ticks=[];this.computePlotData(),this._sumy=0,this._sumx=0;for(var n=0,r=this.series.length;n<r;n++)this._sumy+=this.series[n]._sumy,this._sumx+=this.series[n]._sumx;this.draw(),this.target.trigger("jqplotPostRedraw")},this.draw=function(){if(this.drawIfHidden||this.target.is(":visible")){this.target.trigger("jqplotPreDraw");var t,n,r,i;for(t=0,r=e.jqplot.preDrawHooks.length;t<r;t++)e.jqplot.preDrawHooks[t].call(this);for(t=0,r=this.preDrawHooks.hooks.length;t<r;t++)this.preDrawHooks.hooks[t].apply(this,this.preDrawSeriesHooks.args[t]);this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this)),this.baseCanvas.setContext(),this.target.append(this.title.draw()),this.title.pack({top:0,left:0});var s=this.legend.draw({},this),o={top:0,left:0,bottom:0,right:0};if(this.legend.placement=="outsideGrid"){this.target.append(s);switch(this.legend.location){case"n":o.top+=this.legend.getHeight();break;case"s":o.bottom+=this.legend.getHeight();break;case"ne":case"e":case"se":o.right+=this.legend.getWidth();break;case"nw":case"w":case"sw":o.left+=this.legend.getWidth();break;default:o.right+=this.legend.getWidth()}s=s.detach()}var a=this.axes,f;for(t=0;t<12;t++)f=u[t],this.target.append(a[f].draw(this.baseCanvas._ctx,this)),a[f].set();a.yaxis.show&&(o.left+=a.yaxis.getWidth());var l=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"],c=[0,0,0,0,0,0,0,0],h=0,p;for(p=0;p<8;p++)a[l[p]].show&&(h+=a[l[p]].getWidth(),c[p]=h);o.right+=h,a.x2axis.show&&(o.top+=a.x2axis.getHeight()),this.title.show&&(o.top+=this.title.getHeight()),a.xaxis.show&&(o.bottom+=a.xaxis.getHeight());if(this.options.gridDimensions&&e.isPlainObject(this.options.gridDimensions)){var d=parseInt(this.options.gridDimensions.width,10)||0,v=parseInt(this.options.gridDimensions.height,10)||0,m=(this._width-o.left-o.right-d)/2,g=(this._height-o.top-o.bottom-v)/2;g>=0&&m>=0&&(o.top+=g,o.bottom+=g,o.left+=m,o.right+=m)}var y=["top","bottom","left","right"];for(var p in y)this._gridPadding[y[p]]==null&&o[y[p]]>0?this._gridPadding[y[p]]=o[y[p]]:this._gridPadding[y[p]]==null&&(this._gridPadding[y[p]]=this._defaultGridPadding[y[p]]);var b=this._gridPadding;this.legend.placement==="outsideGrid"&&(b={top:this.title.getHeight(),left:0,right:0,bottom:0},this.legend.location==="s"&&(b.left=this._gridPadding.left,b.right=this._gridPadding.right)),a.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-a.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),a.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-a.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),a.x2axis.pack({position:"absolute",top:this._gridPadding.top-a.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});for(t=8;t>0;t--)a[l[t-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-c[t-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});var w=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-a.yMidAxis.getWidth()/2;a.yMidAxis.pack({position:"absolute",top:0,left:w,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),this.target.append(this.grid.createElement(this._gridPadding,this)),this.grid.draw();var E=this.series,S=E.length;for(t=0,r=S;t<r;t++)n=this.seriesStack[t],this.target.append(E[n].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",null,this)),E[n].shadowCanvas.setContext(),E[n].shadowCanvas._elem.data("seriesIndex",n);for(t=0,r=S;t<r;t++)n=this.seriesStack[t],this.target.append(E[n].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this)),E[n].canvas.setContext(),E[n].canvas._elem.data("seriesIndex",n);this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this)),this.eventCanvas.setContext(),this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)",this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height),this.bindCustomEvents(),this.legend.preDraw?(this.eventCanvas._elem.before(s),this.legend.pack(b),this.legend._elem?this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}}):this.drawSeries()):(this.drawSeries(),S&&e(E[S-1].canvas._elem).after(s),this.legend.pack(b));for(var t=0,r=e.jqplot.eventListenerHooks.length;t<r;t++)this.eventCanvas._elem.bind(e.jqplot.eventListenerHooks[t][0],{plot:this},e.jqplot.eventListenerHooks[t][1]);for(var t=0,r=this.eventListenerHooks.hooks.length;t<r;t++)this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[t][0],{plot:this},this.eventListenerHooks.hooks[t][1]);var x=this.fillBetween;x.fill&&x.series1!==x.series2&&x.series1<S&&x.series2<S&&E[x.series1]._type==="line"&&E[x.series2]._type==="line"&&this.doFillBetweenLines();for(var t=0,r=e.jqplot.postDrawHooks.length;t<r;t++)e.jqplot.postDrawHooks[t].call(this);for(var t=0,r=this.postDrawHooks.hooks.length;t<r;t++)this.postDrawHooks.hooks[t].apply(this,this.postDrawHooks.args[t]);this.target.is(":visible")&&(this._drawCount+=1);var T,N,C,k;for(t=0,r=S;t<r;t++)T=E[t],N=T.renderer,C=".jqplot-point-label.jqplot-series-"+t,N.animation&&N.animation._supported&&N.animation.show&&(this._drawCount<2||this.animateReplot)&&(k=this.target.find(C),k.stop(!0,!0).hide(),T.canvas._elem.stop(!0,!0).hide(),T.shadowCanvas._elem.stop(!0,!0).hide(),T.canvas._elem.jqplotEffect("blind",{mode:"show",direction:N.animation.direction},N.animation.speed),T.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:N.animation.direction},N.animation.speed),k.fadeIn(N.animation.speed*.8));k=null,this.target.trigger("jqplotPostDraw",[this])}},a.prototype.doFillBetweenLines=function(){var e=this.fillBetween,t=e.series1,n=e.series2,r=t<n?t:n,i=n>t?n:t,s=this.series[r],o=this.series[i];if(o.renderer.smooth)var u=o.renderer._smoothedData.slice(0).reverse();else var u=o.gridData.slice(0).reverse();if(s.renderer.smooth)var a=s.renderer._smoothedData.concat(u);else var a=s.gridData.concat(u);var f=e.color!==null?e.color:this.series[t].fillColor,l=e.baseSeries!==null?e.baseSeries:r,c=this.series[l].renderer.shapeRenderer,h={fillStyle:f,fill:!0,closePath:!0};c.draw(s.shadowCanvas._ctx,a,h)},this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick),this.eventCanvas._elem.bind("dblclick",{plot:this},this.onDblClick),this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown),this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove),this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter),this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave),this.captureRightClick?(this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick),this.eventCanvas._elem.get(0).oncontextmenu=function(){return!1}):this.eventCanvas._elem.bind("mouseup",{plot:this},this.onMouseUp)},this.onClick=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r),s=e.Event("jqplotClick");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])},this.onDblClick=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r),s=e.Event("jqplotDblClick");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])},this.onMouseDown=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r),s=e.Event("jqplotMouseDown");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])},this.onMouseUp=function(t){var n=c(t),r=e.Event("jqplotMouseUp");r.pageX=t.pageX,r.pageY=t.pageY,e(this).trigger(r,[n.gridPos,n.dataPos,null,t.data.plot])},this.onRightClick=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r);if(r.captureRightClick)if(t.which==3){var s=e.Event("jqplotRightClick");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])}else{var s=e.Event("jqplotMouseUp");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])}},this.onMouseMove=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r),s=e.Event("jqplotMouseMove");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])},this.onMouseEnter=function(t){var n=c(t),r=t.data.plot,i=e.Event("jqplotMouseEnter");i.pageX=t.pageX,i.pageY=t.pageY,i.relatedTarget=t.relatedTarget,e(this).trigger(i,[n.gridPos,n.dataPos,null,r])},this.onMouseLeave=function(t){var n=c(t),r=t.data.plot,i=e.Event("jqplotMouseLeave");i.pageX=t.pageX,i.pageY=t.pageY,i.relatedTarget=t.relatedTarget,e(this).trigger(i,[n.gridPos,n.dataPos,null,r])},this.drawSeries=function(n,r){var i,s,o;r=typeof n=="number"&&r==null?n:r,n=typeof n=="object"?n:{};if(r!=t)s=this.series[r],o=s.shadowCanvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),s.drawShadow(o,n,this),o=s.canvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),s.draw(o,n,this),s.renderer.constructor==e.jqplot.BezierCurveRenderer&&r<this.series.length-1&&this.drawSeries(r+1);else for(i=0;i<this.series.length;i++)s=this.series[i],o=s.shadowCanvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),s.drawShadow(o,n,this),o=s.canvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),s.draw(o,n,this);n=r=i=s=o=null},this.moveSeriesToFront=function(t){t=parseInt(t,10);var n=e.inArray(t,this.seriesStack);if(n==-1)return;if(n==this.seriesStack.length-1){this.previousSeriesStack=this.seriesStack.slice(0);return}var r=this.seriesStack[this.seriesStack.length-1],i=this.series[t].canvas._elem.detach(),s=this.series[t].shadowCanvas._elem.detach();this.series[r].shadowCanvas._elem.after(s),this.series[r].canvas._elem.after(i),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(n,1),this.seriesStack.push(t)},this.moveSeriesToBack=function(t){t=parseInt(t,10);var n=e.inArray(t,this.seriesStack);if(n==0||n==-1)return;var r=this.seriesStack[0],i=this.series[t].canvas._elem.detach(),s=this.series[t].shadowCanvas._elem.detach();this.series[r].shadowCanvas._elem.before(s),this.series[r].canvas._elem.before(i),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(n,1),this.seriesStack.unshift(t)},this.restorePreviousSeriesOrder=function(){var e,t,n,r,i,s,o;if(this.seriesStack==this.previousSeriesStack)return;for(e=1;e<this.previousSeriesStack.length;e++)s=this.previousSeriesStack[e],o=this.previousSeriesStack[e-1],n=this.series[s].canvas._elem.detach(),r=this.series[s].shadowCanvas._elem.detach(),this.series[o].shadowCanvas._elem.after(r),this.series[o].canvas._elem.after(n);i=this.seriesStack.slice(0),this.seriesStack=this.previousSeriesStack.slice(0),this.previousSeriesStack=i},this.restoreOriginalSeriesOrder=function(){var e,t,n=[],r,i;for(e=0;e<this.series.length;e++)n.push(e);if(this.seriesStack==n)return;this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack=n;for(e=1;e<this.seriesStack.length;e++)r=this.series[e].canvas._elem.detach(),i=this.series[e].shadowCanvas._elem.detach(),this.series[e-1].shadowCanvas._elem.after(i),this.series[e-1].canvas._elem.after(r)},this.activateTheme=function(e){this.themeEngine.activate(this,e)}}function l(e,t){return(3.4182054+t)*Math.pow(e,-0.3534992)}function c(e,t){var n=Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2));return 5.7648*Math.log(n)+7.4456}function h(e){var t=(Math.exp(2*e)-1)/(Math.exp(2*e)+1);return t}function p(e){function v(e,t){return e-t==0?Math.pow(10,10):e-t}var t=this.renderer.smooth,n=this.canvas.getWidth(),r=this._xaxis.series_p2u,i=this._yaxis.series_p2u,s=null,o=null,u=e.length/n,a=[],f=[];isNaN(parseFloat(t))?s=l(u,.5):s=parseFloat(t);var c=[],h=[];for(var p=0,d=e.length;p<d;p++)c.push(e[p][1]),h.push(e[p][0]);var m,g,y,b,w=e.length-1;for(var E=1,S=e.length;E<S;E++){var x=[],T=[];for(var N=0;N<2;N++){var p=E-1+N;p==0||p==w?x[N]=Math.pow(10,10):c[p+1]-c[p]==0||c[p]-c[p-1]==0?x[N]=0:(h[p+1]-h[p])/(c[p+1]-c[p])+(h[p]-h[p-1])/(c[p]-c[p-1])==0?x[N]=0:(c[p+1]-c[p])*(c[p]-c[p-1])<0?x[N]=0:x[N]=2/(v(h[p+1],h[p])/(c[p+1]-c[p])+v(h[p],h[p-1])/(c[p]-c[p-1]))}E==1?x[0]=1.5*(c[1]-c[0])/v(h[1],h[0])-x[1]/2:E==w&&(x[1]=1.5*(c[w]-c[w-1])/v(h[w],h[w-1])-x[0]/2),T[0]=-2*(x[1]+2*x[0])/v(h[E],h[E-1])+6*(c[E]-c[E-1])/Math.pow(v(h[E],h[E-1]),2),T[1]=2*(2*x[1]+x[0])/v(h[E],h[E-1])-6*(c[E]-c[E-1])/Math.pow(v(h[E],h[E-1]),2),b=1/6*(T[1]-T[0])/v(h[E],h[E-1]),y=.5*(h[E]*T[0]-h[E-1]*T[1])/v(h[E],h[E-1]),g=(c[E]-c[E-1]-y*(Math.pow(h[E],2)-Math.pow(h[E-1],2))-b*(Math.pow(h[E],3)-Math.pow(h[E-1],3)))/v(h[E],h[E-1]),m=c[E-1]-g*h[E-1]-y*Math.pow(h[E-1],2)-b*Math.pow(h[E-1],3);var C=(h[E]-h[E-1])/s,k,L;for(var N=0,d=s;N<d;N++)k=[],L=h[E-1]+N*C,k.push(L),k.push(m+g*L+y*Math.pow(L,2)+b*Math.pow(L,3)),a.push(k),f.push([r(k[0]),i(k[1])])}return a.push(e[p]),f.push([r(e[p][0]),i(e[p][1])]),[a,f]}function d(e){var t=this.renderer.smooth,n=this.renderer.tension,r=this.canvas.getWidth(),i=this._xaxis.series_p2u,s=this._yaxis.series_p2u,o=null,u=null,a=null,f=null,c=null,p=null,d=null,v=null,m,g,y,b,w,E,S,x,T,N,C,k,L,A=[],O=[],M=e.length/r,_,D,P,H,B,j=[],F=[];isNaN(parseFloat(t))?o=l(M,.5):o=parseFloat(t),isNaN(parseFloat(n))||(n=parseFloat(n));for(var I=0,q=e.length-1;I<q;I++){n===null?(p=Math.abs((e[I+1][1]-e[I][1])/(e[I+1][0]-e[I][0])),_=.3,D=.6,P=(D-_)/2,H=2.5,B=-1.4,v=p/H+B,f=P*h(v)-P*h(B)+_,I>0&&(d=Math.abs((e[I][1]-e[I-1][1])/(e[I][0]-e[I-1][0]))),v=d/H+B,c=P*h(v)-P*h(B)+_,a=(f+c)/2):a=n;for(m=0;m<o;m++)g=m/o,y=(1+2*g)*Math.pow(1-g,2),b=g*Math.pow(1-g,2),w=Math.pow(g,2)*(3-2*g),E=Math.pow(g,2)*(g-1),e[I-1]?(S=a*(e[I+1][0]-e[I-1][0]),x=a*(e[I+1][1]-e[I-1][1])):(S=a*(e[I+1][0]-e[I][0]),x=a*(e[I+1][1]-e[I][1])),e[I+2]?(T=a*(e[I+2][0]-e[I][0]),N=a*(e[I+2][1]-e[I][1])):(T=a*(e[I+1][0]-e[I][0]),N=a*(e[I+1][1]-e[I][1])),C=y*e[I][0]+w*e[I+1][0]+b*S+E*T,k=y*e[I][1]+w*e[I+1][1]+b*x+E*N,L=[C,k],j.push(L),F.push([i(C),s(k)])}return j.push(e[q]),F.push([i(e[q][0]),s(e[q][1])]),[j,F]}function v(t,n,r){for(var i=0;i<this.series.length;i++)this.series[i].renderer.constructor==e.jqplot.LineRenderer&&this.series[i].highlightMouseOver&&(this.series[i].highlightMouseDown=!1)}function m(){this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas&&(this.plugins.lineRenderer.highlightCanvas.resetCanvas(),this.plugins.lineRenderer.highlightCanvas=null),this.plugins.lineRenderer.highlightedSeriesIndex=null,this.plugins.lineRenderer.highlightCanvas=new e.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.lineRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(e){y(e.data.plot)})}function g(e,t,n,r){var i=e.series[t],s=e.plugins.lineRenderer.highlightCanvas;s._ctx.clearRect(0,0,s._ctx.canvas.width,s._ctx.canvas.height),i._highlightedPoint=n,e.plugins.lineRenderer.highlightedSeriesIndex=t;var o={fillStyle:i.highlightColor};i.type==="line"&&i.renderer.bands.show&&(o.fill=!0,o.closePath=!0),i.renderer.shapeRenderer.draw(s._ctx,r,o),s=null}function y(e){var t=e.plugins.lineRenderer.highlightCanvas;t._ctx.clearRect(0,0,t._ctx.canvas.width,t._ctx.canvas.height);for(var n=0;n<e.series.length;n++)e.series[n]._highlightedPoint=null;e.plugins.lineRenderer.highlightedSeriesIndex=null,e.target.trigger("jqplotDataUnhighlight"),t=null}function b(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],o=jQuery.Event("jqplotDataMouseOver");o.pageX=e.pageX,o.pageY=e.pageY,i.target.trigger(o,s);if(i.series[s[0]].highlightMouseOver&&s[0]!=i.plugins.lineRenderer.highlightedSeriesIndex){var u=jQuery.Event("jqplotDataHighlight");u.which=e.which,u.pageX=e.pageX,u.pageY=e.pageY,i.target.trigger(u,s),g(i,r.seriesIndex,r.pointIndex,r.points)}}else r==null&&y(i)}function w(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data];if(i.series[s[0]].highlightMouseDown&&s[0]!=i.plugins.lineRenderer.highlightedSeriesIndex){var o=jQuery.Event("jqplotDataHighlight");o.which=e.which,o.pageX=e.pageX,o.pageY=e.pageY,i.target.trigger(o,s),g(i,r.seriesIndex,r.pointIndex,r.points)}}else r==null&&y(i)}function E(e,t,n,r,i){var s=i.plugins.lineRenderer.highlightedSeriesIndex;s!=null&&i.series[s].highlightMouseDown&&y(i)}function S(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],o=jQuery.Event("jqplotDataClick");o.which=e.which,o.pageX=e.pageX,o.pageY=e.pageY,i.target.trigger(o,s)}}function x(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],o=i.plugins.lineRenderer.highlightedSeriesIndex;o!=null&&i.series[o].highlightMouseDown&&y(i);var u=jQuery.Event("jqplotDataRightClick");u.which=e.which,u.pageX=e.pageX,u.pageY=e.pageY,i.target.trigger(u,s)}}function T(e){var t;e=Math.abs(e);if(e>=10)t="%d";else if(e>1)e===parseInt(e,10)?t="%d":t="%.1f";else{var n=-Math.floor(Math.log(e)/Math.LN10);t="%."+n+"f"}return t}function L(t,n,r){var i=Math.floor(r/2),s=Math.ceil(r*1.5),o=Number.MAX_VALUE,u=n-t,a,f,l,c=e.jqplot.getSignificantFigures,h,p,d,v;for(var m=0,g=s-i+1;m<g;m++)d=i+m,a=u/(d-1),f=c(a),a=Math.abs(r-d)+f.digitsRight,a<o?(o=a,l=d,v=f.digitsRight):a===o&&f.digitsRight<v&&(l=d,v=f.digitsRight);return h=Math.max(v,Math.max(c(t).digitsRight,c(n).digitsRight)),h===0?p="%d":p="%."+h+"f",a=u/(l-1),[t,n,l,p,a]}function A(e,t){t=t||7;var n=e/(t-1),r=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),i=n/r,s;return r<1?i>5?s=10*r:i>2?s=5*r:i>1?s=2*r:s=r:i>5?s=10*r:i>4?s=5*r:i>3?s=4*r:i>2?s=3*r:i>1?s=2*r:s=r,s}function O(e,t){t=t||1;var n=Math.floor(Math.log(e)/Math.LN10),r=Math.pow(10,n),i=e/r,s;return i/=t,i<=.38?s=.1:i<=1.6?s=.2:i<=4?s=.5:i<=8?s=1:i<=16?s=2:s=5,s*r}function M(e,t){var n=Math.floor(Math.log(e)/Math.LN10),r=Math.pow(10,n),i=e/r,s,o;return i/=t,i<=.38?o=.1:i<=1.6?o=.2:i<=4?o=.5:i<=8?o=1:i<=16?o=2:o=5,s=o*r,[s,o,r]}function _(e,t){return e-t}function D(e){if(e==null||typeof e!="object")return e;var t=new e.constructor;for(var n in e)t[n]=D(e[n]);return t}function P(e,t){if(t==null||typeof t!="object")return;for(var n in t)n=="highlightColors"&&(e[n]=D(t[n])),t[n]!=null&&typeof t[n]=="object"?(e.hasOwnProperty(n)||(e[n]={}),P(e[n],t[n])):e[n]=t[n]}function G(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Y(e){return e===null?"[object Null]":Object.prototype.toString.call(e)}function tt(n,r,i,s){if(e.isPlainObject(n))return n;n={effect:n},r===t&&(r={}),e.isFunction(r)&&(s=r,i=null,r={});if(e.type(r)==="number"||e.fx.speeds[r])s=i,i=r,r={};return e.isFunction(i)&&(s=i,i=null),r&&e.extend(n,r),i=i||r.duration,n.duration=e.fx.off?0:typeof i=="number"?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,n.complete=s||r.complete,n}function nt(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.jqplot.effects.effect[t]?Z&&e.jqplot.effects[t]?!1:!0:!1}var t;e.fn.emptyForce=function(){for(var t=0,n;(n=e(this)[t])!=null;t++){n.nodeType===1&&e.cleanData(n.getElementsByTagName("*"));if(e.jqplot.use_excanvas)n.outerHTML="";else while(n.firstChild)n.removeChild(n.firstChild);n=null}return e(this)},e.fn.removeChildForce=function(e){while(e.firstChild)this.removeChildForce(e.firstChild),e.removeChild(e.firstChild)},e.fn.jqplot=function(){var n=[],r=[];for(var i=0,s=arguments.length;i<s;i++)e.isArray(arguments[i])?n.push(arguments[i]):e.isPlainObject(arguments[i])&&r.push(arguments[i]);return this.each(function(i){var s,o,u=e(this),a=n.length,f=r.length,l,c;i<a?l=n[i]:l=a?n[a-1]:null,i<f?c=r[i]:c=f?r[f-1]:null,s=u.attr("id"),s===t&&(s="jqplot_target_"+e.jqplot.targetCounter++,u.attr("id",s)),o=e.jqplot(s,l,c),u.data("jqplot",o)})},e.jqplot=function(t,n,r){var i=null,s=null;arguments.length===3?(i=n,s=r):arguments.length===2&&(e.isArray(n)?i=n:e.isPlainObject(n)&&(s=n)),i===null&&s!==null&&s.data&&(i=s.data);var o=new a;e("#"+t).removeClass("jqplot-error");if(!e.jqplot.config.catchErrors)return o.init(t,i,s),o.draw(),o.themeEngine.init.call(o),o;try{return o.init(t,i,s),o.draw(),o.themeEngine.init.call(o),o}catch(u){var f=e.jqplot.config.errorMessage||u.message;e("#"+t).append('<div class="jqplot-error-message">'+f+"</div>"),e("#"+t).addClass("jqplot-error"),document.getElementById(t).style.background=e.jqplot.config.errorBackground,document.getElementById(t).style.border=e.jqplot.config.errorBorder,document.getElementById(t).style.fontFamily=e.jqplot.config.errorFontFamily,document.getElementById(t).style.fontSize=e.jqplot.config.errorFontSize,document.getElementById(t).style.fontStyle=e.jqplot.config.errorFontStyle,document.getElementById(t).style.fontWeight=e.jqplot.config.errorFontWeight}},e.jqplot.version="1.0.8",e.jqplot.revision="1250",e.jqplot.targetCounter=1,e.jqplot.CanvasManager=function(){typeof e.jqplot.CanvasManager.canvases=="undefined"&&(e.jqplot.CanvasManager.canvases=[],e.jqplot.CanvasManager.free=[]);var n=[];this.getCanvas=function(){var t,r=!0;if(!e.jqplot.use_excanvas)for(var i=0,s=e.jqplot.CanvasManager.canvases.length;i<s;i++)if(e.jqplot.CanvasManager.free[i]===!0){r=!1,t=e.jqplot.CanvasManager.canvases[i],e.jqplot.CanvasManager.free[i]=!1,n.push(i);break}return r&&(t=document.createElement("canvas"),n.push(e.jqplot.CanvasManager.canvases.length),e.jqplot.CanvasManager.canvases.push(t),e.jqplot.CanvasManager.free.push(!1)),t},this.initCanvas=function(t){return e.jqplot.use_excanvas?window.G_vmlCanvasManager.initElement(t):t},this.freeAllCanvases=function(){for(var e=0,t=n.length;e<t;e++)this.freeCanvas(n[e]);n=[]},this.freeCanvas=function(n){if(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t)window.G_vmlCanvasManager.uninitElement(e.jqplot.CanvasManager.canvases[n]),e.jqplot.CanvasManager.canvases[n]=null;else{var r=e.jqplot.CanvasManager.canvases[n];r.getContext("2d").clearRect(0,0,r.width,r.height),e(r).unbind().removeAttr("class").removeAttr("style"),e(r).css({left:"",top:"",position:""}),r.width=0,r.height=0,e.jqplot.CanvasManager.free[n]=!0}}},e.jqplot.log=function(){window.console&&window.console.log.apply(window.console,arguments)},e.jqplot.config={addDomReference:!1,enablePlugins:!1,defaultHeight:300,defaultWidth:400,UTCAdjust:!1,timezoneOffset:new Date((new Date).getTimezoneOffset()*6e4),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",catchErrors:!1,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"},e.jqplot.arrayMax=function(e){return Math.max.apply(Math,e)},e.jqplot.arrayMin=function(e){return Math.min.apply(Math,e)},e.jqplot.enablePlugins=e.jqplot.config.enablePlugins,e.jqplot.support_canvas=function(){return typeof e.jqplot.support_canvas.result=="undefined"&&(e.jqplot.support_canvas.result=!!document.createElement("canvas").getContext),e.jqplot.support_canvas.result},e.jqplot.support_canvas_text=function(){return typeof e.jqplot.support_canvas_text.result=="undefined"&&(window.G_vmlCanvasManager!==t&&window.G_vmlCanvasManager._version>887?e.jqplot.support_canvas_text.result=!0:e.jqplot.support_canvas_text.result=!!document.createElement("canvas").getContext&&typeof document.createElement("canvas").getContext("2d").fillText=="function"),e.jqplot.support_canvas_text.result},e.jqplot.use_excanvas=(!e.support.boxModel||!e.support.objectAll||!$support.leadingWhitespace)&&!e.jqplot.support_canvas()?!0:!1,e.jqplot.preInitHooks=[],e.jqplot.postInitHooks=[],e.jqplot.preParseOptionsHooks=[],e.jqplot.postParseOptionsHooks=[],e.jqplot.preDrawHooks=[],e.jqplot.postDrawHooks=[],e.jqplot.preDrawSeriesHooks=[],e.jqplot.postDrawSeriesHooks=[],e.jqplot.preDrawLegendHooks=[],e.jqplot.addLegendRowHooks=[],e.jqplot.preSeriesInitHooks=[],e.jqplot.postSeriesInitHooks=[],e.jqplot.preParseSeriesOptionsHooks=[],e.jqplot.postParseSeriesOptionsHooks=[],e.jqplot.eventListenerHooks=[],e.jqplot.preDrawSeriesShadowHooks=[],e.jqplot.postDrawSeriesShadowHooks=[],e.jqplot.ElemContainer=function(){this._elem,this._plotWidth,this._plotHeight,this._plotDimensions={height:null,width:null}},e.jqplot.ElemContainer.prototype.createElement=function(t,n,r,i,s){this._offsets=n;var o=r||"jqplot",u=document.createElement(t);return this._elem=e(u),this._elem.addClass(o),this._elem.css(i),this._elem.attr(s),u=null,this._elem},e.jqplot.ElemContainer.prototype.getWidth=function(){return this._elem?this._elem.outerWidth(!0):null},e.jqplot.ElemContainer.prototype.getHeight=function(){return this._elem?this._elem.outerHeight(!0):null},e.jqplot.ElemContainer.prototype.getPosition=function(){return this._elem?this._elem.position():{top:null,left:null,bottom:null,right:null}},e.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top},e.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left},e.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom")},e.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right")},n.prototype=new e.jqplot.ElemContainer,n.prototype.constructor=n,n.prototype.init=function(){e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.tickOptions.axis=this.name,this.tickOptions.showMark==null&&(this.tickOptions.showMark=this.showTicks),this.tickOptions.showMark==null&&(this.tickOptions.showMark=this.showTickMarks),this.tickOptions.showLabel==null&&(this.tickOptions.showLabel=this.showTicks),this.label==null||this.label==""?this.showLabel=!1:this.labelOptions.label=this.label,this.showLabel==0&&(this.labelOptions.show=!1),this.pad==0&&(this.pad=1),this.padMax==0&&(this.padMax=1),this.padMin==0&&(this.padMin=1),this.padMax==null&&(this.padMax=(this.pad-1)/2+1),this.padMin==null&&(this.padMin=(this.pad-1)/2+1),this.pad=this.padMax+this.padMin-1;if(this.min!=null||this.max!=null)this.autoscale=!1;this.syncTicks==null&&this.name.indexOf("y")>-1?this.syncTicks=!0:this.syncTicks==null&&(this.syncTicks=!1),this.renderer.init.call(this,this.rendererOptions)},n.prototype.draw=function(e,t){return this.__ticks&&(this.__ticks=null),this.renderer.draw.call(this,e,t)},n.prototype.set=function(){this.renderer.set.call(this)},n.prototype.pack=function(e,t){this.show&&this.renderer.pack.call(this,e,t),this._min==null&&(this._min=this.min,this._max=this.max,this._tickInterval=this.tickInterval,this._numberTicks=this.numberTicks,this.__ticks=this._ticks)},n.prototype.reset=function(){this.renderer.reset.call(this)},n.prototype.resetScale=function(t){e.extend(!0,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},t),this.resetDataBounds()},n.prototype.resetDataBounds=function(){var t=this._dataBounds;t.min=null,t.max=null;var n,r,i,s=this.show?!0:!1;for(var o=0;o<this._series.length;o++){r=this._series[o];if(r.show||this.scaleToHiddenSeries){i=r._plotData,r._type==="line"&&r.renderer.bands.show&&this.name.charAt(0)!=="x"&&(i=[[0,r.renderer.bands._min],[1,r.renderer.bands._max]]);var u=1,a=1;r._type!=null&&r._type=="ohlc"&&(u=3,a=2);for(var f=0,n=i.length;f<n;f++)if(this.name=="xaxis"||this.name=="x2axis"){if(i[f][0]!=null&&i[f][0]<t.min||t.min==null)t.min=i[f][0];if(i[f][0]!=null&&i[f][0]>t.max||t.max==null)t.max=i[f][0]}else{if(i[f][u]!=null&&i[f][u]<t.min||t.min==null)t.min=i[f][u];if(i[f][a]!=null&&i[f][a]>t.max||t.max==null)t.max=i[f][a]}if(s&&r.renderer.constructor!==e.jqplot.BarRenderer)s=!1;else if(s&&this._options.hasOwnProperty("forceTickAt0")&&this._options.forceTickAt0==0)s=!1;else if(s&&r.renderer.constructor===e.jqplot.BarRenderer)if(r.barDirection=="vertical"&&this.name!="xaxis"&&this.name!="x2axis"){if(this._options.pad!=null||this._options.padMin!=null)s=!1}else r.barDirection=="horizontal"&&(this.name=="xaxis"||this.name=="x2axis")&&(this._options.pad!=null||this._options.padMin!=null)&&(s=!1)}}s&&this.renderer.constructor===e.jqplot.LinearAxisRenderer&&t.min>=0&&(this.padMin=1,this.forceTickAt0=!0)},r.prototype=new e.jqplot.ElemContainer,r.prototype.constructor=r,r.prototype.setOptions=function(t){e.extend(!0,this,t),this.placement=="inside"&&(this.placement="insideGrid");if(this.xoffset>0){if(this.placement=="insideGrid")switch(this.location){case"nw":case"w":case"sw":this.marginLeft==null&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px";break;case"ne":case"e":case"se":default:this.marginRight==null&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px"}else if(this.placement=="outside")switch(this.location){case"nw":case"w":case"sw":this.marginRight==null&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px";break;case"ne":case"e":case"se":default:this.marginLeft==null&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px"}this.xoffset=0}if(this.yoffset>0){if(this.placement=="outside")switch(this.location){case"sw":case"s":case"se":this.marginTop==null&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px";break;case"ne":case"n":case"nw":default:this.marginBottom==null&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px"}else if(this.placement=="insideGrid")switch(this.location){case"sw":case"s":case"se":this.marginBottom==null&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px";break;case"ne":case"n":case"nw":default:this.marginTop==null&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px"}this.yoffset=0}},r.prototype.init=function(){e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},r.prototype.draw=function(t,n){for(var r=0;r<e.jqplot.preDrawLegendHooks.length;r++)e.jqplot.preDrawLegendHooks[r].call(this,t);return this.renderer.draw.call(this,t,n)},r.prototype.pack=function(e){this.renderer.pack.call(this,e)},i.prototype=new e.jqplot.ElemContainer,i.prototype.constructor=i,i.prototype.init=function(){e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},i.prototype.draw=function(e){return this.renderer.draw.call(this,e)},i.prototype.pack=function(){this.renderer.pack.call(this)},s.prototype=new e.jqplot.ElemContainer,s.prototype.constructor=s,s.prototype.init=function(t,n,r){this.index=t,this.gridBorderWidth=n;var i=this.data,s=[],o,u;for(o=0,u=i.length;o<u;o++)if(!this.breakOnNull){if(i[o]==null||i[o][0]==null||i[o][1]==null)continue;s.push(i[o])}else s.push(i[o]);this.data=s,this.color||(this.color=r.colorGenerator.get(this.index)),this.negativeColor||(this.negativeColor=r.negativeColorGenerator.get(this.index)),this.fillColor||(this.fillColor=this.color);if(this.fillAlpha){var a=e.jqplot.normalize2rgb(this.fillColor),a=e.jqplot.getColorComponents(a);this.fillColor="rgba("+a[0]+","+a[1]+","+a[2]+","+this.fillAlpha+")"}e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions,r),this.markerRenderer=new this.markerRenderer,this.markerOptions.color||(this.markerOptions.color=this.color),this.markerOptions.show==null&&(this.markerOptions.show=this.showMarker),this.showMarker=this.markerOptions.show,this.markerRenderer.init(this.markerOptions)},s.prototype.draw=function(n,r,i){var s=r==t?{}:r;n=n==t?this.canvas._ctx:n;var o,u,a;for(o=0;o<e.jqplot.preDrawSeriesHooks.length;o++)e.jqplot.preDrawSeriesHooks[o].call(this,n,s);this.show&&(this.renderer.setGridData.call(this,i),s.preventJqPlotSeriesDrawTrigger||e(n.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData]),u=[],s.data?u=s.data:this._stack?u=this._plotData:u=this.data,a=s.gridData||this.renderer.makeGridData.call(this,u,i),this._type==="line"&&this.renderer.smooth&&this.renderer._smoothedData.length&&(a=this.renderer._smoothedData),this.renderer.draw.call(this,n,a,s,i));for(o=0;o<e.jqplot.postDrawSeriesHooks.length;o++)e.jqplot.postDrawSeriesHooks[o].call(this,n,s,i);n=r=i=o=u=a=null},s.prototype.drawShadow=function(n,r,i){var s=r==t?{}:r;n=n==t?this.shadowCanvas._ctx:n;var o,u,a;for(o=0;o<e.jqplot.preDrawSeriesShadowHooks.length;o++)e.jqplot.preDrawSeriesShadowHooks[o].call(this,n,s);this.shadow&&(this.renderer.setGridData.call(this,i),u=[],s.data?u=s.data:this._stack?u=this._plotData:u=this.data,a=s.gridData||this.renderer.makeGridData.call(this,u,i),this.renderer.drawShadow.call(this,n,a,s,i));for(o=0;o<e.jqplot.postDrawSeriesShadowHooks.length;o++)e.jqplot.postDrawSeriesShadowHooks[o].call(this,n,s);n=r=i=o=u=a=null},s.prototype.toggleDisplay=function(e,t){var n,r;e.data.series?n=e.data.series:n=this,e.data.speed&&(r=e.data.speed),r?n.canvas._elem.is(":hidden")||!n.show?(n.show=!0,n.canvas._elem.removeClass("jqplot-series-hidden"),n.shadowCanvas._elem&&n.shadowCanvas._elem.fadeIn(r),n.canvas._elem.fadeIn(r,t),n.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+n.index).fadeIn(r)):(n.show=!1,n.canvas._elem.addClass("jqplot-series-hidden"),n.shadowCanvas._elem&&n.shadowCanvas._elem.fadeOut(r),n.canvas._elem.fadeOut(r,t),n.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+n.index).fadeOut(r)):n.canvas._elem.is(":hidden")||!n.show?(n.show=!0,n.canvas._elem.removeClass("jqplot-series-hidden"),n.shadowCanvas._elem&&n.shadowCanvas._elem.show(),n.canvas._elem.show(0,t),n.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+n.index).show()):(n.show=!1,n.canvas._elem.addClass("jqplot-series-hidden"),n.shadowCanvas._elem&&n.shadowCanvas._elem.hide(),n.canvas._elem.hide(0,t),n.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+n.index).hide())},o.prototype=new e.jqplot.ElemContainer,o.prototype.constructor=o,o.prototype.init=function(){e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},o.prototype.createElement=function(e,t){return this._offsets=e,this.renderer.createElement.call(this,t)},o.prototype.draw=function(){this.renderer.draw.call(this)},e.jqplot.GenericCanvas=function(){e.jqplot.ElemContainer.call(this),this._ctx},e.jqplot.GenericCanvas.prototype=new e.jqplot.ElemContainer,e.jqplot.GenericCanvas.prototype.constructor=e.jqplot.GenericCanvas,e.jqplot.GenericCanvas.prototype.createElement=function(n,r,i,s){this._offsets=n;var o="jqplot";r!=t&&(o=r);var u;return u=s.canvasManager.getCanvas(),i!=null&&(this._plotDimensions=i),u.width=this._plotDimensions.width-this._offsets.left-this._offsets.right,u.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom,this._elem=e(u),this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(o),u=s.canvasManager.initCanvas(u),u=null,this._elem},e.jqplot.GenericCanvas.prototype.setContext=function(){return this._ctx=this._elem.get(0).getContext("2d"),this._ctx},e.jqplot.GenericCanvas.prototype.resetCanvas=function(){this._elem&&(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce()),this._ctx=null},e.jqplot.HooksManager=function(){this.hooks=[],this.args=[]},e.jqplot.HooksManager.prototype.addOnce=function(e,t){t=t||[];var n=!1;for(var r=0,i=this.hooks.length;r<i;r++)this.hooks[r]==e&&(n=!0);n||(this.hooks.push(e),this.args.push(t))},e.jqplot.HooksManager.prototype.add=function(e,t){t=t||[],this.hooks.push(e),this.args.push(t)},e.jqplot.EventListenerManager=function(){this.hooks=[]},e.jqplot.EventListenerManager.prototype.addOnce=function(e,t){var n=!1,r,i;for(var i=0,s=this.hooks.length;i<s;i++)r=this.hooks[i],r[0]==e&&r[1]==t&&(n=!0);n||this.hooks.push([e,t])},e.jqplot.EventListenerManager.prototype.add=function(e,t){this.hooks.push([e,t])};var u=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];e.jqplot.computeHighlightColors=function(t){var n;if(e.isArray(t)){n=[];for(var r=0;r<t.length;r++){var i=e.jqplot.getColorComponents(t[r]),s=[i[0],i[1],i[2]],o=s[0]+s[1]+s[2];for(var u=0;u<3;u++)s[u]=o>660?s[u]*.85:.73*s[u]+90,s[u]=parseInt(s[u],10),s[u]>255?255:s[u];s[3]=.3+.35*i[3],n.push("rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")")}}else{var i=e.jqplot.getColorComponents(t),s=[i[0],i[1],i[2]],o=s[0]+s[1]+s[2];for(var u=0;u<3;u++)s[u]=o>660?s[u]*.85:.73*s[u]+90,s[u]=parseInt(s[u],10),s[u]>255?255:s[u];s[3]=.3+.35*i[3],n="rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"}return n},e.jqplot.ColorGenerator=function(t){t=t||e.jqplot.config.defaultColors;var n=0;this.next=function(){return n<t.length?t[n++]:(n=0,t[n++])},this.previous=function(){return n>0?t[n--]:(n=t.length-1,t[n])},this.get=function(e){var n=e-t.length*Math.floor(e/t.length);return t[n]},this.setColors=function(e){t=e},this.reset=function(){n=0},this.getIndex=function(){return n},this.setIndex=function(e){n=e}},e.jqplot.hex2rgb=function(e,t){e=e.replace("#",""),e.length==3&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2));var n;return n="rgba("+parseInt(e.slice(0,2),16)+", "+parseInt(e.slice(2,4),16)+", "+parseInt(e.slice(4,6),16),t&&(n+=", "+t),n+=")",n},e.jqplot.rgb2hex=function(e){var t=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/,n=e.match(t),r="#";for(var i=1;i<4;i++){var s;n[i].search(/%/)!=-1?(s=parseInt(255*n[i]/100,10).toString(16),s.length==1&&(s="0"+s)):(s=parseInt(n[i],10).toString(16),s.length==1&&(s="0"+s)),r+=s}return r},e.jqplot.normalize2rgb=function(t,n){if(t.search(/^ *rgba?\(/)!=-1)return t;if(t.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/)!=-1)return e.jqplot.hex2rgb(t,n);throw new Error("Invalid color spec")},e.jqplot.getColorComponents=function(t){t=e.jqplot.colorKeywordMap[t]||t;var n=e.jqplot.normalize2rgb(t),r=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/,i=n.match(r),s=[];for(var o=1;o<4;o++)i[o].search(/%/)!=-1?s[o-1]=parseInt(255*i[o]/100,10):s[o-1]=parseInt(i[o],10);return s[3]=parseFloat(i[4])?parseFloat(i[4]):1,s},e.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"},e.jqplot.AxisLabelRenderer=function(t){e.jqplot.ElemContainer.call(this),this.axis,this.show=!0,this.label="",this.fontFamily=null,this.fontSize=null,this.textColor=null,this._elem,this.escapeHTML=!1,e.extend(!0,this,t)},e.jqplot.AxisLabelRenderer.prototype=new e.jqplot.ElemContainer,e.jqplot.AxisLabelRenderer.prototype.constructor=e.jqplot.AxisLabelRenderer,e.jqplot.AxisLabelRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.AxisLabelRenderer.prototype.draw=function(t,n){return this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=e('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>'),Number(this.label)&&this._elem.css("white-space","nowrap"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._elem},e.jqplot.AxisLabelRenderer.prototype.pack=function(){},e.jqplot.AxisTickRenderer=function(t){e.jqplot.ElemContainer.call(this),this.mark="outside",this.axis,this.showMark=!0,this.showGridline=!0,this.isMinorTick=!1,this.size=4,this.markSize=6,this.show=!0,this.showLabel=!0,this.label=null,this.value=null,this._styles={},this.formatter=e.jqplot.DefaultTickFormatter,this.prefix="",this.suffix="",this.formatString="",this.fontFamily,this.fontSize,this.textColor,this.escapeHTML=!1,this._elem,this._breakTick=!1,e.extend(!0,this,t)},e.jqplot.AxisTickRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.AxisTickRenderer.prototype=new e.jqplot.ElemContainer,e.jqplot.AxisTickRenderer.prototype.constructor=e.jqplot.AxisTickRenderer,e.jqplot.AxisTickRenderer.prototype.setTick=function(e,t,n){return this.value=e,this.axis=t,n&&(this.isMinorTick=!0),this},e.jqplot.AxisTickRenderer.prototype.draw=function(){this.label===null&&(this.label=this.prefix+this.formatter(this.formatString,this.value)+this.suffix);var t={position:"absolute"};Number(this.label)&&(t.whitSpace="nowrap"),this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=e(document.createElement("div")),this._elem.addClass("jqplot-"+this.axis+"-tick"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this._elem.css(t);for(var n in this._styles)this._elem.css(n,this._styles[n]);return this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._breakTick&&this._elem.addClass("jqplot-breakTick"),this._elem},e.jqplot.DefaultTickFormatter=function(t,n){return typeof n=="number"?(t||(t=e.jqplot.config.defaultTickFormatString),e.jqplot.sprintf(t,n)):String(n)},e.jqplot.PercentTickFormatter=function(t,n){return typeof n=="number"?(n=100*n,t||(t=e.jqplot.config.defaultTickFormatString),e.jqplot.sprintf(t,n)):String(n)},e.jqplot.AxisTickRenderer.prototype.pack=function(){},e.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new e.jqplot.ShadowRenderer},e.jqplot.CanvasGridRenderer.prototype.init=function(t){this._ctx,e.extend(!0,this,t);var n={lineJoin:"miter",lineCap:"round",fill:!1,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:!1,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(n)},e.jqplot.CanvasGridRenderer.prototype.createElement=function(n){var r;this._elem&&(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t&&(r=this._elem.get(0),window.G_vmlCanvasManager.uninitElement(r),r=null),this._elem.emptyForce(),this._elem=null),r=n.canvasManager.getCanvas();var i=this._plotDimensions.width,s=this._plotDimensions.height;return r.width=i,r.height=s,this._elem=e(r),this._elem.addClass("jqplot-grid-canvas"),this._elem.css({position:"absolute",left:0,top:0}),r=n.canvasManager.initCanvas(r),this._top=this._offsets.top,this._bottom=s-this._offsets.bottom,this._left=this._offsets.left,this._right=i-this._offsets.right,this._width=this._right-this._left,this._height=this._bottom-this._top,r=null,this._elem},e.jqplot.CanvasGridRenderer.prototype.draw=function(){function E(n,r,i,s,o){t.save(),o=o||{};if(o.lineWidth==null||o.lineWidth!=0)e.extend(!0,t,o),t.beginPath(),t.moveTo(n,r),t.lineTo(i,s),t.stroke(),t.restore()}this._ctx=this._elem.get(0).getContext("2d");var t=this._ctx,n=this._axes;t.save(),t.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height),t.fillStyle=this.backgroundColor||this.background,t.fillRect(this._left,this._top,this._width,this._height),t.save(),t.lineJoin="miter",t.lineCap="butt",t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor;var r,i,s,o,u=["xaxis","yaxis","x2axis","y2axis"];for(var a=4;a>0;a--){var f=u[a-1],l=n[f],c=l._ticks,h=c.length;if(l.show){if(l.drawBaseline){var p={};l.baselineWidth!==null&&(p.lineWidth=l.baselineWidth),l.baselineColor!==null&&(p.strokeStyle=l.baselineColor);switch(f){case"xaxis":E(this._left,this._bottom,this._right,this._bottom,p);break;case"yaxis":E(this._left,this._bottom,this._left,this._top,p);break;case"x2axis":E(this._left,this._bottom,this._right,this._bottom,p);break;case"y2axis":E(this._right,this._bottom,this._right,this._top,p)}}for(var d=h;d>0;d--){var v=c[d-1];if(v.show){var m=Math.round(l.u2p(v.value))+.5;switch(f){case"xaxis":v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&l.drawMajorGridlines||v.isMinorTick&&l.drawMinorGridlines)&&E(m,this._top,m,this._bottom);if(v.showMark&&v.mark&&(!v.isMinorTick&&l.drawMajorTickMarks||v.isMinorTick&&l.drawMinorTickMarks)){s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;switch(o){case"outside":r=this._bottom,i=this._bottom+s;break;case"inside":r=this._bottom-s,i=this._bottom;break;case"cross":r=this._bottom-s,i=this._bottom+s;break;default:r=this._bottom,i=this._bottom+s}this.shadow&&this.renderer.shadowRenderer.draw(t,[[m,r],[m,i]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*.75,depth:2,fill:!1,closePath:!1}),E(m,r,m,i)}break;case"yaxis":v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&l.drawMajorGridlines||v.isMinorTick&&l.drawMinorGridlines)&&E(this._right,m,this._left,m);if(v.showMark&&v.mark&&(!v.isMinorTick&&l.drawMajorTickMarks||v.isMinorTick&&l.drawMinorTickMarks)){s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;switch(o){case"outside":r=this._left-s,i=this._left;break;case"inside":r=this._left,i=this._left+s;break;case"cross":r=this._left-s,i=this._left+s;break;default:r=this._left-s,i=this._left}this.shadow&&this.renderer.shadowRenderer.draw(t,[[r,m],[i,m]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),E(r,m,i,m,{strokeStyle:l.borderColor})}break;case"x2axis":v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&l.drawMajorGridlines||v.isMinorTick&&l.drawMinorGridlines)&&E(m,this._bottom,m,this._top);if(v.showMark&&v.mark&&(!v.isMinorTick&&l.drawMajorTickMarks||v.isMinorTick&&l.drawMinorTickMarks)){s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;switch(o){case"outside":r=this._top-s,i=this._top;break;case"inside":r=this._top,i=this._top+s;break;case"cross":r=this._top-s,i=this._top+s;break;default:r=this._top-s,i=this._top}this.shadow&&this.renderer.shadowRenderer.draw(t,[[m,r],[m,i]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*.75,depth:2,fill:!1,closePath:!1}),E(m,r,m,i)}break;case"y2axis":v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&l.drawMajorGridlines||v.isMinorTick&&l.drawMinorGridlines)&&E(this._left,m,this._right,m);if(v.showMark&&v.mark&&(!v.isMinorTick&&l.drawMajorTickMarks||v.isMinorTick&&l.drawMinorTickMarks)){s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;switch(o){case"outside":r=this._right,i=this._right+s;break;case"inside":r=this._right-s,i=this._right;break;case"cross":r=this._right-s,i=this._right+s;break;default:r=this._right,i=this._right+s}this.shadow&&this.renderer.shadowRenderer.draw(t,[[r,m],[i,m]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),E(r,m,i,m,{strokeStyle:l.borderColor})}break;default:}}}v=null}l=null,c=null}u=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];for(var a=7;a>0;a--){var l=n[u[a-1]],c=l._ticks;if(l.show){var g=c[l.numberTicks-1],y=c[0],b=l.getLeft(),w=[[b,g.getTop()+g.getHeight()/2],[b,y.getTop()+y.getHeight()/2+1]];this.shadow&&this.renderer.shadowRenderer.draw(t,w,{lineCap:"butt",fill:!1,closePath:!1}),E(w[0][0],w[0][1],w[1][0],w[1][1],{lineCap:"butt",strokeStyle:l.borderColor,lineWidth:l.borderWidth});for(var d=c.length;d>0;d--){var v=c[d-1];s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;if(v.showMark&&v.mark){switch(o){case"outside":r=b,i=b+s;break;case"inside":r=b-s,i=b;break;case"cross":r=b-s,i=b+s;break;default:r=b,i=b+s}w=[[r,m],[i,m]],this.shadow&&this.renderer.shadowRenderer.draw(t,w,{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),E(r,m,i,m,{strokeStyle:l.borderColor})}v=null}y=null}l=null,c=null}t.restore();if(this.shadow){var w=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(t,w)}this.borderWidth!=0&&this.drawBorder&&(E(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:n.x2axis.borderColor,lineWidth:n.x2axis.borderWidth}),E(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:n.y2axis.borderColor,lineWidth:n.y2axis.borderWidth}),E(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:n.xaxis.borderColor,lineWidth:n.xaxis.borderWidth}),E(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:n.yaxis.borderColor,lineWidth:n.yaxis.borderWidth})),t.restore(),t=null,n=null},e.jqplot.DivTitleRenderer=function(){},e.jqplot.DivTitleRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.DivTitleRenderer.prototype.draw=function(){this._elem&&(this._elem.emptyForce(),this._elem=null);var t=this.renderer,n=document.createElement("div");this._elem=e(n),this._elem.addClass("jqplot-title");if(!this.text)this.show=!1,this._elem.height(0),this._elem.width(0);else if(this.text){var r;this.color?r=this.color:this.textColor&&(r=this.textColor);var i={position:"absolute",top:"0px",left:"0px"};this._plotWidth&&(i.width=this._plotWidth+"px"),this.fontSize&&(i.fontSize=this.fontSize),typeof this.textAlign=="string"?i.textAlign=this.textAlign:i.textAlign="center",r&&(i.color=r),this.paddingBottom&&(i.paddingBottom=this.paddingBottom),this.fontFamily&&(i.fontFamily=this.fontFamily),this._elem.css(i),this.escapeHtml?this._elem.text(this.text):this._elem.html(this.text)}return n=null,this._elem},e.jqplot.DivTitleRenderer.prototype.pack=function(){};var f=.1;e.jqplot.LinePattern=function(t,n){var r={dotted:[f,e.jqplot.config.dotGapLength],dashed:[e.jqplot.config.dashLength,e.jqplot.config.gapLength],solid:null};if(typeof n=="string")if(n[0]==="."||n[0]==="-"){var i=n;n=[];for(var s=0,o=i.length;s<o;s++){if(i[s]===".")n.push(f);else{if(i[s]!=="-")continue;n.push(e.jqplot.config.dashLength)}n.push(e.jqplot.config.gapLength)}}else n=r[n];if(!n||!n.length)return t;var u=0,a=n[0],l=0,c=0,h=0,p=0,d=function(e,n){t.moveTo(e,n),l=e,c=n,h=e,p=n},v=function(e,r){var i=t.lineWidth,s=e-l,o=r-c,f=Math.sqrt(s*s+o*o);if(f>0&&i>0){s/=f,o/=f;for(;;){var h=i*a;if(!(h<f)){l=e,c=r,(u&1)==0?t.lineTo(l,c):t.moveTo(l,c),a-=f/i;break}l+=h*s,c+=h*o,(u&1)==0?t.lineTo(l,c):t.moveTo(l,c),f-=h,u++,u>=n.length&&(u=0),a=n[u]}}},m=function(){t.beginPath()},g=function(){v(h,p)};return{moveTo:d,lineTo:v,beginPath:m,closePath:g}},e.jqplot.LineRenderer=function(){this.shapeRenderer=new e.jqplot.ShapeRenderer,this.shadowRenderer=new e.jqplot.ShadowRenderer},e.jqplot.LineRenderer.prototype.init=function(t,n){t=t||{},this._type="line",this.renderer.animation={show:!1,direction:"left",speed:2500,_supported:!0},this.renderer.smooth=!1,this.renderer.tension=null,this.renderer.constrainSmoothing=!0,this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[],this.renderer.bandData=[],this.renderer.bands={show:!1,hiData:[],lowData:[],color:this.color,showLines:!1,fill:!0,fillColor:null,_min:null,_max:null,interval:"3%"};var r={highlightMouseOver:t.highlightMouseOver,highlightMouseDown:t.highlightMouseDown,highlightColor:t.highlightColor};delete t.highlightMouseOver,delete t.highlightMouseDown,delete t.highlightColor,e.extend(!0,this.renderer,t),this.renderer.options=t,this.renderer.bandData.length>1&&(!t.bands||t.bands.show==null)?this.renderer.bands.show=!0:t.bands&&t.bands.show==null&&t.bands.interval!=null&&(this.renderer.bands.show=!0),this.fill&&(this.renderer.bands.show=!1),this.renderer.bands.show&&this.renderer.initBands.call(this,this.renderer.options,n),this._stack&&(this.renderer.smooth=!1);var i={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shapeRenderer.init(i);var s=t.shadowOffset;s==null&&(this.lineWidth>2.5?s=1.25*(1+(Math.atan(this.lineWidth/2.5)/.785398163-1)*.6):s=1.25*Math.atan(this.lineWidth/2.5)/.785398163);var o={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,angle:this.shadowAngle,offset:s,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shadowRenderer.init(o),this._areaPoints=[],this._boundingBox=[[],[]];if(!this.isTrendline&&this.fill||this.renderer.bands.show){this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColor=null,r.highlightMouseDown&&r.highlightMouseOver==null&&(r.highlightMouseOver=!1),e.extend(!0,this,{highlightMouseOver:r.highlightMouseOver,highlightMouseDown:r.highlightMouseDown,highlightColor:r.highlightColor});if(!this.highlightColor){var u=this.renderer.bands.show?this.renderer.bands.fillColor:this.fillColor;this.highlightColor=e.jqplot.computeHighlightColors(u)}this.highlighter&&(this.highlighter.show=!1)}!this.isTrendline&&n&&(n.plugins.lineRenderer={},n.postInitHooks.addOnce(v),n.postDrawHooks.addOnce(m),n.eventListenerHooks.addOnce("jqplotMouseMove",b),n.eventListenerHooks.addOnce("jqplotMouseDown",w),n.eventListenerHooks.addOnce("jqplotMouseUp",E),n.eventListenerHooks.addOnce("jqplotClick",S),n.eventListenerHooks.addOnce("jqplotRightClick",x))},e.jqplot.LineRenderer.prototype.initBands=function(t,n){var r=t.bandData||[],i=this.renderer.bands;i.hiData=[],i.lowData=[];var s=this.data;i._max=null,i._min=null;if(r.length==2)if(e.isArray(r[0][0])){var o,u=0,a=0;for(var f=0,l=r[0].length;f<l;f++){o=r[0][f];if(o[1]!=null&&o[1]>i._max||i._max==null)i._max=o[1];if(o[1]!=null&&o[1]<i._min||i._min==null)i._min=o[1]}for(var f=0,l=r[1].length;f<l;f++){o=r[1][f];if(o[1]!=null&&o[1]>i._max||i._max==null)i._max=o[1],a=1;if(o[1]!=null&&o[1]<i._min||i._min==null)i._min=o[1],u=1}a===u&&(i.show=!1),i.hiData=r[a],i.lowData=r[u]}else if(r[0].length===s.length&&r[1].length===s.length){var c=r[0][0]>r[1][0]?0:1,h=c?0:1;for(var f=0,l=s.length;f<l;f++)i.hiData.push([s[f][0],r[c][f]]),i.lowData.push([s[f][0],r[h][f]])}else i.show=!1;else if(r.length>2&&!e.isArray(r[0][0])){var c=r[0][0]>r[0][1]?0:1,h=c?0:1;for(var f=0,l=r.length;f<l;f++)i.hiData.push([s[f][0],r[f][c]]),i.lowData.push([s[f][0],r[f][h]])}else{var p=i.interval,d=null,v=null,m=null,g=null;e.isArray(p)?(d=p[0],v=p[1]):d=p,isNaN(d)?d.charAt(d.length-1)==="%"&&(m="multiply",d=parseFloat(d)/100+1):(d=parseFloat(d),m="add"),v!==null&&isNaN(v)?v.charAt(v.length-1)==="%"&&(g="multiply",v=parseFloat(v)/100+1):v!==null&&(v=parseFloat(v),g="add");if(d!==null){v===null&&(v=-d,g=m,g==="multiply"&&(v+=2));if(d<v){var y=d;d=v,v=y,y=m,m=g,g=y}for(var f=0,l=s.length;f<l;f++){switch(m){case"add":i.hiData.push([s[f][0],s[f][1]+d]);break;case"multiply":i.hiData.push([s[f][0],s[f][1]*d])}switch(g){case"add":i.lowData.push([s[f][0],s[f][1]+v]);break;case"multiply":i.lowData.push([s[f][0],s[f][1]*v])}}}else i.show=!1}var b=i.hiData,w=i.lowData;for(var f=0,l=b.length;f<l;f++)if(b[f][1]!=null&&b[f][1]>i._max||i._max==null)i._max=b[f][1];for(var f=0,l=w.length;f<l;f++)if(w[f][1]!=null&&w[f][1]<i._min||i._min==null)i._min=w[f][1];if(i.fillColor===null){var E=e.jqplot.getColorComponents(i.color);E[3]=E[3]*.5,i.fillColor="rgba("+E[0]+", "+E[1]+", "+E[2]+", "+E[3]+")"}},e.jqplot.LineRenderer.prototype.setGridData=function(e){var t=this._xaxis.series_u2p,n=this._yaxis.series_u2p,r=this._plotData,i=this._prevPlotData;this.gridData=[],this._prevGridData=[],this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];var s=this.renderer.bands,o=!1;for(var u=0,a=r.length;u<a;u++)r[u][0]!=null&&r[u][1]!=null?this.gridData.push([t.call(this._xaxis,r[u][0]),n.call(this._yaxis,r[u][1])]):r[u][0]==null?(o=!0,this.gridData.push([null,n.call(this._yaxis,r[u][1])])):r[u][1]==null&&(o=!0,this.gridData.push([t.call(this._xaxis,r[u][0]),null])),i[u]!=null&&i[u][0]!=null&&i[u][1]!=null?this._prevGridData.push([t.call(this._xaxis,i[u][0]),n.call(this._yaxis,i[u][1])]):i[u]!=null&&i[u][0]==null?this._prevGridData.push([null,n.call(this._yaxis,i[u][1])]):i[u]!=null&&i[u][0]!=null&&i[u][1]==null&&this._prevGridData.push([t.call(this._xaxis,i[u][0]),null]);o&&(this.renderer.smooth=!1,this._type==="line"&&(s.show=!1));if(this._type==="line"&&s.show){for(var u=0,a=s.hiData.length;u<a;u++)this.renderer._hiBandGridData.push([t.call(this._xaxis,s.hiData[u][0]),n.call(this._yaxis,s.hiData[u][1])]);for(var u=0,a=s.lowData.length;u<a;u++)this.renderer._lowBandGridData.push([t.call(this._xaxis,s.lowData[u][0]),n.call(this._yaxis,s.lowData[u][1])])}if(this._type==="line"&&this.renderer.smooth&&this.gridData.length>2){var f;this.renderer.constrainSmoothing?(f=p.call(this,this.gridData),this.renderer._smoothedData=f[0],this.renderer._smoothedPlotData=f[1],s.show&&(f=p.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=f[0],f=p.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=f[0]),f=null):(f=d.call(this,this.gridData),this.renderer._smoothedData=f[0],this.renderer._smoothedPlotData=f[1],s.show&&(f=d.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=f[0],f=d.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=f[0]),f=null)}},e.jqplot.LineRenderer.prototype.makeGridData=function(e,t){var n=this._xaxis.series_u2p,r=this._yaxis.series_u2p,i=[],s=[];this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];var o=this.renderer.bands,u=!1;for(var a=0;a<e.length;a++)e[a][0]!=null&&e[a][1]!=null?i.push([n.call(this._xaxis,e[a][0]),r.call(this._yaxis,e[a][1])]):e[a][0]==null?(u=!0,i.push([null,r.call(this._yaxis,e[a][1])])):e[a][1]==null&&(u=!0,i.push([n.call(this._xaxis,e[a][0]),null]));u&&(this.renderer.smooth=!1,this._type==="line"&&(o.show=!1));if(this._type==="line"&&o.show){for(var a=0,f=o.hiData.length;a<f;a++)this.renderer._hiBandGridData.push([n.call(this._xaxis,o.hiData[a][0]),r.call(this._yaxis,o.hiData[a][1])]);for(var a=0,f=o.lowData.length;a<f;a++)this.renderer._lowBandGridData.push([n.call(this._xaxis,o.lowData[a][0]),r.call(this._yaxis,o.lowData[a][1])])}if(this._type==="line"&&this.renderer.smooth&&i.length>2){var l;this.renderer.constrainSmoothing?(l=p.call(this,i),this.renderer._smoothedData=l[0],this.renderer._smoothedPlotData=l[1],o.show&&(l=p.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=l[0],l=p.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=l[0]),l=null):(l=d.call(this,i),this.renderer._smoothedData=l[0],this.renderer._smoothedPlotData=l[1],o.show&&(l=d.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=l[0],l=d.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=l[0]),l=null)}return i},e.jqplot.LineRenderer.prototype.draw=function(n,r,i,s){var o,u=e.extend(!0,{},i),a=u.shadow!=t?u.shadow:this.shadow,f=u.showLine!=t?u.showLine:this.showLine,l=u.fill!=t?u.fill:this.fill,c=u.fillAndStroke!=t?u.fillAndStroke:this.fillAndStroke,h,p,d,v;n.save();if(r.length){if(f)if(l){if(this.fillToZero){var m=this.negativeColor;this.useNegativeColors||(m=u.fillStyle);var g=!1,y=u.fillStyle;if(c)var b=r.slice(0);if(this.index==0||!this._stack){var w=[],E=this.renderer.smooth?this.renderer._smoothedPlotData:this._plotData;this._areaPoints=[];var S=this._yaxis.series_u2p(this.fillToValue),x=this._xaxis.series_u2p(this.fillToValue);u.closePath=!0;if(this.fillAxis=="y"){w.push([r[0][0],S]),this._areaPoints.push([r[0][0],S]);for(var o=0;o<r.length-1;o++){w.push(r[o]),this._areaPoints.push(r[o]);if(E[o][1]*E[o+1][1]<=0){E[o][1]<0?(g=!0,u.fillStyle=m):(g=!1,u.fillStyle=y);var T=r[o][0]+(r[o+1][0]-r[o][0])*(S-r[o][1])/(r[o+1][1]-r[o][1]);w.push([T,S]),this._areaPoints.push([T,S]),a&&this.renderer.shadowRenderer.draw(n,w,u),this.renderer.shapeRenderer.draw(n,w,u),w=[[T,S]]}}E[r.length-1][1]<0?(g=!0,u.fillStyle=m):(g=!1,u.fillStyle=y),w.push(r[r.length-1]),this._areaPoints.push(r[r.length-1]),w.push([r[r.length-1][0],S]),this._areaPoints.push([r[r.length-1][0],S])}a&&this.renderer.shadowRenderer.draw(n,w,u),this.renderer.shapeRenderer.draw(n,w,u)}else{var N=this._prevGridData;for(var o=N.length;o>0;o--)r.push(N[o-1]);a&&this.renderer.shadowRenderer.draw(n,r,u),this._areaPoints=r,this.renderer.shapeRenderer.draw(n,r,u)}}else{if(c)var b=r.slice(0);if(this.index==0||!this._stack){var C=n.canvas.height;r.unshift([r[0][0],C]);var k=r.length;r.push([r[k-1][0],C])}else{var N=this._prevGridData;for(var o=N.length;o>0;o--)r.push(N[o-1])}this._areaPoints=r,a&&this.renderer.shadowRenderer.draw(n,r,u),this.renderer.shapeRenderer.draw(n,r,u)}if(c){var L=e.extend(!0,{},u,{fill:!1,closePath:!1});this.renderer.shapeRenderer.draw(n,b,L);if(this.markerRenderer.show){this.renderer.smooth&&(b=this.gridData);for(o=0;o<b.length;o++)this.markerRenderer.draw(b[o][0],b[o][1],n,u.markerOptions)}}}else{if(this.renderer.bands.show){var A,O=e.extend(!0,{},u);this.renderer.bands.showLines&&(A=this.renderer.smooth?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData,this.renderer.shapeRenderer.draw(n,A,u),A=this.renderer.smooth?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData,this.renderer.shapeRenderer.draw(n,A,O)),this.renderer.bands.fill&&(this.renderer.smooth?A=this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse()):A=this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse()),this._areaPoints=A,O.closePath=!0,O.fill=!0,O.fillStyle=this.renderer.bands.fillColor,this.renderer.shapeRenderer.draw(n,A,O))}a&&this.renderer.shadowRenderer.draw(n,r,u),this.renderer.shapeRenderer.draw(n,r,u)}var h=d=p=v=null;for(o=0;o<this._areaPoints.length;o++){var M=this._areaPoints[o];if(h>M[0]||h==null)h=M[0];if(v<M[1]||v==null)v=M[1];if(d<M[0]||d==null)d=M[0];if(p>M[1]||p==null)p=M[1]}this.type==="line"&&this.renderer.bands.show&&(v=this._yaxis.series_u2p(this.renderer.bands._min),p=this._yaxis.series_u2p(this.renderer.bands._max)),this._boundingBox=[[h,v],[d,p]];if(this.markerRenderer.show&&!l){this.renderer.smooth&&(r=this.gridData);for(o=0;o<r.length;o++)r[o][0]!=null&&r[o][1]!=null&&this.markerRenderer.draw(r[o][0],r[o][1],n,u.markerOptions)}}n.restore()},e.jqplot.LineRenderer.prototype.drawShadow=function(e,t,n){},e.jqplot.LinearAxisRenderer=function(){},e.jqplot.LinearAxisRenderer.prototype.init=function(t){this.breakPoints=null,this.breakTickLabel="&asymp;",this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.forceTickAt0=!1,this.forceTickAt100=!1,this.tickInset=0,this.minorTicks=0,this.alignTicks=!1,this._autoFormatString="",this._overrideFormatString=!1,this._scalefact=1,e.extend(!0,this,t);if(this.breakPoints)if(!e.isArray(this.breakPoints))this.breakPoints=null;else if(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0])this.breakPoints=null;this.numberTicks!=null&&this.numberTicks<2&&(this.numberTicks=2),this.resetDataBounds()},e.jqplot.LinearAxisRenderer.prototype.draw=function(t,n){if(this.show){this.renderer.createTicks.call(this,n);var r=0,i;this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=e(document.createElement("div")),this._elem.addClass("jqplot-axis jqplot-"+this.name),this._elem.css("position","absolute"),this.name=="xaxis"||this.name=="x2axis"?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions);if(this._label.show){var s=this._label.draw(t,n);s.appendTo(this._elem),s=null}var o=this._ticks,u;for(var a=0;a<o.length;a++)u=o[a],u.show&&u.showLabel&&(!u.isMinorTick||this.showMinorTicks)&&this._elem.append(u.draw(t,n));u=null,o=null}return this._elem},e.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString="")},e.jqplot.LinearAxisRenderer.prototype.set=function(){var t=0,n,r=0,i=0,s=this._label==null?!1:this._label.show;if(this.show){var o=this._ticks,u;for(var a=0;a<o.length;a++)u=o[a],!u._breakTick&&u.show&&u.showLabel&&(!u.isMinorTick||this.showMinorTicks)&&(this.name=="xaxis"||this.name=="x2axis"?n=u._elem.outerHeight(!0):n=u._elem.outerWidth(!0),n>t&&(t=n));u=null,o=null,s&&(r=this._label._elem.outerWidth(!0),i=this._label._elem.outerHeight(!0)),this.name=="xaxis"?(t+=i,this._elem.css({height:t+"px",left:"0px",bottom:"0px"})):this.name=="x2axis"?(t+=i,this._elem.css({height:t+"px",left:"0px",top:"0px"})):this.name=="yaxis"?(t+=r,this._elem.css({width:t+"px",left:"0px",top:"0px"}),s&&this._label.constructor==e.jqplot.AxisLabelRenderer&&this._label._elem.css("width",r+"px")):(t+=r,this._elem.css({width:t+"px",right:"0px",top:"0px"}),s&&this._label.constructor==e.jqplot.AxisLabelRenderer&&this._label._elem.css("width",r+"px"))}},e.jqplot.LinearAxisRenderer.prototype.createTicks=function(t){var n=this._ticks,r=this.ticks,i=this.name,s=this._dataBounds,o=this.name.charAt(0)==="x"?this._plotDimensions.width:this._plotDimensions.height,u,a,f,l,c,h,p,d=this.min,v=this.max,m=this.numberTicks,g=this.tickInterval,y=30;this._scalefact=(Math.max(o,y+1)-y)/300;if(r.length){for(p=0;p<r.length;p++){var b=r[p],w=new this.tickRenderer(this.tickOptions);e.isArray(b)?(w.value=b[0],this.breakPoints?b[0]==this.breakPoints[0]?(w.label=this.breakTickLabel,w._breakTick=!0,w.showGridline=!1,w.showMark=!1):b[0]>this.breakPoints[0]&&b[0]<=this.breakPoints[1]?(w.show=!1,w.showGridline=!1,w.label=b[1]):w.label=b[1]:w.label=b[1],w.setTick(b[0],this.name),this._ticks.push(w)):e.isPlainObject(b)?(e.extend(!0,w,b),w.axis=this.name,this._ticks.push(w)):(w.value=b,this.breakPoints&&(b==this.breakPoints[0]?(w.label=this.breakTickLabel,w._breakTick=!0,w.showGridline=!1,w.showMark=!1):b>this.breakPoints[0]&&b<=this.breakPoints[1]&&(w.show=!1,w.showGridline=!1)),w.setTick(b,this.name),this._ticks.push(w))}this.numberTicks=r.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.tickInterval=(this.max-this.min)/(this.numberTicks-1)}else{i=="xaxis"||i=="x2axis"?o=this._plotDimensions.width:o=this._plotDimensions.height;var E=this.numberTicks;this.alignTicks&&(this.name==="x2axis"&&t.axes.xaxis.show?E=t.axes.xaxis.numberTicks:this.name.charAt(0)==="y"&&this.name!=="yaxis"&&this.name!=="yMidAxis"&&t.axes.yaxis.show&&(E=t.axes.yaxis.numberTicks)),a=this.min!=null?this.min:s.min,f=this.max!=null?this.max:s.max;var S=f-a,x,T,N;if(this.tickOptions==null||!this.tickOptions.formatString)this._overrideFormatString=!0;if(this.min==null||this.max==null&&this.tickInterval==null&&!this.autoscale){this.forceTickAt0&&(a>0&&(a=0),f<0&&(f=0)),this.forceTickAt100&&(a>100&&(a=100),f<100&&(f=100));var C=!1,k=!1;this.min!=null?C=!0:this.max!=null&&(k=!0);var L=e.jqplot.LinearTickGenerator(a,f,this._scalefact,E,C,k),A=this.min!=null?a:a+S*(this.padMin-1),O=this.max!=null?f:f-S*(this.padMax-1);if(a<A||f>O)A=this.min!=null?a:a-S*(this.padMin-1),O=this.max!=null?f:f+S*(this.padMax-1),L=e.jqplot.LinearTickGenerator(A,O,this._scalefact,E,C,k);this.min=L[0],this.max=L[1],this.numberTicks=L[2],this._autoFormatString=L[3],this.tickInterval=L[4]}else{if(a==f){var M=.05;a>0&&(M=Math.max(Math.log(a)/Math.LN10,.05)),a-=M,f+=M}if(this.autoscale&&this.min==null&&this.max==null){var _,D,P,H=!1,B=!1,j={min:null,max:null,average:null,stddev:null};for(var p=0;p<this._series.length;p++){var F=this._series[p],I=F.fillAxis=="x"?F._xaxis.name:F._yaxis.name;if(this.name==I){var q=F._plotValues[F.fillAxis],R=q[0],U=q[0];for(var z=1;z<q.length;z++)q[z]<R?R=q[z]:q[z]>U&&(U=q[z]);var W=(U-R)/U;F.renderer.constructor==e.jqplot.BarRenderer?R>=0&&(F.fillToZero||W>.1)?H=!0:(H=!1,F.fill&&F.fillToZero&&R<0&&U>0?B=!0:B=!1):F.fill?R>=0&&(F.fillToZero||W>.1)?H=!0:R<0&&U>0&&F.fillToZero?(H=!1,B=!0):(H=!1,B=!1):R<0&&(H=!1)}}if(H)this.numberTicks=2+Math.ceil((o-(this.tickSpacing-1))/this.tickSpacing),this.min=0,d=0,D=f/(this.numberTicks-1),N=Math.pow(10,Math.abs(Math.floor(Math.log(D)/Math.LN10))),D/N==parseInt(D/N,10)&&(D+=N),this.tickInterval=Math.ceil(D/N)*N,this.max=this.tickInterval*(this.numberTicks-1);else if(B){this.numberTicks=2+Math.ceil((o-(this.tickSpacing-1))/this.tickSpacing);var X=Math.ceil(Math.abs(a)/S*(this.numberTicks-1)),V=this.numberTicks-1-X;D=Math.max(Math.abs(a/X),Math.abs(f/V)),N=Math.pow(10,Math.abs(Math.floor(Math.log(D)/Math.LN10))),this.tickInterval=Math.ceil(D/N)*N,this.max=this.tickInterval*V,this.min=-this.tickInterval*X}else this.numberTicks==null&&(this.tickInterval?this.numberTicks=3+Math.ceil(S/this.tickInterval):this.numberTicks=2+Math.ceil((o-(this.tickSpacing-1))/this.tickSpacing)),this.tickInterval==null?(D=S/(this.numberTicks-1),D<1?N=Math.pow(10,Math.abs(Math.floor(Math.log(D)/Math.LN10))):N=1,this.tickInterval=Math.ceil(D*N*this.pad)/N):N=1/this.tickInterval,_=this.tickInterval*(this.numberTicks-1),P=(_-S)/2,this.min==null&&(this.min=Math.floor(N*(a-P))/N),this.max==null&&(this.max=this.min+_);var $=e.jqplot.getSignificantFigures(this.tickInterval),J;if($.digitsLeft>=$.significantDigits)J="%d";else{var N=Math.max(0,5-$.digitsLeft);N=Math.min(N,$.digitsRight),J="%."+N+"f"}this._autoFormatString=J}else{x=this.min!=null?this.min:a-S*(this.padMin-1),T=this.max!=null?this.max:f+S*(this.padMax-1),S=T-x,this.numberTicks==null&&(this.tickInterval!=null?this.numberTicks=Math.ceil((T-x)/this.tickInterval)+1:o>100?this.numberTicks=parseInt(3+(o-100)/75,10):this.numberTicks=2),this.tickInterval==null&&(this.tickInterval=S/(this.numberTicks-1)),this.max==null&&(T=x+this.tickInterval*(this.numberTicks-1)),this.min==null&&(x=T-this.tickInterval*(this.numberTicks-1));var $=e.jqplot.getSignificantFigures(this.tickInterval),J;if($.digitsLeft>=$.significantDigits)J="%d";else{var N=Math.max(0,5-$.digitsLeft);N=Math.min(N,$.digitsRight),J="%."+N+"f"}this._autoFormatString=J,this.min=x,this.max=T}if(this.renderer.constructor==e.jqplot.LinearAxisRenderer&&this._autoFormatString==""){S=this.max-this.min;var K=new this.tickRenderer(this.tickOptions),Q=K.formatString||e.jqplot.config.defaultTickFormatString,Q=Q.match(e.jqplot.sprintf.regex)[0],G=0;if(Q){if(Q.search(/[fFeEgGpP]/)>-1){var Y=Q.match(/\%\.(\d{0,})?[eEfFgGpP]/);Y?G=parseInt(Y[1],10):G=6}else Q.search(/[di]/)>-1&&(G=0);var Z=Math.pow(10,-G);if(this.tickInterval<Z&&m==null&&g==null){this.tickInterval=Z;if(v==null&&d==null){this.min=Math.floor(this._dataBounds.min/Z)*Z,this.min==this._dataBounds.min&&(this.min=this._dataBounds.min-this.tickInterval),this.max=Math.ceil(this._dataBounds.max/Z)*Z,this.max==this._dataBounds.max&&(this.max=this._dataBounds.max+this.tickInterval);var et=(this.max-this.min)/this.tickInterval;et=et.toFixed(11),et=Math.ceil(et),this.numberTicks=et+1}else if(v==null){var et=(this._dataBounds.max-this.min)/this.tickInterval;et=et.toFixed(11),this.numberTicks=Math.ceil(et)+2,this.max=this.min+this.tickInterval*(this.numberTicks-1)}else if(d==null){var et=(this.max-this._dataBounds.min)/this.tickInterval;et=et.toFixed(11),this.numberTicks=Math.ceil(et)+2,this.min=this.max-this.tickInterval*(this.numberTicks-1)}else this.numberTicks=Math.ceil((v-d)/this.tickInterval)+1,this.min=Math.floor(d*Math.pow(10,G))/Math.pow(10,G),this.max=Math.ceil(v*Math.pow(10,G))/Math.pow(10,G),this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1}}}}this._overrideFormatString&&this._autoFormatString!=""&&(this.tickOptions=this.tickOptions||{},this.tickOptions.formatString=this._autoFormatString);var w,tt;for(var p=0;p<this.numberTicks;p++){h=this.min+p*this.tickInterval,w=new this.tickRenderer(this.tickOptions),w.setTick(h,this.name),this._ticks.push(w);if(p<this.numberTicks-1)for(var z=0;z<this.minorTicks;z++)h+=this.tickInterval/(this.minorTicks+1),tt=e.extend(!0,{},this.tickOptions,{name:this.name,value:h,label:"",isMinorTick:!0}),w=new this.tickRenderer(tt),this._ticks.push(w);w=null}}this.tickInset&&(this.min=this.min-this.tickInset*this.tickInterval,this.max=this.max+this.tickInset*this.tickInterval),n=null},e.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(t){if(e.isArray(t)&&t.length==this._ticks.length){var n;for(var r=0;r<t.length;r++)n=this._ticks[r],n.value=t[r],n.label=n.formatter(n.formatString,t[r]),n.label=n.prefix+n.label,n._elem.html(n.label);n=null,this.min=e.jqplot.arrayMin(t),this.max=e.jqplot.arrayMax(t),this.pack()}},e.jqplot.LinearAxisRenderer.prototype.pack=function(t,n){t=t||{},n=n||this._offsets;var r=this._ticks,i=this.max,s=this.min,o=n.max,u=n.min,a=this._label==null?!1:this._label.show;for(var f in t)this._elem.css(f,t[f]);this._offsets=n;var l=o-u,c=i-s;this.breakPoints?(c=c-this.breakPoints[1]+this.breakPoints[0],this.p2u=function(e){return(e-u)*c/l+s},this.u2p=function(e){return e>this.breakPoints[0]&&e<this.breakPoints[1]&&(e=this.breakPoints[0]),e<=this.breakPoints[0]?(e-s)*l/c+u:(e-this.breakPoints[1]+this.breakPoints[0]-s)*l/c+u},this.name.charAt(0)=="x"?(this.series_u2p=function(e){return e>this.breakPoints[0]&&e<this.breakPoints[1]&&(e=this.breakPoints[0]),e<=this.breakPoints[0]?(e-s)*l/c:(e-this.breakPoints[1]+this.breakPoints[0]-s)*l/c},this.series_p2u=function(e){return e*c/l+s}):(this.series_u2p=function(e){return e>this.breakPoints[0]&&e<this.breakPoints[1]&&(e=this.breakPoints[0]),e>=this.breakPoints[1]?(e-i)*l/c:(e+this.breakPoints[1]-this.breakPoints[0]-i)*l/c},this.series_p2u=function(e){return e*c/l+i})):(this.p2u=function(e){return(e-u)*c/l+s},this.u2p=function(e){return(e-s)*l/c+u},this.name=="xaxis"||this.name=="x2axis"?(this.series_u2p=function(e){return(e-s)*l/c},this.series_p2u=function(e){return e*c/l+s}):(this.series_u2p=function(e){return(e-i)*l/c},this.series_p2u=function(e){return e*c/l+i}));if(this.show)if(this.name=="xaxis"||this.name=="x2axis"){for(var h=0;h<r.length;h++){var p=r[h];if(p.show&&p.showLabel){var d;if(p.constructor==e.jqplot.CanvasAxisTickRenderer&&p.angle){var v=this.name=="xaxis"?1:-1;switch(p.labelPosition){case"auto":v*p.angle<0?d=-p.getWidth()+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2:d=-p._textRenderer.height*Math.sin(p._textRenderer.angle)/2;break;case"end":d=-p.getWidth()+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2;break;case"start":d=-p._textRenderer.height*Math.sin(p._textRenderer.angle)/2;break;case"middle":d=-p.getWidth()/2+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2;break;default:d=-p.getWidth()/2+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2}}else d=-p.getWidth()/2;var m=this.u2p(p.value)+d+"px";p._elem.css("left",m),p.pack()}}if(a){var g=this._label._elem.outerWidth(!0);this._label._elem.css("left",u+l/2-g/2+"px"),this.name=="xaxis"?this._label._elem.css("bottom","0px"):this._label._elem.css("top","0px"),this._label.pack()}}else{for(var h=0;h<r.length;h++){var p=r[h];if(p.show&&p.showLabel){var d;if(p.constructor==e.jqplot.CanvasAxisTickRenderer&&p.angle){var v=this.name=="yaxis"?1:-1;switch(p.labelPosition){case"auto":case"end":v*p.angle<0?d=-p._textRenderer.height*Math.cos(-p._textRenderer.angle)/2:d=-p.getHeight()+p._textRenderer.height*Math.cos(p._textRenderer.angle)/2;break;case"start":p.angle>0?d=-p._textRenderer.height*Math.cos(-p._textRenderer.angle)/2:d=-p.getHeight()+p._textRenderer.height*Math.cos(p._textRenderer.angle)/2;break;case"middle":d=-p.getHeight()/2;break;default:d=-p.getHeight()/2}}else d=-p.getHeight()/2;var m=this.u2p(p.value)+d+"px";p._elem.css("top",m),p.pack()}}if(a){var y=this._label._elem.outerHeight(!0);this._label._elem.css("top",o-l/2-y/2+"px"),this.name=="yaxis"?this._label._elem.css("left","0px"):this._label._elem.css("right","0px"),this._label.pack()}}r=null};var N=[.1,.2,.3,.4,.5,.8,1,2,3,4,5],C=function(e){var t=N.indexOf(e);return t>0?N[t-1]:N[N.length-1]/100},k=function(e){var t=N.indexOf(e);return t<N.length-1?N[t+1]:N[0]*100};e.jqplot.LinearTickGenerator=function(t,n,r,i,s,o){s=s===null?!1:s,o=o===null||s?!1:o,t===n&&(n=n?0:1),r=r||1;if(n<t){var u=n;n=t,t=u}var a=[],f=O(n-t,r),l=e.jqplot.getSignificantFigures;if(i==null){if(!s&&!o)a[0]=Math.floor(t/f)*f,a[1]=Math.ceil(n/f)*f,a[2]=Math.round((a[1]-a[0])/f+1),a[3]=T(f),a[4]=f;else if(s){a[0]=t,a[2]=Math.ceil((n-t)/f+1),a[1]=t+(a[2]-1)*f;var c=l(t).digitsRight,h=l(f).digitsRight;c<h?a[3]=T(f):a[3]="%."+c+"f",a[4]=f}else if(o){a[1]=n,a[2]=Math.ceil((n-t)/f+1),a[0]=n-(a[2]-1)*f;var p=l(n).digitsRight,h=l(f).digitsRight;p<h?a[3]=T(f):a[3]="%."+p+"f",a[4]=f}}else{var d=[];d[0]=Math.floor(t/f)*f,d[1]=Math.ceil(n/f)*f,d[2]=Math.round((d[1]-d[0])/f+1),d[3]=T(f),d[4]=f;if(d[2]===i)a=d;else{var v=A(d[1]-d[0],i);a[0]=d[0],a[2]=i,a[4]=v,a[3]=T(v),a[1]=a[0]+(a[2]-1)*a[4]}}return a},e.jqplot.LinearTickGenerator.bestLinearInterval=O,e.jqplot.LinearTickGenerator.bestInterval=A,e.jqplot.LinearTickGenerator.bestLinearComponents=M,e.jqplot.LinearTickGenerator.bestConstrainedInterval=L,e.jqplot.MarkerRenderer=function(t){this.show=!0,this.style="filledCircle",this.lineWidth=2,this.size=9,this.color="#666666",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1,this.shadowDepth=3,this.shadowAlpha="0.07",this.shadowRenderer=new e.jqplot.ShadowRenderer,this.shapeRenderer=new e.jqplot.ShapeRenderer,e.extend(!0,this,t)},e.jqplot.MarkerRenderer.prototype.init=function(t){e.extend(!0,this,t);var n={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:!0};this.style.indexOf("filled")!=-1&&(n.fill=!0),this.style.indexOf("ircle")!=-1&&(n.isarc=!0,n.closePath=!1),this.shadowRenderer.init(n);var r={fill:!1,isarc:!1,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:!0};this.style.indexOf("filled")!=-1&&(r.fill=!0),this.style.indexOf("ircle")!=-1&&(r.isarc=!0,r.closePath=!1),this.shapeRenderer.init(r)},e.jqplot.MarkerRenderer.prototype.drawDiamond=function(e,t,n,r,i){var s=1.2,o=this.size/2/s,u=this.size/2*s,a=[[e-o,t],[e,t+u],[e+o,t],[e,t-u]];this.shadow&&this.shadowRenderer.draw(n,a),this.shapeRenderer.draw(n,a,i)},e.jqplot.MarkerRenderer.prototype.drawPlus=function(t,n,r,i,s){var o=1,u=this.size/2*o,a=this.size/2*o,f=[[t,n-a],[t,n+a]],l=[[t+u,n],[t-u,n]],c=e.extend(!0,{},this.options,{closePath:!1});this.shadow&&(this.shadowRenderer.draw(r,f,{closePath:!1}),this.shadowRenderer.draw(r,l,{closePath:!1})),this.shapeRenderer.draw(r,f,c),this.shapeRenderer.draw(r,l,c)},e.jqplot.MarkerRenderer.prototype.drawX=function(t,n,r,i,s){var o=1,u=this.size/2*o,a=this.size/2*o,f=e.extend(!0,{},this.options,{closePath:!1}),l=[[t-u,n-a],[t+u,n+a]],c=[[t-u,n+a],[t+u,n-a]];this.shadow&&(this.shadowRenderer.draw(r,l,{closePath:!1}),this.shadowRenderer.draw(r,c,{closePath:!1})),this.shapeRenderer.draw(r,l,f),this.shapeRenderer.draw(r,c,f)},e.jqplot.MarkerRenderer.prototype.drawDash=function(e,t,n,r,i){var s=1,o=this.size/2*s,u=this.size/2*s,a=[[e-o,t],[e+o,t]];this.shadow&&this.shadowRenderer.draw(n,a),this.shapeRenderer.draw(n,a,i)},e.jqplot.MarkerRenderer.prototype.drawLine=function(e,t,n,r,i){var s=[e,t];this.shadow&&this.shadowRenderer.draw(n,s),this.shapeRenderer.draw(n,s,i)},e.jqplot.MarkerRenderer.prototype.drawSquare=function(e,t,n,r,i){var s=1,o=this.size/2/s,u=this.size/2*s,a=[[e-o,t-u],[e-o,t+u],[e+o,t+u],[e+o,t-u]];this.shadow&&this.shadowRenderer.draw(n,a),this.shapeRenderer.draw(n,a,i)},e.jqplot.MarkerRenderer.prototype.drawCircle=function(e,t,n,r,i){var s=this.size/2,o=2*Math.PI,u=[e,t,s,0,o,!0];this.shadow&&this.shadowRenderer.draw(n,u),this.shapeRenderer.draw(n,u,i)},e.jqplot.MarkerRenderer.prototype.draw=function(e,t,n,r){r=r||{};if(r.show==null||r.show!=0){r.color&&!r.fillStyle&&(r.fillStyle=r.color),r.color&&!r.strokeStyle&&(r.strokeStyle=r.color);switch(this.style){case"diamond":this.drawDiamond(e,t,n,!1,r);break;case"filledDiamond":this.drawDiamond(e,t,n,!0,r);break;case"circle":this.drawCircle(e,t,n,!1,r);break;case"filledCircle":this.drawCircle(e,t,n,!0,r);break;case"square":this.drawSquare(e,t,n,!1,r);break;case"filledSquare":this.drawSquare(e,t,n,!0,r);break;case"x":this.drawX(e,t,n,!0,r);break;case"plus":this.drawPlus(e,t,n,!0,r);break;case"dash":this.drawDash(e,t,n,!0,r);break;case"line":this.drawLine(e,t,n,!1,r);break;default:this.drawDiamond(e,t,n,!1,r)}}},e.jqplot.ShadowRenderer=function(t){this.angle=45,this.offset=1,this.alpha=.07,this.lineWidth=1.5,this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.depth=3,this.strokeStyle="rgba(0,0,0,0.1)",this.isarc=!1,e.extend(!0,this,t)},e.jqplot.ShadowRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.ShadowRenderer.prototype.draw=function(t,n,r){t.save();var i=r!=null?r:{},s=i.fill!=null?i.fill:this.fill,o=i.fillRect!=null?i.fillRect:this.fillRect,u=i.closePath!=null?i.closePath:this.closePath,a=i.offset!=null?i.offset:this.offset,f=i.alpha!=null?i.alpha:this.alpha,l=i.depth!=null?i.depth:this.depth,c=i.isarc!=null?i.isarc:this.isarc,h=i.linePattern!=null?i.linePattern:this.linePattern;t.lineWidth=i.lineWidth!=null?i.lineWidth:this.lineWidth,t.lineJoin=i.lineJoin!=null?i.lineJoin:this.lineJoin,t.lineCap=i.lineCap!=null?i.lineCap:this.lineCap,t.strokeStyle=i.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+f+")",t.fillStyle=i.fillStyle||this.fillStyle||"rgba(0,0,0,"+f+")";for(var p=0;p<l;p++){var d=e.jqplot.LinePattern(t,h);t.translate(Math.cos(this.angle*Math.PI/180)*a,Math.sin(this.angle*Math.PI/180)*a),d.beginPath();if(c)t.arc(n[0],n[1],n[2],n[3],n[4],!0);else if(o)o&&t.fillRect(n[0],n[1],n[2],n[3]);else if(n&&n.length){var v=!0;for(var m=0;m<n.length;m++)n[m][0]!=null&&n[m][1]!=null?v?(d.moveTo(n[m][0],n[m][1]),v=!1):d.lineTo(n[m][0],n[m][1]):v=!0}u&&d.closePath(),s?t.fill():t.stroke()}t.restore()},e.jqplot.ShapeRenderer=function(t){this.lineWidth=1.5,this.linePattern="solid",this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.isarc=!1,this.fillRect=!1,this.strokeRect=!1,this.clearRect=!1,this.strokeStyle="#999999",this.fillStyle="#999999",e.extend(!0,this,t)},e.jqplot.ShapeRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.ShapeRenderer.prototype.draw=function(t,n,r){t.save();var i=r!=null?r:{},s=i.fill!=null?i.fill:this.fill,o=i.closePath!=null?i.closePath:this.closePath,u=i.fillRect!=null?i.fillRect:this.fillRect,a=i.strokeRect!=null?i.strokeRect:this.strokeRect,f=i.clearRect!=null?i.clearRect:this.clearRect,l=i.isarc!=null?i.isarc:this.isarc,c=i.linePattern!=null?i.linePattern:this.linePattern,h=e.jqplot.LinePattern(t,c);t.lineWidth=i.lineWidth||this.lineWidth,t.lineJoin=i.lineJoin||this.lineJoin,t.lineCap=i.lineCap||this.lineCap,t.strokeStyle=i.strokeStyle||i.color||this.strokeStyle,t.fillStyle=i.fillStyle||this.fillStyle,t.beginPath();if(l){t.arc(n[0],n[1],n[2],n[3],n[4],!0),o&&t.closePath(),s?t.fill():t.stroke(),t.restore();return}if(f){t.clearRect(n[0],n[1],n[2],n[3]),t.restore();return}if(u||a){u&&t.fillRect(n[0],n[1],n[2],n[3]);if(a){t.strokeRect(n[0],n[1],n[2],n[3]),t.restore();return}}else if(n&&n.length){var p=!0;for(var d=0;d<n.length;d++)n[d][0]!=null&&n[d][1]!=null?p?(h.moveTo(n[d][0],n[d][1]),p=!1):h.lineTo(n[d][0],n[d][1]):p=!0;o&&h.closePath(),s?t.fill():t.stroke()}t.restore()},e.jqplot.TableLegendRenderer=function(){},e.jqplot.TableLegendRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.TableLegendRenderer.prototype.addrow=function(t,n,r,i){var s=r?this.rowSpacing+"px":"0px",o,u,a,f,l;a=document.createElement("tr"),o=e(a),o.addClass("jqplot-table-legend"),a=null,i?o.prependTo(this._elem):o.appendTo(this._elem),this.showSwatches&&(u=e(document.createElement("td")),u.addClass("jqplot-table-legend jqplot-table-legend-swatch"),u.css({textAlign:"center",paddingTop:s}),f=e(document.createElement("div")),f.addClass("jqplot-table-legend-swatch-outline"),l=e(document.createElement("div")),l.addClass("jqplot-table-legend-swatch"),l.css({backgroundColor:n,borderColor:n}),o.append(u.append(f.append(l)))),this.showLabels&&(u=e(document.createElement("td")),u.addClass("jqplot-table-legend jqplot-table-legend-label"),u.css("paddingTop",s),o.append(u),this.escapeHtml?u.text(t):u.html(t)),u=null,f=null,l=null,o=null,a=null},e.jqplot.TableLegendRenderer.prototype.draw=function(){this._elem&&(this._elem.emptyForce(),this._elem=null);if(this.show){var t=this._series,n=document.createElement("table");this._elem=e(n),this._elem.addClass("jqplot-table-legend");var r={position:"absolute"};this.background&&(r.background=this.background),this.border&&(r.border=this.border),this.fontSize&&(r.fontSize=this.fontSize),this.fontFamily&&(r.fontFamily=this.fontFamily),this.textColor&&(r.textColor=this.textColor),this.marginTop!=null&&(r.marginTop=this.marginTop),this.marginBottom!=null&&(r.marginBottom=this.marginBottom),this.marginLeft!=null&&(r.marginLeft=this.marginLeft),this.marginRight!=null&&(r.marginRight=this.marginRight);var i=!1,s=!1,o;for(var u=0;u<t.length;u++){o=t[u];if(o._stack||o.renderer.constructor==e.jqplot.BezierCurveRenderer)s=!0;if(o.show&&o.showLabel){var a=this.labels[u]||o.label.toString();if(a){var f=o.color;s&&u<t.length-1?i=!0:s&&u==t.length-1&&(i=!1),this.renderer.addrow.call(this,a,f,i,s),i=!0}for(var l=0;l<e.jqplot.addLegendRowHooks.length;l++){var c=e.jqplot.addLegendRowHooks[l].call(this,o);c&&(this.renderer.addrow.call(this,c.label,c.color,i),i=!0)}a=null}}}return this._elem},e.jqplot.TableLegendRenderer.prototype.pack=function(e){if(this.show)if(this.placement=="insideGrid")switch(this.location){case"nw":var t=e.left,n=e.top;this._elem.css("left",t),this._elem.css("top",n);break;case"n":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,n=e.top;this._elem.css("left",t),this._elem.css("top",n);break;case"ne":var t=e.right,n=e.top;this._elem.css({right:t,top:n});break;case"e":var t=e.right,n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({right:t,top:n});break;case"se":var t=e.right,n=e.bottom;this._elem.css({right:t,bottom:n});break;case"s":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,n=e.bottom;this._elem.css({left:t,bottom:n});break;case"sw":var t=e.left,n=e.bottom;this._elem.css({left:t,bottom:n});break;case"w":var t=e.left,n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({left:t,top:n});break;default:var t=e.right,n=e.bottom;this._elem.css({right:t,bottom:n})}else if(this.placement=="outside")switch(this.location){case"nw":var t=this._plotDimensions.width-e.left,n=e.top;this._elem.css("right",t),this._elem.css("top",n);break;case"n":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,n=this._plotDimensions.height-e.top;this._elem.css("left",t),this._elem.css("bottom",n);break;case"ne":var t=this._plotDimensions.width-e.right,n=e.top;this._elem.css({left:t,top:n});break;case"e":var t=this._plotDimensions.width-e.right,n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({left:t,top:n});break;case"se":var t=this._plotDimensions.width-e.right,n=e.bottom;this._elem.css({left:t,bottom:n});break;case"s":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,n=this._plotDimensions.height-e.bottom;this._elem.css({left:t,top:n});break;case"sw":var t=this._plotDimensions.width-e.left,n=e.bottom;this._elem.css({right:t,bottom:n});break;case"w":var t=this._plotDimensions.width-e.left,n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({right:t,top:n});break;default:var t=e.right,n=e.bottom;this._elem.css({right:t,bottom:n})}else switch(this.location){case"nw":this._elem.css({left:0,top:e.top});break;case"n":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2;this._elem.css({left:t,top:e.top});break;case"ne":this._elem.css({right:0,top:e.top});break;case"e":var n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({right:e.right,top:n});break;case"se":this._elem.css({right:e.right,bottom:e.bottom});break;case"s":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2;this._elem.css({left:t,bottom:e.bottom});break;case"sw":this._elem.css({left:e.left,bottom:e.bottom});break;case"w":var n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({left:e.left,top:n});break;default:this._elem.css({right:e.right,bottom:e.bottom})}},e.jqplot.ThemeEngine=function(){this.themes={},this.activeTheme=null},e.jqplot.ThemeEngine.prototype.init=function(){var t=new e.jqplot.Theme({_name:"Default"}),n,r,i;for(n in t.target)n=="textColor"?t.target[n]=this.target.css("color"):t.target[n]=this.target.css(n);if(this.title.show&&this.title._elem)for(n in t.title)n=="textColor"?t.title[n]=this.title._elem.css("color"):t.title[n]=this.title._elem.css(n);for(n in t.grid)t.grid[n]=this.grid[n];t.grid.backgroundColor==null&&this.grid.background!=null&&(t.grid.backgroundColor=this.grid.background);if(this.legend.show&&this.legend._elem)for(n in t.legend)n=="textColor"?t.legend[n]=this.legend._elem.css("color"):t.legend[n]=this.legend._elem.css(n);var s;for(r=0;r<this.series.length;r++){s=this.series[r],s.renderer.constructor==e.jqplot.LineRenderer?t.series.push(new F):s.renderer.constructor==e.jqplot.BarRenderer?t.series.push(new q):s.renderer.constructor==e.jqplot.PieRenderer?t.series.push(new R):s.renderer.constructor==e.jqplot.DonutRenderer?t.series.push(new U):s.renderer.constructor==e.jqplot.FunnelRenderer?t.series.push(new z):s.renderer.constructor==e.jqplot.MeterGaugeRenderer?t.series.push(new W):t.series.push({});for(n in t.series[r])t.series[r][n]=s[n]}var o,u;for(n in this.axes){u=this.axes[n],o=t.axes[n]=new H,o.borderColor=u.borderColor,o.borderWidth=u.borderWidth;if(u._ticks&&u._ticks[0])for(i in o.ticks)u._ticks[0].hasOwnProperty(i)?o.ticks[i]=u._ticks[0][i]:u._ticks[0]._elem&&(o.ticks[i]=u._ticks[0]._elem.css(i));if(u._label&&u._label.show)for(i in o.label)u._label[i]?o.label[i]=u._label[i]:u._label._elem&&(i=="textColor"?o.label[i]=u._label._elem.css("color"):o.label[i]=u._label._elem.css(i))}this.themeEngine._add(t),this.themeEngine.activeTheme=this.themeEngine.themes[t._name]},e.jqplot.ThemeEngine.prototype.get=function(e){return e?this.themes[e]:this.activeTheme},e.jqplot.ThemeEngine.prototype.getThemeNames=function(){var e=[];for(var t in this.themes)e.push(t);return e.sort(_)},e.jqplot.ThemeEngine.prototype.getThemes=function(){var e=[],t=[];for(var n in this.themes)e.push(n);e.sort(_);for(var r=0;r<e.length;r++)t.push(this.themes[e[r]]);return t},e.jqplot.ThemeEngine.prototype.activate=function(t,n){var r=!1;!n&&this.activeTheme&&this.activeTheme._name&&(n=this.activeTheme._name);if(!this.themes.hasOwnProperty(n))throw new Error("No theme of that name");var i=this.themes[n];this.activeTheme=i;var s,o=!1,u=!1,a=["xaxis","x2axis","yaxis","y2axis"];for(g=0;g<a.length;g++){var f=a[g];i.axesStyles.borderColor!=null&&(t.axes[f].borderColor=i.axesStyles.borderColor),i.axesStyles.borderWidth!=null&&(t.axes[f].borderWidth=i.axesStyles.borderWidth)}for(var l in t.axes){var c=t.axes[l];if(c.show){var h=i.axes[l]||{},p=i.axesStyles,d=e.jqplot.extend(!0,{},h,p);s=i.axesStyles.borderColor!=null?i.axesStyles.borderColor:d.borderColor,d.borderColor!=null&&(c.borderColor=d.borderColor,r=!0),s=i.axesStyles.borderWidth!=null?i.axesStyles.borderWidth:d.borderWidth,d.borderWidth!=null&&(c.borderWidth=d.borderWidth,r=!0);if(c._ticks&&c._ticks[0])for(var v in d.ticks)s=d.ticks[v],s!=null&&(c.tickOptions[v]=s,c._ticks=[],r=!0);if(c._label&&c._label.show)for(var v in d.label)s=d.label[v],s!=null&&(c.labelOptions[v]=s,r=!0)}}for(var m in i.grid)i.grid[m]!=null&&(t.grid[m]=i.grid[m]);r||t.grid.draw();if(t.legend.show)for(m in i.legend)i.legend[m]!=null&&(t.legend[m]=i.legend[m]);if(t.title.show)for(m in i.title)i.title[m]!=null&&(t.title[m]=i.title[m]);var g;for(g=0;g<i.series.length;g++){var y={},b=!1;for(m in i.series[g])s=i.seriesStyles[m]!=null?i.seriesStyles[m]:i.series[g][m],s!=null&&(y[m]=s,m=="color"?(t.series[g].renderer.shapeRenderer.fillStyle=s,t.series[g].renderer.shapeRenderer.strokeStyle=s,t.series[g][m]=s):m=="lineWidth"||m=="linePattern"?(t.series[g].renderer.shapeRenderer[m]=s,t.series[g][m]=s):m=="markerOptions"?(P(t.series[g].markerOptions,s),P(t.series[g].markerRenderer,s)):t.series[g][m]=s,r=!0)}r&&(t.target.empty(),t.draw());for(m in i.target)i.target[m]!=null&&t.target.css(m,i.target[m])},e.jqplot.ThemeEngine.prototype._add=function(e,t){t&&(e._name=t),e._name||(e._name=Date.parse(new Date));if(!!this.themes.hasOwnProperty(e._name))throw new Error("jqplot.ThemeEngine Error: Theme already in use");this.themes[e._name]=e},e.jqplot.ThemeEngine.prototype.remove=function(e){return e=="Default"?!1:delete this.themes[e]},e.jqplot.ThemeEngine.prototype.newTheme=function(t,n){typeof t=="object"&&(n=n||t,t=null),n&&n._name?t=n._name:t=t||Date.parse(new Date);var r=this.copy(this.themes.Default._name,t);return e.jqplot.extend(r,n),r},e.jqplot.clone=D,e.jqplot.merge=P,e.jqplot.extend=function(){var n=arguments[0]||{},r=1,i=arguments.length,s=!1,o;typeof n=="boolean"&&(s=n,n=arguments[1]||{},r=2),typeof n!="object"&&!toString.call(n)==="[object Function]"&&(n={});for(;r<i;r++)if((o=arguments[r])!=null)for(var u in o){var a=n[u],f=o[u];if(n===f)continue;s&&f&&typeof f=="object"&&!f.nodeType?n[u]=e.jqplot.extend(s,a||(f.length!=null?[]:{}),f):f!==t&&(n[u]=f)}return n},e.jqplot.ThemeEngine.prototype.rename=function(e,t){if(e=="Default"||t=="Default")throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");if(this.themes.hasOwnProperty(t))throw new Error("jqplot.ThemeEngine Error: New name already in use.");if(this.themes.hasOwnProperty(e)){var n=this.copy(e,t);return this.remove(e),n}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid")},e.jqplot.ThemeEngine.prototype.copy=function(t,n,r){if(n=="Default")throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");if(!this.themes.hasOwnProperty(t)){var i="jqplot.ThemeEngine Error: Source name invalid";throw new Error(i)}if(this.themes.hasOwnProperty(n)){var i="jqplot.ThemeEngine Error: Target name invalid";throw new Error(i)}var s=D(this.themes[t]);return s._name=n,e.jqplot.extend(!0,s,r),this._add(s),s},e.jqplot.Theme=function(t,n){typeof t=="object"&&(n=n||t,t=null),t=t||Date.parse(new Date),this._name=t,this.target={backgroundColor:null},this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null},this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null},this.seriesStyles={},this.series=[],this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,shadow:null},this.axesStyles={label:{},ticks:{}},this.axes={},typeof n=="string"?this._name=n:typeof n=="object"&&e.jqplot.extend(!0,this,n)};var H=function(){this.borderColor=null,this.borderWidth=null,this.ticks=new B,this.label=new j},B=function(){this.show=null,this.showGridline=null,this.showLabel=null,this.showMark=null,this.size=null,this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null},j=function(){this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null,this.fontWeight=null},F=function(){this.color=null,this.lineWidth=null,this.linePattern=null,this.shadow=null,this.fillColor=null,this.showMarker=null,this.markerOptions=new I},I=function(){this.show=null,this.style=null,this.lineWidth=null,this.size=null,this.color=null,this.shadow=null},q=function(){this.color=null,this.seriesColors=null,this.lineWidth=null,this.shadow=null,this.barPadding=null,this.barMargin=null,this.barWidth=null,this.highlightColors=null},R=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.highlightColors=null},U=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.innerDiameter=null,this.thickness=null,this.ringMargin=null,this.highlightColors=null},z=function(){this.color=null,this.lineWidth=null,this.shadow=null,this.padding=null,this.sectionMargin=null,this.seriesColors=null,this.highlightColors=null},W=function(){this.padding=null,this.backgroundColor=null,this.ringColor=null,this.tickColor=null,this.ringWidth=null,this.intervalColors=null,this.intervalInnerRadius=null,this.intervalOuterRadius=null,this.hubRadius=null,this.needleThickness=null,this.needlePad=null};e.fn.jqplotChildText=function(){return e(this).contents().filter(function(){return this.nodeType==3}).text()},e.fn.jqplotGetComputedFontStyle=function(){var e=window.getComputedStyle?window.getComputedStyle(this[0],""):this[0].currentStyle,t=e["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"],n=[];for(var r=0;r<t.length;++r){var i=String(e[t[r]]);i&&i!="normal"&&n.push(i)}return n.join(" ")},e.fn.jqplotToImageCanvas=function(t){function w(t){var n=parseInt(e(t).css("line-height"),10);return isNaN(n)&&(n=parseInt(e(t).css("font-size"),10)*1.2),n}function E(t,n,r,i,s,o){var u=w(t),a=e(t).innerWidth(),f=e(t).innerHeight(),l=r.split(/\s+/),h=l.length,p="",d=[],v=s,m=i;for(var g=0;g<h;g++)p+=l[g],n.measureText(p).width>a&&(d.push(g),p="",g--);if(d.length===0)e(t).css("textAlign")==="center"&&(m=i+(o-n.measureText(p).width)/2-c),n.fillText(r,m,s);else{p=l.slice(0,d[0]).join(" "),e(t).css("textAlign")==="center"&&(m=i+(o-n.measureText(p).width)/2-c),n.fillText(p,m,v),v+=u;for(var g=1,y=d.length;g<y;g++)p=l.slice(d[g-1],d[g]).join(" "),e(t).css("textAlign")==="center"&&(m=i+(o-n.measureText(p).width)/2-c),n.fillText(p,m,v),v+=u;p=l.slice(d[g-1],l.length).join(" "),e(t).css("textAlign")==="center"&&(m=i+(o-n.measureText(p).width)/2-c),n.fillText(p,m,v)}}function S(t,n,r){var i=t.tagName.toLowerCase(),o=e(t).position(),u=window.getComputedStyle?window.getComputedStyle(t,""):t.currentStyle,a=n+o.left+parseInt(u.marginLeft,10)+parseInt(u.borderLeftWidth,10)+parseInt(u.paddingLeft,10),f=r+o.top+parseInt(u.marginTop,10)+parseInt(u.borderTopWidth,10)+parseInt(u.paddingTop,10),l=s.width;if(i!="div"&&i!="span"||!!e(t).hasClass("jqplot-highlighter-tooltip"))if(i==="table"&&e(t).hasClass("jqplot-table-legend")){b.strokeStyle=e(t).css("border-top-color"),b.fillStyle=e(t).css("background-color"),b.fillRect(a,f,e(t).innerWidth(),e(t).innerHeight()),parseInt(e(t).css("border-top-width"),10)>0&&b.strokeRect(a,f,e(t).innerWidth(),e(t).innerHeight()),e(t).find("div.jqplot-table-legend-swatch-outline").each(function(){var t=e(this);b.strokeStyle=t.css("border-top-color");var n=a+t.position().left,r=f+t.position().top;b.strokeRect(n,r,t.innerWidth(),t.innerHeight()),n+=parseInt(t.css("padding-left"),10),r+=parseInt(t.css("padding-top"),10);var i=t.innerHeight()-2*parseInt(t.css("padding-top"),10),s=t.innerWidth()-2*parseInt(t.css("padding-left"),10),o=t.children("div.jqplot-table-legend-swatch");b.fillStyle=o.css("background-color"),b.fillRect(n,r,s,i)}),e(t).find("td.jqplot-table-legend-label").each(function(){var t=e(this),n=a+t.position().left,r=f+t.position().top+parseInt(t.css("padding-top"),10);b.font=t.jqplotGetComputedFontStyle(),b.fillStyle=t.css("color"),E(t,b,t.text(),n,r,l)});var h=null}else i=="canvas"&&b.drawImage(t,a,f);else{e(t).children().each(function(){S(this,a,f)});var c=e(t).jqplotChildText();c&&(b.font=e(t).jqplotGetComputedFontStyle(),b.fillStyle=e(t).css("color"),E(t,b,c,a,f,l))}}t=t||{};var n=t.x_offset==null?0:t.x_offset,r=t.y_offset==null?0:t.y_offset,i=t.backgroundColor==null?"rgb(255,255,255)":t.backgroundColor;if(e(this).width()==0||e(this).height()==0)return null;if(e.jqplot.use_excanvas)return null;var s=document.createElement("canvas"),o=e(this).outerHeight(!0),u=e(this).outerWidth(!0),a=e(this).offset(),f=a.left,l=a.top,c=0,h=0,p=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label","jqplot-y8axis-label","jqplot-y9axis-label"],d,v,m,g;for(var y=0;y<p.length;y++)e(this).find("."+p[y]).each(function(){d=e(this).offset().top-l,v=e(this).offset().left-f,g=v+e(this).outerWidth(!0)+c,m=d+e(this).outerHeight(!0)+h,v<-c&&(u=u-c-v,c=-v),d<-h&&(o=o-h-d,h=-d),g>u&&(u=g),m>o&&(o=m)});s.width=u+Number(n),s.height=o+Number(r);var b=s.getContext("2d");return b.save(),b.fillStyle=i,b.fillRect(0,0,s.width,s.height),b.restore(),b.translate(c,h),b.textAlign="left",b.textBaseline="top",e(this).children().each(function(){S(this,n,r)}),s},e.fn.jqplotToImageStr=function(t){var n=e(this).jqplotToImageCanvas(t);return n?n.toDataURL("image/png"):null},e.fn.jqplotToImageElem=function(t){var n=document.createElement("img"),r=e(this).jqplotToImageStr(t);return n.src=r,n},e.fn.jqplotToImageElemStr=function(t){var n="<img src="+e(this).jqplotToImageStr(t)+" />";return n},e.fn.jqplotSaveImage=function(){var t=e(this).jqplotToImageStr({});t&&(window.location.href=t.replace("image/png","image/octet-stream"))},e.fn.jqplotViewImage=function(){var t=e(this).jqplotToImageElemStr({}),n=e(this).jqplotToImageStr({});if(t){var r=window.open("");r.document.open("image/png"),r.document.write(t),r.document.close(),r=null}};var X=function(){this.syntax=X.config.syntax,this._type="jsDate",this.proxy=new Date,this.options={},this.locale=X.regional.getLocale(),this.formatString="",this.defaultCentury=X.config.defaultCentury;switch(arguments.length){case 0:break;case 1:if(Y(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var e=this.options=arguments[0];this.syntax=e.syntax||this.syntax,this.defaultCentury=e.defaultCentury||this.defaultCentury,this.proxy=X.createDate(e.date)}else this.proxy=X.createDate(arguments[0]);break;default:var t=[];for(var n=0;n<arguments.length;n++)t.push(arguments[n]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,t.slice(0,3)),t.slice(3).length&&this.proxy.setHours.apply(this.proxy,t.slice(3))}};X.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900},X.prototype.add=function(e,t){var n=J[t]||J.day;return typeof n=="number"?this.proxy.setTime(this.proxy.getTime()+n*e):n.add(this,e),this},X.prototype.clone=function(){return new X(this.proxy.getTime())},X.prototype.getUtcOffset=function(){return this.proxy.getTimezoneOffset()*6e4},X.prototype.diff=function(e,t,n){e=new X(e);if(e===null)return null;var r=J[t]||J.day;if(typeof r=="number")var i=(this.proxy.getTime()-e.proxy.getTime())/r;else var i=r.diff(this.proxy,e.proxy);return n?i:Math[i>0?"floor":"ceil"](i)},X.prototype.getAbbrDayName=function(){return X.regional[this.locale].dayNamesShort[this.proxy.getDay()]},X.prototype.getAbbrMonthName=function(){return X.regional[this.locale].monthNamesShort[this.proxy.getMonth()]},X.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM"},X.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am"},X.prototype.getCentury=function(){return parseInt(this.proxy.getFullYear()/100,10)},X.prototype.getDate=function(){return this.proxy.getDate()},X.prototype.getDay=function(){return this.proxy.getDay()},X.prototype.getDayOfWeek=function(){var e=this.proxy.getDay();return e===0?7:e},X.prototype.getDayOfYear=function(){var e=this.proxy,t=e-new Date(""+e.getFullYear()+"/1/1 GMT");return t+=e.getTimezoneOffset()*6e4,e=null,parseInt(t/6e4/60/24,10)+1},X.prototype.getDayName=function(){return X.regional[this.locale].dayNames[this.proxy.getDay()]},X.prototype.getFullWeekOfYear=function(){var e=this.proxy,t=this.getDayOfYear(),n=6-e.getDay(),r=parseInt((t+n)/7,10);return r},X.prototype.getFullYear=function(){return this.proxy.getFullYear()},X.prototype.getGmtOffset=function(){var e=this.proxy.getTimezoneOffset()/60,t=e<0?"+":"-";return e=Math.abs(e),t+$(Math.floor(e),2)+":"+$(e%1*60,2)},X.prototype.getHours=function(){return this.proxy.getHours()},X.prototype.getHours12=function(){var e=this.proxy.getHours();return e>12?e-12:e==0?12:e},X.prototype.getIsoWeek=function(){var e=this.proxy,t=this.getWeekOfYear(),n=(new Date(""+e.getFullYear()+"/1/1")).getDay(),r=t+(n>4||n<=1?0:1);return r==53&&(new Date(""+e.getFullYear()+"/12/31")).getDay()<4?r=1:r===0&&(e=new X(new Date(""+(e.getFullYear()-1)+"/12/31")),r=e.getIsoWeek()),e=null,r},X.prototype.getMilliseconds=function(){return this.proxy.getMilliseconds()},X.prototype.getMinutes=function(){return this.proxy.getMinutes()},X.prototype.getMonth=function(){return this.proxy.getMonth()},X.prototype.getMonthName=function(){return X.regional[this.locale].monthNames[this.proxy.getMonth()]},X.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1},X.prototype.getSeconds=function(){return this.proxy.getSeconds()},X.prototype.getShortYear=function(){return this.proxy.getYear()%100},X.prototype.getTime=function(){return this.proxy.getTime()},X.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1")},X.prototype.getTimezoneName=function(){var e=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return e[1]||e[2]||"GMT"+this.getGmtOffset()},X.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset()},X.prototype.getWeekOfYear=function(){var e=this.getDayOfYear(),t=7-this.getDayOfWeek(),n=parseInt((e+t)/7,10);return n},X.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1e3,0)},X.prototype.getYear=function(){return this.proxy.getYear()},X.prototype.next=function(e){return e=e||"day",this.clone().add(1,e)},X.prototype.set=function(){switch(arguments.length){case 0:this.proxy=new Date;break;case 1:if(Y(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var e=this.options=arguments[0];this.syntax=e.syntax||this.syntax,this.defaultCentury=e.defaultCentury||this.defaultCentury,this.proxy=X.createDate(e.date)}else this.proxy=X.createDate(arguments[0]);break;default:var t=[];for(var n=0;n<arguments.length;n++)t.push(arguments[n]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,t.slice(0,3)),t.slice(3).length&&this.proxy.setHours.apply(this.proxy,t.slice(3))}return this},X.prototype.setDate=function(e){return this.proxy.setDate(e),this},X.prototype.setFullYear=function(){return this.proxy.setFullYear.apply(this.proxy,arguments),this},X.prototype.setHours=function(){return this.proxy.setHours.apply(this.proxy,arguments),this},X.prototype.setMilliseconds=function(e){return this.proxy.setMilliseconds(e),this},X.prototype.setMinutes=function(){return this.proxy.setMinutes.apply(this.proxy,arguments),this},X.prototype.setMonth=function(){return this.proxy.setMonth.apply(this.proxy,arguments),this},X.prototype.setSeconds=function(){return this.proxy.setSeconds.apply(this.proxy,arguments),this},X.prototype.setTime=function(e){return this.proxy.setTime(e),this},X.prototype.setYear=function(){return this.proxy.setYear.apply(this.proxy,arguments),this},X.prototype.strftime=function(e){return e=e||this.formatString||X.regional[this.locale].formatString,X.strftime(this,e,this.syntax)},X.prototype.toString=function(){return this.proxy.toString()},X.prototype.toYmdInt=function(){return this.proxy.getFullYear()*1e4+this.getMonthNumber()*100+this.proxy.getDate()},X.regional={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},fr:{monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},ru:{monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],formatString:"%Y-%m-%d %H:%M:%S"},ar:{monthNames:["كانون الثاني","شباط","آذار","نيسان","آذار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["السبت","الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة"],dayNamesShort:["سبت","أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة"],formatString:"%Y-%m-%d %H:%M:%S"},pt:{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},pl:{monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Ni","Pn","Wt","Śr","Cz","Pt","Sb"],formatString:"%Y-%m-%d %H:%M:%S"},nl:{monthNames:["Januari","Februari","Maart","April","Mei","Juni","July","Augustus","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:","["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],dayNamesShort:["Zo","Ma","Di","Wo","Do","Vr","Za"],formatString:"%Y-%m-%d %H:%M:%S"},sv:{monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],dayNames:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],dayNamesShort:["sön","mån","tis","ons","tor","fre","lör"],formatString:"%Y-%m-%d %H:%M:%S"}},X.regional["en-US"]=X.regional["en-GB"]=X.regional.en,X.regional.getLocale=function(){var e=X.config.defaultLocale;return document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(e=document.getElementsByTagName("html")[0].lang,X.regional.hasOwnProperty(e)||(e=X.config.defaultLocale)),e};var V=864e5,$=function(e,t){e=String(e);var n=t-e.length,r=String(Math.pow(10,n)).slice(1);return r.concat(e)},J={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:V,week:7*V,month:{add:function(e,t){J.year.add(e,Math[t>0?"floor":"ceil"](t/12));var n=e.getMonth()+t%12;n==12?(n=0,e.setYear(e.getFullYear()+1)):n==-1&&(n=11,e.setYear(e.getFullYear()-1)),e.setMonth(n)},diff:function(e,t){var n=e.getFullYear()-t.getFullYear(),r=e.getMonth()-t.getMonth()+n*12,i=e.getDate()-t.getDate();return r+i/30}},year:{add:function(e,t){e.setYear(e.getFullYear()+Math[t>0?"floor":"ceil"](t))},diff:function(e,t){return J.month.diff(e,t)/12}}};for(var K in J)K.substring(K.length-1)!="s"&&(J[K+"s"]=J[K]);var Q=function(e,t,n){if(X.formats[n].shortcuts[t])return X.strftime(e,X.formats[n].shortcuts[t],n);var r=(X.formats[n].codes[t]||"").split("."),i=e["get"+r[0]]?e["get"+r[0]]():"";return r[1]&&(i=$(i,r[1])),i};X.strftime=function(e,t,n,r){var i="perl",s=X.regional.getLocale();n&&X.formats.hasOwnProperty(n)?i=n:n&&X.regional.hasOwnProperty(n)&&(s=n),r&&X.formats.hasOwnProperty(r)?i=r:r&&X.regional.hasOwnProperty(r)&&(s=r);if(Y(e)!="[object Object]"||e._type!="jsDate")e=new X(e),e.locale=s;t||(t=e.formatString||X.regional[s].formatString);var o=t||"%Y-%m-%d",u="",a;while(o.length>0)(a=o.match(X.formats[i].codes.matcher))?(u+=o.slice(0,a.index),u+=(a[1]||"")+Q(e,a[2],i),o=o.slice(a.index+a[0].length)):(u+=o,o="");return u},X.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"},X.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"	",n:"\n","%":"%"}},X.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"	",n:"\n","%":"%"}},X.createDate=function(e){function s(e,t){var n=parseFloat(t[1]),r=parseFloat(t[2]),i=parseFloat(t[3]),s=X.config.defaultCentury,o,u,a,f;return n>31?(u=i,a=r,o=s+n):(u=r,a=n,o=s+i),f=a+"/"+u+"/"+o,e.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,f)}if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="number")return new Date(e);var t=String(e).replace(/^\s*(.+)\s*$/g,"$1");t=t.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3"),t=t.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3");var n=t.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i);if(n&&n.length>3){var r=parseFloat(n[3]),i=X.config.defaultCentury+r;i=String(i),t=t.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,n[1]+" "+n[2]+" "+i)}n=t.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/),n&&n.length>3&&(t=s(t,n));var n=t.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/);n&&n.length>3&&(t=s(t,n));var o=0,u=X.matchers.length,a,f,l=t,c;while(o<u){f=Date.parse(l);if(!isNaN(f))return new Date(f);a=X.matchers[o];if(typeof a=="function"){c=a.call(X,l);if(c instanceof Date)return c}else l=t.replace(a[0],a[1]);o++}return NaN},X.daysInMonth=function(e,n){return n==2?(new Date(e,1,29)).getDate()==29?29:28:[t,31,t,31,30,31,30,31,31,30,31,30,31][n]},X.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(e){var t=e.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);if(t){if(t[1]){var n=this.createDate(t[1]);if(isNaN(n))return}else{var n=new Date;n.setMilliseconds(0)}var r=parseFloat(t[2]);return t[6]&&(r=t[6].toLowerCase()=="am"?r==12?0:r:r==12?12:r+12),n.setHours(r,parseInt(t[3]||0,10),parseInt(t[4]||0,10),(parseFloat(t[5]||0)||0)*1e3),n}return e},function(e){var t=e.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);if(t){if(t[1]){var n=this.createDate(t[1]);if(isNaN(n))return}else{var n=new Date;n.setMilliseconds(0)}var r=parseFloat(t[2]);return n.setHours(r,parseInt(t[3],10),parseInt(t[4],10),parseFloat(t[5])*1e3),n}return e},function(e){var t=e.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);if(t){var n=new Date,r=X.config.defaultCentury,i=parseFloat(t[1]),s=parseFloat(t[3]),o,u,a;i>31?(u=s,o=r+i):(u=i,o=r+s);var a=G(t[2],X.regional[X.regional.getLocale()].monthNamesShort);return a==-1&&(a=G(t[2],X.regional[X.regional.getLocale()].monthNames)),n.setFullYear(o,a,u),n.setHours(0,0,0,0),n}return e}],e.jsDate=X,e.jqplot.sprintf=function(){function t(e,t,n,r){var i=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+i:i+e}function n(t){var n=new String(t);for(var r=10;r>0;r--)if(n==(n=n.replace(/^(\d+)(\d{3})/,"$1"+e.jqplot.sprintf.thousandsSeparator+"$2")))break;return n}function r(e,n,r,i,s,o){var u=i-e.length;if(u>0){var a=" ";o&&(a="&nbsp;"),r||!s?e=t(e,i,a,r):e=e.slice(0,n.length)+t("",u,"0",!0)+e.slice(n.length)}return e}function i(e,n,i,s,o,u,a,f){var l=e>>>0;return i=i&&l&&{2:"0b",8:"0",16:"0x"}[n]||"",e=i+t(l.toString(n),u||0,"0",!1),r(e,i,s,o,a,f)}function s(e,t,n,i,s,o){return i!=null&&(e=e.slice(0,i)),r(e,"",t,n,s,o)}var o=arguments,u=0,a=o[u++];return a.replace(e.jqplot.sprintf.regex,function(a,f,l,c,h,p,d){if(a=="%%")return"%";var v=!1,m="",g=!1,y=!1,b=!1,w=!1;for(var E=0;l&&E<l.length;E++)switch(l.charAt(E)){case" ":m=" ";break;case"+":m="+";break;case"-":v=!0;break;case"0":g=!0;break;case"#":y=!0;break;case"&":b=!0;break;case"'":w=!0}c?c=="*"?c=+o[u++]:c.charAt(0)=="*"?c=+o[c.slice(1,-1)]:c=+c:c=0,c<0&&(c=-c,v=!0);if(!isFinite(c))throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");p?p=="*"?p=+o[u++]:p.charAt(0)=="*"?p=+o[p.slice(1,-1)]:p=+p:p="fFeE".indexOf(d)>-1?6:d=="d"?0:void 0;var S=f?o[f.slice(0,-1)]:o[u++];switch(d){case"s":if(S==null)return"";return s(String(S),v,c,p,g,b);case"c":return s(String.fromCharCode(+S),v,c,p,g,b);case"b":return i(S,2,y,v,c,p,g,b);case"o":return i(S,8,y,v,c,p,g,b);case"x":return i(S,16,y,v,c,p,g,b);case"X":return i(S,16,y,v,c,p,g,b).toUpperCase();case"u":return i(S,10,y,v,c,p,g,b);case"i":var x=parseInt(+S,10);if(isNaN(x))return"";var T=x<0?"-":m,N=w?n(String(Math.abs(x))):String(Math.abs(x));return S=T+t(N,p,"0",!1),r(S,T,v,c,g,b);case"d":var x=Math.round(+S);if(isNaN(x))return"";var T=x<0?"-":m,N=w?n(String(Math.abs(x))):String(Math.abs(x));return S=T+t(N,p,"0",!1),r(S,T,v,c,g,b);case"e":case"E":case"f":case"F":case"g":case"G":var x=+S;if(isNaN(x))return"";var T=x<0?"-":m,C=["toExponential","toFixed","toPrecision"]["efg".indexOf(d.toLowerCase())],k=["toString","toUpperCase"]["eEfFgG".indexOf(d)%2],N=Math.abs(x)[C](p),L=N.toString().split(".");L[0]=w?n(L[0]):L[0],N=L.join(e.jqplot.sprintf.decimalMark),S=T+N;var A=r(S,T,v,c,g,b)[k]();return A;case"p":case"P":var x=+S;if(isNaN(x))return"";var T=x<0?"-":m,L=String(Number(Math.abs(x)).toExponential()).split(/e|E/),O=L[0].indexOf(".")!=-1?L[0].length-1:String(x).length,M=L[1]<0?-L[1]-1:0;if(Math.abs(x)<1)O+M<=p?S=T+Math.abs(x).toPrecision(O):O<=p-1?S=T+Math.abs(x).toExponential(O-1):S=T+Math.abs(x).toExponential(p-1);else{var _=O<=p?O:p;S=T+Math.abs(x).toPrecision(_)}var k=["toString","toUpperCase"]["pP".indexOf(d)%2];return r(S,T,v,c,g,b)[k]();case"n":return"";default:return a}})},e.jqplot.sprintf.thousandsSeparator=",",e.jqplot.sprintf.decimalMark=".",e.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g,e.jqplot.getSignificantFigures=function(e){var t=String(Number(Math.abs(e)).toExponential()).split(/e|E/),n=t[0].indexOf(".")!=-1?t[0].length-1:t[0].length,r=t[1]<0?-t[1]-1:0,i=parseInt(t[1],10),s=i+1>0?i+1:0,o=n<=s?0:n-i-1;return{significantDigits:n,digitsLeft:s,digitsRight:o,zeros:r,exponent:i}},e.jqplot.getPrecision=function(t){return e.jqplot.getSignificantFigures(t).digitsRight};var Z=e.uiBackCompat!==!1;e.jqplot.effects={effect:{}};var et="jqplot.storage.";e.extend(e.jqplot.effects,{version:"1.9pre",save:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.data(et+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.css(t[n],e.data(et+t[n]))},setMode:function(e,t){return t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),t.css("position")==="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t}}),e.fn.extend({jqplotEffect:function(t,n,r,i){function l(t){function o(){e.isFunction(r)&&r.call(n[0]),e.isFunction(t)&&t()}var n=e(this),r=s.complete,i=s.mode;(n.is(":hidden")?i==="hide":i==="show")?o():a.call(n[0],s,o)}var s=tt.apply(this,arguments),o=s.mode,u=s.queue,a=e.jqplot.effects.effect[s.effect],f=!a&&Z&&e.jqplot.effects[s.effect];return e.fx.off||!a&&!f?o?this[o](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a?u===!1?this.each(l):this.queue(u||"fx",l):f.call(this,{options:s,duration:s.duration,callback:s.complete,mode:s.mode})}});var rt=/up|down|vertical/,it=/up|left|vertical|horizontal/;e.jqplot.effects.effect.blind=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.jqplot.effects.setMode(r,t.mode||"hide"),o=t.direction||"up",u=rt.test(o),a=u?"height":"width",f=u?"top":"left",l=it.test(o),c={},h=s==="show",p,d,v;r.parent().is(".ui-effects-wrapper")?e.jqplot.effects.save(r.parent(),i):e.jqplot.effects.save(r,i),r.show(),v=parseInt(r.css("top"),10),p=e.jqplot.effects.createWrapper(r).css({overflow:"hidden"}),d=u?p[a]()+v:p[a](),c[a]=h?String(d):"0",l||(r.css(u?"bottom":"right",0).css(u?"top":"left","").css({position:"absolute"}),c[f]=h?"0":String(d)),h&&(p.css(a,0),l||p.css(f,d)),p.animate(c,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){s==="hide"&&r.hide(),e.jqplot.effects.restore(r,i),e.jqplot.effects.removeWrapper(r),n()}})}}(jQuery),function(e){function t(t,n,r,i){this.rendererOptions.barDirection=="horizontal"&&(this._stackAxis="x",this._primaryAxis="_yaxis");if(this.rendererOptions.waterfall==1){this._data=e.extend(!0,[],this.data);var s=0,o=!this.rendererOptions.barDirection||this.rendererOptions.barDirection==="vertical"||this.transposedData===!1?1:0;for(var u=0;u<this.data.length;u++)s+=this.data[u][o],u>0&&(this.data[u][o]+=this.data[u-1][o]);this.data[this.data.length]=o==1?[this.data.length+1,s]:[s,this.data.length+1],this._data[this._data.length]=o==1?[this._data.length+1,s]:[s,this._data.length+1]}if(this.rendererOptions.groups>1){this.breakOnNull=!0;var a=this.data.length,f=parseInt(a/this.rendererOptions.groups,10),l=0;for(var u=f;u<a;u+=f)this.data.splice(u+l,0,[null,null]),this._plotData.splice(u+l,0,[null,null]),this._stackData.splice(u+l,0,[null,null]),l++;for(u=0;u<this.data.length;u++)this._primaryAxis=="_xaxis"?(this.data[u][0]=u+1,this._plotData[u][0]=u+1,this._stackData[u][0]=u+1):(this.data[u][1]=u+1,this._plotData[u][1]=u+1,this._stackData[u][1]=u+1)}}function n(t){var n=[];for(var r=0;r<t.length;r++){var i=e.jqplot.getColorComponents(t[r]),s=[i[0],i[1],i[2]],o=s[0]+s[1]+s[2];for(var u=0;u<3;u++)s[u]=o>570?s[u]*.8:s[u]+.3*(255-s[u]),s[u]=parseInt(s[u],10);n.push("rgb("+s[0]+","+s[1]+","+s[2]+")")}return n}function r(e,t,n,i,s){var o=e,u=e-1,a,f,l=s==="x"?0:1;return o>0?(f=i.series[u]._plotData[t][l],n*f<0?a=r(u,t,n,i,s):a=i.series[u].gridData[t][l]):a=l===0?i.series[o]._xaxis.series_u2p(0):i.series[o]._yaxis.series_u2p(0),a}function i(t,n,r){for(var i=0;i<this.series.length;i++)this.series[i].renderer.constructor==e.jqplot.BarRenderer&&this.series[i].highlightMouseOver&&(this.series[i].highlightMouseDown=!1)}function s(){this.plugins.barRenderer&&this.plugins.barRenderer.highlightCanvas&&(this.plugins.barRenderer.highlightCanvas.resetCanvas(),this.plugins.barRenderer.highlightCanvas=null),this.plugins.barRenderer={highlightedSeriesIndex:null},this.plugins.barRenderer.highlightCanvas=new e.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.barRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-barRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.barRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(e){u(e.data.plot)})}function o(e,t,n,r){var i=e.series[t],s=e.plugins.barRenderer.highlightCanvas;s._ctx.clearRect(0,0,s._ctx.canvas.width,s._ctx.canvas.height),i._highlightedPoint=n,e.plugins.barRenderer.highlightedSeriesIndex=t;var o={fillStyle:i.highlightColors[n]};i.renderer.shapeRenderer.draw(s._ctx,r,o),s=null}function u(e){var t=e.plugins.barRenderer.highlightCanvas;t._ctx.clearRect(0,0,t._ctx.canvas.width,t._ctx.canvas.height);for(var n=0;n<e.series.length;n++)e.series[n]._highlightedPoint=null;e.plugins.barRenderer.highlightedSeriesIndex=null,e.target.trigger("jqplotDataUnhighlight"),t=null}function a(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],a=jQuery.Event("jqplotDataMouseOver");a.pageX=e.pageX,a.pageY=e.pageY,i.target.trigger(a,s);if(i.series[s[0]].show&&i.series[s[0]].highlightMouseOver&&(s[0]!=i.plugins.barRenderer.highlightedSeriesIndex||s[1]!=i.series[s[0]]._highlightedPoint)){var f=jQuery.Event("jqplotDataHighlight");f.which=e.which,f.pageX=e.pageX,f.pageY=e.pageY,i.target.trigger(f,s),o(i,r.seriesIndex,r.pointIndex,r.points)}}else r==null&&u(i)}function f(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data];if(i.series[s[0]].highlightMouseDown&&(s[0]!=i.plugins.barRenderer.highlightedSeriesIndex||s[1]!=i.series[s[0]]._highlightedPoint)){var a=jQuery.Event("jqplotDataHighlight");a.which=e.which,a.pageX=e.pageX,a.pageY=e.pageY,i.target.trigger(a,s),o(i,r.seriesIndex,r.pointIndex,r.points)}}else r==null&&u(i)}function l(e,t,n,r,i){var s=i.plugins.barRenderer.highlightedSeriesIndex;s!=null&&i.series[s].highlightMouseDown&&u(i)}function c(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],o=jQuery.Event("jqplotDataClick");o.which=e.which,o.pageX=e.pageX,o.pageY=e.pageY,i.target.trigger(o,s)}}function h(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],o=i.plugins.barRenderer.highlightedSeriesIndex;o!=null&&i.series[o].highlightMouseDown&&u(i);var a=jQuery.Event("jqplotDataRightClick");a.which=e.which,a.pageX=e.pageX,a.pageY=e.pageY,i.target.trigger(a,s)}}e.jqplot.BarRenderer=function(){e.jqplot.LineRenderer.call(this)},e.jqplot.BarRenderer.prototype=new e.jqplot.LineRenderer,e.jqplot.BarRenderer.prototype.constructor=e.jqplot.BarRenderer,e.jqplot.BarRenderer.prototype.init=function(t,n){this.barPadding=8,this.barMargin=10,this.barDirection="vertical",this.barWidth=null,this.shadowOffset=2,this.shadowDepth=5,this.shadowAlpha=.08,this.waterfall=!1,this.groups=1,this.varyBarColor=!1,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.transposedData=!0,this.renderer.animation={show:!1,direction:"down",speed:3e3,_supported:!0},this._type="bar",t.highlightMouseDown&&t.highlightMouseOver==null&&(t.highlightMouseOver=!1),e.extend(!0,this,t),e.extend(!0,this.renderer,t),this.fill=!0,this.barDirection==="horizontal"&&this.rendererOptions.animation&&this.rendererOptions.animation.direction==null&&(this.renderer.animation.direction="left"),this.waterfall&&(this.fillToZero=!1,this.disableStack=!0),this.barDirection=="vertical"?(this._primaryAxis="_xaxis",this._stackAxis="y",this.fillAxis="y"):(this._primaryAxis="_yaxis",this._stackAxis="x",this.fillAxis="x"),this._highlightedPoint=null,this._plotSeriesInfo=null,this._dataColors=[],this._barPoints=[];var r={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,strokeStyle:this.color,fillStyle:this.color,closePath:this.fill};this.renderer.shapeRenderer.init(r);var o={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,closePath:this.fill};this.renderer.shadowRenderer.init(o),n.postInitHooks.addOnce(i),n.postDrawHooks.addOnce(s),n.eventListenerHooks.addOnce("jqplotMouseMove",a),n.eventListenerHooks.addOnce("jqplotMouseDown",f),n.eventListenerHooks.addOnce("jqplotMouseUp",l),n.eventListenerHooks.addOnce("jqplotClick",c),n.eventListenerHooks.addOnce("jqplotRightClick",h)},e.jqplot.preSeriesInitHooks.push(t),e.jqplot.BarRenderer.prototype.calcSeriesNumbers=function(){var t=0,n=0,r=this[this._primaryAxis],i,s,o;for(var u=0;u<r._series.length;u++)s=r._series[u],s===this&&(o=u),s.renderer.constructor==e.jqplot.BarRenderer&&(t+=s.data.length,n+=1);return[t,n,o]},e.jqplot.BarRenderer.prototype.setBarWidth=function(){var e,t=0,n=0,r=this[this._primaryAxis],i,s,o,u=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);t=u[0],n=u[1];var a=r.numberTicks,f=(a-1)/2;return r.name=="xaxis"||r.name=="x2axis"?this._stack?this.barWidth=(r._offsets.max-r._offsets.min)/t*n-this.barMargin:this.barWidth=((r._offsets.max-r._offsets.min)/f-this.barPadding*(n-1)-this.barMargin*2)/n:this._stack?this.barWidth=(r._offsets.min-r._offsets.max)/t*n-this.barMargin:this.barWidth=((r._offsets.min-r._offsets.max)/f-this.barPadding*(n-1)-this.barMargin*2)/n,[t,n]},e.jqplot.BarRenderer.prototype.draw=function(t,n,i,s){var o,u=e.extend({},i),a=u.shadow!=undefined?u.shadow:this.shadow,f=u.showLine!=undefined?u.showLine:this.showLine,l=u.fill!=undefined?u.fill:this.fill,c=this.xaxis,h=this.yaxis,p=this._xaxis.series_u2p,v=this._yaxis.series_u2p,m,g;this._dataColors=[],this._barPoints=[],this.barWidth==null&&this.renderer.setBarWidth.call(this);var y=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this),b=y[0],w=y[1],E=y[2],S=[];this._stack?this._barNudge=0:this._barNudge=(-Math.abs(w/2-.5)+E)*(this.barWidth+this.barPadding);if(f){var x=new e.jqplot.ColorGenerator(this.negativeSeriesColors),T=new e.jqplot.ColorGenerator(this.seriesColors),N=x.get(this.index);this.useNegativeColors||(N=u.fillStyle);var C=u.fillStyle,k,L,A;if(this.barDirection=="vertical")for(var o=0;o<n.length;o++){if(!this._stack&&this.data[o][1]==null)continue;S=[],k=n[o][0]+this._barNudge,this._stack&&this._prevGridData.length?A=r(this.index,o,this._plotData[o][1],s,"y"):this.fillToZero?A=this._yaxis.series_u2p(0):this.waterfall&&o>0&&o<this.gridData.length-1?A=this.gridData[o-1][1]:this.waterfall&&o==0&&o<this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?A=this._yaxis.series_u2p(0):this._yaxis.min>0?A=t.canvas.height:A=0:this.waterfall&&o==this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?A=this._yaxis.series_u2p(0):this._yaxis.min>0?A=t.canvas.height:A=0:A=t.canvas.height,this.fillToZero&&this._plotData[o][1]<0||this.waterfall&&this._data[o][1]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?u.fillStyle=x.next():u.fillStyle=T.next():u.fillStyle=N:this.varyBarColor&&!this._stack?u.fillStyle=T.next():u.fillStyle=C,!this.fillToZero||this._plotData[o][1]>=0?(S.push([k-this.barWidth/2,A]),S.push([k-this.barWidth/2,n[o][1]]),S.push([k+this.barWidth/2,n[o][1]]),S.push([k+this.barWidth/2,A])):(S.push([k-this.barWidth/2,n[o][1]]),S.push([k-this.barWidth/2,A]),S.push([k+this.barWidth/2,A]),S.push([k+this.barWidth/2,n[o][1]])),this._barPoints.push(S);if(a&&!this._stack){var O=e.extend(!0,{},u);delete O.fillStyle,this.renderer.shadowRenderer.draw(t,S,O)}var M=u.fillStyle||this.color;this._dataColors.push(M),this.renderer.shapeRenderer.draw(t,S,u)}else if(this.barDirection=="horizontal")for(var o=0;o<n.length;o++){if(!this._stack&&this.data[o][0]==null)continue;S=[],k=n[o][1]-this._barNudge,L,this._stack&&this._prevGridData.length?L=r(this.index,o,this._plotData[o][0],s,"x"):this.fillToZero?L=this._xaxis.series_u2p(0):this.waterfall&&o>0&&o<this.gridData.length-1?L=this.gridData[o-1][0]:this.waterfall&&o==0&&o<this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?L=this._xaxis.series_u2p(0):this._xaxis.min>0?L=0:L=0:this.waterfall&&o==this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?L=this._xaxis.series_u2p(0):this._xaxis.min>0?L=0:L=t.canvas.width:L=0,this.fillToZero&&this._plotData[o][0]<0||this.waterfall&&this._data[o][0]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?u.fillStyle=x.next():u.fillStyle=T.next():u.fillStyle=N:this.varyBarColor&&!this._stack?u.fillStyle=T.next():u.fillStyle=C,!this.fillToZero||this._plotData[o][0]>=0?(S.push([L,k+this.barWidth/2]),S.push([L,k-this.barWidth/2]),S.push([n[o][0],k-this.barWidth/2]),S.push([n[o][0],k+this.barWidth/2])):(S.push([n[o][0],k+this.barWidth/2]),S.push([n[o][0],k-this.barWidth/2]),S.push([L,k-this.barWidth/2]),S.push([L,k+this.barWidth/2])),this._barPoints.push(S);if(a&&!this._stack){var O=e.extend(!0,{},u);delete O.fillStyle,this.renderer.shadowRenderer.draw(t,S,O)}var M=u.fillStyle||this.color;this._dataColors.push(M),this.renderer.shapeRenderer.draw(t,S,u)}}if(this.highlightColors.length==0)this.highlightColors=e.jqplot.computeHighlightColors(this._dataColors);else if(typeof this.highlightColors=="string"){var y=this.highlightColors;this.highlightColors=[];for(var o=0;o<this._dataColors.length;o++)this.highlightColors.push(y)}},e.jqplot.BarRenderer.prototype.drawShadow=function(e,t,n,i){var s,o=n!=undefined?n:{},u=o.shadow!=undefined?o.shadow:this.shadow,a=o.showLine!=undefined?o.showLine:this.showLine,f=o.fill!=undefined?o.fill:this.fill,l=this.xaxis,c=this.yaxis,h=this._xaxis.series_u2p,p=this._yaxis.series_u2p,d,v,m,g,y,b;if(this._stack&&this.shadow){this.barWidth==null&&this.renderer.setBarWidth.call(this);var w=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);g=w[0],y=w[1],b=w[2],this._stack?this._barNudge=0:this._barNudge=(-Math.abs(y/2-.5)+b)*(this.barWidth+this.barPadding);if(a)if(this.barDirection=="vertical")for(var s=0;s<t.length;s++){if(this.data[s][1]==null)continue;v=[];var E=t[s][0]+this._barNudge,S;this._stack&&this._prevGridData.length?S=r(this.index,s,this._plotData[s][1],i,"y"):this.fillToZero?S=this._yaxis.series_u2p(0):S=e.canvas.height,v.push([E-this.barWidth/2,S]),v.push([E-this.barWidth/2,t[s][1]]),v.push([E+this.barWidth/2,t[s][1]]),v.push([E+this.barWidth/2,S]),this.renderer.shadowRenderer.draw(e,v,o)}else if(this.barDirection=="horizontal")for(var s=0;s<t.length;s++){if(this.data[s][0]==null)continue;v=[];var E=t[s][1]-this._barNudge,x;this._stack&&this._prevGridData.length?x=r(this.index,s,this._plotData[s][0],i,"x"):this.fillToZero?x=this._xaxis.series_u2p(0):x=0,v.push([x,E+this.barWidth/2]),v.push([t[s][0],E+this.barWidth/2]),v.push([t[s][0],E-this.barWidth/2]),v.push([x,E-this.barWidth/2]),this.renderer.shadowRenderer.draw(e,v,o)}}}}(jQuery),function(e){e.jqplot.CategoryAxisRenderer=function(t){e.jqplot.LinearAxisRenderer.call(this),this.sortMergedLabels=!1},e.jqplot.CategoryAxisRenderer.prototype=new e.jqplot.LinearAxisRenderer,e.jqplot.CategoryAxisRenderer.prototype.constructor=e.jqplot.CategoryAxisRenderer,e.jqplot.CategoryAxisRenderer.prototype.init=function(t){this.groups=1,this.groupLabels=[],this._groupLabels=[],this._grouped=!1,this._barsPerGroup=null,this.reverse=!1,e.extend(!0,this,{tickOptions:{formatString:"%d"}},t);var n=this._dataBounds;for(var r=0;r<this._series.length;r++){var i=this._series[r];i.groups&&(this.groups=i.groups);var s=i.data;for(var o=0;o<s.length;o++)if(this.name=="xaxis"||this.name=="x2axis"){if(s[o][0]<n.min||n.min==null)n.min=s[o][0];if(s[o][0]>n.max||n.max==null)n.max=s[o][0]}else{if(s[o][1]<n.min||n.min==null)n.min=s[o][1];if(s[o][1]>n.max||n.max==null)n.max=s[o][1]}}this.groupLabels.length&&(this.groups=this.groupLabels.length)},e.jqplot.CategoryAxisRenderer.prototype.createTicks=function(){var t=this._ticks,n=this.ticks,r=this.name,i=this._dataBounds,s,o,u,f,l,c,h,p;if(n.length){if(this.groups>1&&!this._grouped){var d=n.length,v=parseInt(d/this.groups,10),m=0;for(var p=v;p<d;p+=v)n.splice(p+m,0," "),m++;this._grouped=!0}this.min=.5,this.max=n.length+.5;var g=this.max-this.min;this.numberTicks=2*n.length+1;for(p=0;p<n.length;p++){h=this.min+2*p*g/(this.numberTicks-1);var y=new this.tickRenderer(this.tickOptions);y.showLabel=!1,y.setTick(h,this.name),this._ticks.push(y);var y=new this.tickRenderer(this.tickOptions);y.label=n[p],y.showMark=!1,y.showGridline=!1,y.setTick(h+.5,this.name),this._ticks.push(y)}var y=new this.tickRenderer(this.tickOptions);y.showLabel=!1,y.setTick(h+1,this.name),this._ticks.push(y)}else{r=="xaxis"||r=="x2axis"?s=this._plotDimensions.width:s=this._plotDimensions.height,this.min!=null&&this.max!=null&&this.numberTicks!=null&&(this.tickInterval=null),this.min!=null&&this.max!=null&&this.tickInterval!=null&&parseInt((this.max-this.min)/this.tickInterval,10)!=(this.max-this.min)/this.tickInterval&&(this.tickInterval=null);var b=[],w=0,u=.5,f,E,S=!1;for(var p=0;p<this._series.length;p++){var x=this._series[p];for(var T=0;T<x.data.length;T++)this.name=="xaxis"||this.name=="x2axis"?E=x.data[T][0]:E=x.data[T][1],e.inArray(E,b)==-1&&(S=!0,w+=1,b.push(E))}S&&this.sortMergedLabels&&(typeof b[0]=="string"?b.sort():b.sort(function(e,t){return e-t})),this.ticks=b;for(var p=0;p<this._series.length;p++){var x=this._series[p];for(var T=0;T<x.data.length;T++){this.name=="xaxis"||this.name=="x2axis"?E=x.data[T][0]:E=x.data[T][1];var N=e.inArray(E,b)+1;this.name=="xaxis"||this.name=="x2axis"?x.data[T][0]=N:x.data[T][1]=N}}if(this.groups>1&&!this._grouped){var d=b.length,v=parseInt(d/this.groups,10),m=0;for(var p=v;p<d;p+=v+1)b[p]=" ";this._grouped=!0}f=w+.5,this.numberTicks==null&&(this.numberTicks=2*w+1);var g=f-u;this.min=u,this.max=f;var C=0,k=parseInt(3+s/10,10),v=parseInt(w/k,10);this.tickInterval==null&&(this.tickInterval=g/(this.numberTicks-1));for(var p=0;p<this.numberTicks;p++){h=this.min+p*this.tickInterval;var y=new this.tickRenderer(this.tickOptions);p/2==parseInt(p/2,10)?(y.showLabel=!1,y.showMark=!0):(v>0&&C<v?(y.showLabel=!1,C+=1):(y.showLabel=!0,C=0),y.label=y.formatter(y.formatString,b[(p-1)/2]),y.showMark=!1,y.showGridline=!1),y.setTick(h,this.name),this._ticks.push(y)}}},e.jqplot.CategoryAxisRenderer.prototype.draw=function(t,n){if(this.show){this.renderer.createTicks.call(this);var r=0,i;this._elem&&this._elem.emptyForce(),this._elem=this._elem||e('<div class="jqplot-axis jqplot-'+this.name+'" style="position:absolute;"></div>'),this.name=="xaxis"||this.name=="x2axis"?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions);if(this._label.show){var s=this._label.draw(t,n);s.appendTo(this._elem)}var o=this._ticks;for(var u=0;u<o.length;u++){var f=o[u];if(f.showLabel&&(!f.isMinorTick||this.showMinorTicks)){var s=f.draw(t,n);s.appendTo(this._elem)}}this._groupLabels=[];for(var u=0;u<this.groupLabels.length;u++){var s=e('<div style="position:absolute;" class="jqplot-'+this.name+'-groupLabel"></div>');s.html(this.groupLabels[u]),this._groupLabels.push(s),s.appendTo(this._elem)}}return this._elem},e.jqplot.CategoryAxisRenderer.prototype.set=function(){var t=0,n,r=0,i=0,s=this._label==null?!1:this._label.show;if(this.show){var o=this._ticks;for(var u=0;u<o.length;u++){var f=o[u];f.showLabel&&(!f.isMinorTick||this.showMinorTicks)&&(this.name=="xaxis"||this.name=="x2axis"?n=f._elem.outerHeight(!0):n=f._elem.outerWidth(!0),n>t&&(t=n))}var l=0;for(var u=0;u<this._groupLabels.length;u++){var c=this._groupLabels[u];this.name=="xaxis"||this.name=="x2axis"?n=c.outerHeight(!0):n=c.outerWidth(!0),n>l&&(l=n)}s&&(r=this._label._elem.outerWidth(!0),i=this._label._elem.outerHeight(!0)),this.name=="xaxis"?(t+=l+i,this._elem.css({height:t+"px",left:"0px",bottom:"0px"})):this.name=="x2axis"?(t+=l+i,this._elem.css({height:t+"px",left:"0px",top:"0px"})):this.name=="yaxis"?(t+=l+r,this._elem.css({width:t+"px",left:"0px",top:"0px"}),s&&this._label.constructor==e.jqplot.AxisLabelRenderer&&this._label._elem.css("width",r+"px")):(t+=l+r,this._elem.css({width:t+"px",right:"0px",top:"0px"}),s&&this._label.constructor==e.jqplot.AxisLabelRenderer&&this._label._elem.css("width",r+"px"))}},e.jqplot.CategoryAxisRenderer.prototype.pack=function(t,n){var r=this._ticks,i=this.max,s=this.min,o=n.max,u=n.min,f=this._label==null?!1:this._label.show,l;for(var c in t)this._elem.css(c,t[c]);this._offsets=n;var h=o-u,p=i-s;this.reverse?(this.u2p=function(e){return u+(i-e)*h/p},this.p2u=function(e){return s+(e-u)*p/h},this.name=="xaxis"||this.name=="x2axis"?(this.series_u2p=function(e){return(i-e)*h/p},this.series_p2u=function(e){return e*p/h+i}):(this.series_u2p=function(e){return(s-e)*h/p},this.series_p2u=function(e){return e*p/h+s})):(this.u2p=function(e){return(e-s)*h/p+u},this.p2u=function(e){return(e-u)*p/h+s},this.name=="xaxis"||this.name=="x2axis"?(this.series_u2p=function(e){return(e-s)*h/p},this.series_p2u=function(e){return e*p/h+s}):(this.series_u2p=function(e){return(e-i)*h/p},this.series_p2u=function(e){return e*p/h+i}));if(this.show)if(this.name=="xaxis"||this.name=="x2axis"){for(l=0;l<r.length;l++){var d=r[l];if(d.show&&d.showLabel){var v;if(d.constructor==e.jqplot.CanvasAxisTickRenderer&&d.angle){var m=this.name=="xaxis"?1:-1;switch(d.labelPosition){case"auto":m*d.angle<0?v=-d.getWidth()+d._textRenderer.height*Math.sin(-d._textRenderer.angle)/2:v=-d._textRenderer.height*Math.sin(d._textRenderer.angle)/2;break;case"end":v=-d.getWidth()+d._textRenderer.height*Math.sin(-d._textRenderer.angle)/2;break;case"start":v=-d._textRenderer.height*Math.sin(d._textRenderer.angle)/2;break;case"middle":v=-d.getWidth()/2+d._textRenderer.height*Math.sin(-d._textRenderer.angle)/2;break;default:v=-d.getWidth()/2+d._textRenderer.height*Math.sin(-d._textRenderer.angle)/2}}else v=-d.getWidth()/2;var g=this.u2p(d.value)+v+"px";d._elem.css("left",g),d.pack()}}var y=["bottom",0];if(f){var b=this._label._elem.outerWidth(!0);this._label._elem.css("left",u+h/2-b/2+"px"),this.name=="xaxis"?(this._label._elem.css("bottom","0px"),y=["bottom",this._label._elem.outerHeight(!0)]):(this._label._elem.css("top","0px"),y=["top",this._label._elem.outerHeight(!0)]),this._label.pack()}var w=parseInt(this._ticks.length/this.groups,10)+1;for(l=0;l<this._groupLabels.length;l++){var E=0,S=0;for(var x=l*w;x<(l+1)*w;x++){if(x>=this._ticks.length-1)continue;if(this._ticks[x]._elem&&this._ticks[x].label!=" "){var d=this._ticks[x]._elem,c=d.position();E+=c.left+d.outerWidth(!0)/2,S++}}E/=S,this._groupLabels[l].css({left:E-this._groupLabels[l].outerWidth(!0)/2}),this._groupLabels[l].css(y[0],y[1])}}else{for(l=0;l<r.length;l++){var d=r[l];if(d.show&&d.showLabel){var v;if(d.constructor==e.jqplot.CanvasAxisTickRenderer&&d.angle){var m=this.name=="yaxis"?1:-1;switch(d.labelPosition){case"auto":case"end":m*d.angle<0?v=-d._textRenderer.height*Math.cos(-d._textRenderer.angle)/2:v=-d.getHeight()+d._textRenderer.height*Math.cos(d._textRenderer.angle)/2;break;case"start":d.angle>0?v=-d._textRenderer.height*Math.cos(-d._textRenderer.angle)/2:v=-d.getHeight()+d._textRenderer.height*Math.cos(d._textRenderer.angle)/2;break;case"middle":v=-d.getHeight()/2;break;default:v=-d.getHeight()/2}}else v=-d.getHeight()/2;var g=this.u2p(d.value)+v+"px";d._elem.css("top",g),d.pack()}}var y=["left",0];if(f){var T=this._label._elem.outerHeight(!0);this._label._elem.css("top",o-h/2-T/2+"px"),this.name=="yaxis"?(this._label._elem.css("left","0px"),y=["left",this._label._elem.outerWidth(!0)]):(this._label._elem.css("right","0px"),y=["right",this._label._elem.outerWidth(!0)]),this._label.pack()}var w=parseInt(this._ticks.length/this.groups,10)+1;for(l=0;l<this._groupLabels.length;l++){var E=0,S=0;for(var x=l*w;x<(l+1)*w;x++){if(x>=this._ticks.length-1)continue;if(this._ticks[x]._elem&&this._ticks[x].label!=" "){var d=this._ticks[x]._elem,c=d.position();E+=c.top+d.outerHeight()/2,S++}}E/=S,this._groupLabels[l].css({top:E-this._groupLabels[l].outerHeight()/2}),this._groupLabels[l].css(y[0],y[1])}}}}(jQuery),function(e){e.jqplot.PointLabels=function(t){this.show=e.jqplot.config.enablePlugins,this.location="n",this.labelsFromSeries=!1,this.seriesLabelIndex=null,this.labels=[],this._labels=[],this.stackedValue=!1,this.ypadding=6,this.xpadding=6,this.escapeHTML=!0,this.edgeTolerance=-5,this.formatter=e.jqplot.DefaultTickFormatter,this.formatString="",this.hideZeros=!1,this._elems=[],e.extend(!0,this,t)};var t=["nw","n","ne","e","se","s","sw","w"],n={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},r=["se","s","sw","w","nw","n","ne","e"];e.jqplot.PointLabels.init=function(t,n,r,i,s){var o=e.extend(!0,{},r,i);o.pointLabels=o.pointLabels||{},this.renderer.constructor===e.jqplot.BarRenderer&&this.barDirection==="horizontal"&&!o.pointLabels.location&&(o.pointLabels.location="e"),this.plugins.pointLabels=new e.jqplot.PointLabels(o.pointLabels),this.plugins.pointLabels.setLabels.call(this)},e.jqplot.PointLabels.prototype.setLabels=function(){var t=this.plugins.pointLabels,n;t.seriesLabelIndex!=null?n=t.seriesLabelIndex:this.renderer.constructor===e.jqplot.BarRenderer&&this.barDirection==="horizontal"?n=this._plotData[0].length<3?0:this._plotData[0].length-1:n=this._plotData.length===0?0:this._plotData[0].length-1,t._labels=[];if(t.labels.length===0||t.labelsFromSeries)if(t.stackedValue){if(this._plotData.length&&this._plotData[0].length)for(var r=0;r<this._plotData.length;r++)t._labels.push(this._plotData[r][n])}else{var i=this.data;this.renderer.constructor===e.jqplot.BarRenderer&&this.waterfall&&(i=this._data);if(i.length&&i[0].length)for(var r=0;r<i.length;r++)t._labels.push(i[r][n]);i=null}else t.labels.length&&(t._labels=t.labels)},e.jqplot.PointLabels.prototype.xOffset=function(e,t,n){t=t||this.location,n=n||this.xpadding;var r;switch(t){case"nw":r=-e.outerWidth(!0)-this.xpadding;break;case"n":r=-e.outerWidth(!0)/2;break;case"ne":r=this.xpadding;break;case"e":r=this.xpadding;break;case"se":r=this.xpadding;break;case"s":r=-e.outerWidth(!0)/2;break;case"sw":r=-e.outerWidth(!0)-this.xpadding;break;case"w":r=-e.outerWidth(!0)-this.xpadding;break;default:r=-e.outerWidth(!0)-this.xpadding}return r},e.jqplot.PointLabels.prototype.yOffset=function(e,t,n){t=t||this.location,n=n||this.xpadding;var r;switch(t){case"nw":r=-e.outerHeight(!0)-this.ypadding;break;case"n":r=-e.outerHeight(!0)-this.ypadding;break;case"ne":r=-e.outerHeight(!0)-this.ypadding;break;case"e":r=-e.outerHeight(!0)/2;break;case"se":r=this.ypadding;break;case"s":r=this.ypadding;break;case"sw":r=this.ypadding;break;case"w":r=-e.outerHeight(!0)/2;break;default:r=-e.outerHeight(!0)-this.ypadding}return r},e.jqplot.PointLabels.draw=function(t,i,s){var o=this.plugins.pointLabels;o.setLabels.call(this);for(var u=0;u<o._elems.length;u++)o._elems[u].emptyForce();o._elems.splice(0,o._elems.length);if(o.show){var a="_"+this._stackAxis+"axis";o.formatString||(o.formatString=this[a]._ticks[0].formatString,o.formatter=this[a]._ticks[0].formatter);var f=this._plotData,l=this._prevPlotData,h=this._xaxis,p=this._yaxis,v,m;for(var u=0,g=o._labels.length;u<g;u++){var y=o._labels[u];if(y==null||o.hideZeros&&parseInt(y,10)==0)continue;y=o.formatter(o.formatString,y),m=document.createElement("div"),o._elems[u]=e(m),v=o._elems[u],v.addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+u),v.css("position","absolute"),v.insertAfter(t.canvas),o.escapeHTML?v.text(y):v.html(y);var w=o.location;if(this.fillToZero&&f[u][1]<0||this.fillToZero&&this._type==="bar"&&this.barDirection==="horizontal"&&f[u][0]<0||(this.waterfall&&parseInt(y,10))<0)w=r[n[w]];var E=h.u2p(f[u][0])+o.xOffset(v,w),S=p.u2p(f[u][1])+o.yOffset(v,w);this._stack&&!o.stackedValue&&(this.barDirection==="vertical"?S=(this._barPoints[u][0][1]+this._barPoints[u][1][1])/2+s._gridPadding.top-.5*v.outerHeight(!0):E=(this._barPoints[u][2][0]+this._barPoints[u][0][0])/2+s._gridPadding.left-.5*v.outerWidth(!0)),this.renderer.constructor==e.jqplot.BarRenderer&&(this.barDirection=="vertical"?E+=this._barNudge:S-=this._barNudge),v.css("left",E),v.css("top",S);var x=E+v.width(),T=S+v.height(),N=o.edgeTolerance,C=e(t.canvas).position().left,k=e(t.canvas).position().top,L=t.canvas.width+C,A=t.canvas.height+k;(E-N<C||S-N<k||x+N>L||T+N>A)&&v.remove(),v=null,m=null}}},e.jqplot.postSeriesInitHooks.push(e.jqplot.PointLabels.init),e.jqplot.postDrawSeriesHooks.push(e.jqplot.PointLabels.draw)}(jQuery),define("jqplot_bar",["jquery"],function(){}),define("views/insurance/ParityPageView",["jquery","underscore","backbone","models/insurance/InsuranceInfoModel","collections/insurance/InsuranceCompanyCollection","text!templates/insurance/parity_price_page.html","text!templates/insurance/discount_detail.html","jqplot_bar"],function(e,t,n,r,i,s,o){e(s).appendTo("body");var u=n.View.extend({el:"#insurance_parity_price_page",initialize:function(n){this.plot_actual_amount_data=[0],this.plot_gift_data=[0],this.plot_ticks=[],this.plot=e.jqplot("insurance_parity_price_chart_container",[this.plot_actual_amount_data,this.plot_gift_data],{title:"比价",animate:!1,stackSeries:!0,captureRightClick:!0,seriesDefaults:{renderer:e.jqplot.BarRenderer,rendererOptions:{barMargin:10,highlightMouseDown:!0},pointLabels:{show:!0}},axes:{xaxis:{renderer:e.jqplot.CategoryAxisRenderer,ticks:this.plot_ticks,label:"点击柱状图,显示初算详情"},yaxis:{rendererOptions:{forceTickAt0:!0},padMin:0}},legend:{labels:["实际只需","礼包"],show:!0,location:"se",placement:"inside"}}),this.total_standard=0,this.discount_detail_tpl=t.template(o),this.insurance_info=new r,this.company=new i,this.listenTo(this.insurance_info,"change:result",this._resultProcess),this.listenTo(this.company,"reset",this._discountProcess)},events:{"jqplotDataClick #insurance_parity_price_chart_container":"_onChartSeriesClick","click .apply-actual-btn":"_onApplyActualBtnClick"},_onChartSeriesClick:function(e,t,n,r){var i=this.insurance_info.attributes,s=this.company.models[n].attributes,o=this.insurance_info.result.attributes;this.$el.find(".discount-detail").empty().append(this.discount_detail_tpl({info:i,company:s,result:o})),this.$el.find(".apply-actual-btn").show()},_onApplyActualBtnClick:function(e){this.trigger("uri",this,"insurance/apply_actual/"+this.insurance_info.get("id"))},_resultProcess:function(e,t,n){var r=t.attributes;this.standard_compulsory=Number(r.standardCompulsoryInsurance)||0,this.after_discount_compulsory=Number(r.afterDiscountCompulsoryInsurance||0),this.standard_damage=Number(r.standardDamageInsurance)||0,this.coefficient=r.coefficient,this.standard_third=Number(r.standardThird)||0,this.standard_driver=Number(r.standardDriver)||0,this.standard_passenger=Number(r.standardPassenger)||0,this.standard_robbery=Number(r.standardRobbery)||0,this.standard_glass=Number(r.standardGlass)||0,this.standard_scratch=Number(r.standardScratch)||0,this.standard_self_ignition=Number(r.standardSelfIgnition)||0,this.standard_optional_deductible=Number(r.standardOptionalDeductible)||0,this.standard_not_deductible=Number(r.standardNotDeductible)||0,this.total_standard=Number(r.totalStandard)||0;if(this.company.models.length==0)return;var i=this.company.models.length;this.plot_actual_amount_data.splice(0,this.plot_actual_amount_data.length),this.plot_gift_data.splice(0,this.plot_gift_data.length),this.plot_ticks.splice(0,this.plot_ticks.length);for(var s=0;s<i;s++){var o=this.company.models[s].attributes;if(o.gift==0&&this.standard_damage)continue;this.plot_ticks.push(o.short_name);var u=Number(o.discount),a=Number(o.car_price_discount),f=this.after_discount_compulsory,l=0,c=0;this.coefficient==1?(c=(this.standard_damage-619)*100/1.47*a,l=Math.round((c*1.47/100+619)*100)/100):this.coefficient==2?(c=(this.standard_damage-590)*100/1.4*a,l=Math.round((c*1.4/100+590)*100)/100):this.coefficient==3||this.coefficient==4||this.coefficient==5?(c=(this.standard_damage-584)*100/1.39*a,l=Math.round((c*1.39/100+584)*100)/100):this.coefficient==6&&(c=(this.standard_damage-602)*100/1.43*a,l=Math.round((c*1.43/100+602)*100)/100);var h=this.standard_third*u,p=this.standard_driver*u,d=this.standard_passenger*u,v=this.standard_robbery*u,m=this.standard_glass*u,g=this.standard_scratch*u,y=this.standard_self_ignition*u,b=this.standard_optional_deductible*u,w=this.standard_not_deductible*u,E=(this.total_standard-this.standard_compulsory)*u+f,S=Number(o.gift),x=Number(o.gift2),T=Number(o.gift3),N=0,C=this.insurance_info.get("car_type_id");C==1?l!=0?(E=(this.total_standard-this.standard_damage-this.standard_compulsory)*u+l+f,N=E*S):N=E*x:N=0,this.plot_actual_amount_data.push(Math.floor((E-N)*100)/100),this.plot_gift_data.push(Math.ceil(N*100)/100)}this.plot.replot({data:[this.plot_actual_amount_data,this.plot_gift_data],resetAxes:!0,axes:{xaxis:{ticks:this.plot_ticks,numberTicks:this.plot_ticks.length}}})},_discountProcess:function(e,t){if(this.total_standard==0)return;console.log("company");var n=this.company.models.length;this.plot_actual_amount_data.splice(0,this.plot_actual_amount_data.length),this.plot_gift_data.splice(0,this.plot_gift_data.length),this.plot_ticks.splice(0,this.plot_ticks.length);for(var r=0;r<n;r++){var i=this.company.models[r].attributes;if(i.gift==0&&this.standard_damage)continue;this.plot_ticks.push(i.short_name);var s=Number(i.discount),o=Number(i.car_price_discount),u=this.after_discount_compulsory,a=0,f=0;this.coefficient==1?(f=(this.standard_damage-619)*100/1.47*o,a=Math.round((f*1.47/100+619)*100)/100):this.coefficient==2?(f=(this.standard_damage-590)*100/1.4*o,a=Math.round((f*1.4/100+590)*100)/100):this.coefficient==3||this.coefficient==4||this.coefficient==5?(f=(this.standard_damage-584)*100/1.39*o,a=Math.round((f*1.39/100+584)*100)/100):this.coefficient==6&&(f=(this.standard_damage-602)*100/1.43*o,a=Math.round((f*1.43/100+602)*100)/100);var l=this.standard_third*s,c=this.standard_driver*s,h=this.standard_passenger*s,p=this.standard_robbery*s,d=this.standard_glass*s,v=this.standard_scratch*s,m=this.standard_self_ignition*s,g=this.standard_optional_deductible*s,y=this.standard_not_deductible*s,b=(this.total_standard-this.standard_compulsory)*s+u,w=Number(i.gift),E=Number(i.gift2),S=Number(i.gift3),x=0,T=this.insurance_info.get("car_type_id");T==1?a!=0?(b=(this.total_standard-this.standard_damage-this.standard_compulsory)*s+a+u,x=b*w):x=b*E:x=0,this.plot_actual_amount_data.push(Math.floor((b-x)*100)/100),this.plot_gift_data.push(Math.ceil(x*100)/100)}this.plot.replot({data:[this.plot_actual_amount_data,this.plot_gift_data],resetAxes:!0,axes:{xaxis:{ticks:this.plot_ticks,numberTicks:this.plot_ticks.length}}})},loadInfo:function(e){this.$el.find(".apply-actual-btn").hide(),this.$el.find(".discount-detail").empty(),this.insurance_info.set("id",e,{silent:!0}),this.insurance_info.fetch(),this.company.fetch({reset:!0})}});return u}),define("models/insurance/PolicyFormModel",["underscore","backbone"],function(e,t){var n=t.Model.extend({url:function(){return"/insurance/"+this.get("info_id")+"/apply_policy"},parse:function(e,t){return e.row||{}},validate:function(e,t){if(!e.info_id)return"没有选择保险信息";if(!e.company_id)return"请选择保险公司(点击柱状图)"}});return n}),define("models/insurance/FinalResultModel",["backbone"],function(e){var t=e.Model.extend({urlRoot:"/insurance/final_result/",parse:function(e,t){return t.collection?e:e.row||{}}});return t}),define("collections/insurance/FinalResultCollection",["backbone","models/insurance/FinalResultModel"],function(e,t){var n=e.Collection.extend({model:t,initialize:function(e,t){t||(t={}),this.info_id=t.info_id||""},url:function(){return"/insurance/"+this.info_id+"/actuary_results"},parse:function(e,t){return e.rows},setInfoId:function(e){this.info_id=e}});return n}),define("text!templates/insurance/final_parity_price_page.html",[],function(){return'<!--新保精算结果比价页面-->\n<div data-role="page" id="insurance_final_parity_price_page" data-theme="a" style="padding-top: 44px; padding-bottom: 44px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>保险巨惠-精算结果比价</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <div id="insurance_final_parity_price_chart_container" style="margin: auto; width:320px; height: 300px"></div>\n        <div class="result-detail"></div>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <button class="apply-policy-btn" data-theme="f" style="padding:0.7em 0.5%;width: 99%;color:white;">我要下单</button>\n    </div>\n</div>'}),define("text!templates/insurance/result_detail.html",[],function(){return'<%\n    var standard_compulsory = Number(result.standardCompulsoryInsurance);\n    var standard_damage = Number(result.standardDamageInsurance);\n    var standard_third = Number(result.standardThird);\n    var standard_driver = Number(result.standardDriver);\n    var standard_passenger = Number(result.standardPassenger);\n    var standard_robbery = Number(result.standardRobbery);\n    var standard_glass = Number(result.standardGlass);\n    var standard_scratch = Number(result.standardScratch);\n    var standard_self_ignition = Number(result.standardSelfIgnition);\n    var standard_optional_deductible = Number(result.standardOptionalDeductible);\n    var standard_not_deductible = Number(result.standardNotDeductible);\n    var total_standard = Number(result.totalStandard);\n\n    var after_discount_compulsory = Number(result.afterDiscountCompulsoryInsurance);\n    var after_discount_damage = Number(result.afterDiscountDamageInsurance);\n    var after_discount_third = Number(result.afterDiscountThird);\n    var after_discount_driver = Number(result.afterDiscountDriver);\n    var after_discount_passenger = Number(result.afterDiscountPassenger);\n    var after_discount_robbery = Number(result.afterDiscountRobbery);\n    var after_discount_glass = Number(result.afterDiscountGlass);\n    var after_discount_scratch = Number(result.afterDiscountScratch);\n    var after_discount_self_ignition = Number(result.afterDiscountSelfIgnition);\n    var after_discount_optional_deductible = Number(result.afterDiscountOptionalDeductible);\n    var after_discount_not_deductible = Number(result.afterDiscountNotDeductible);\n    var total_after_discount = Number(result.totalAfterDiscount);\n\n    var gift_money = Number(result.giftMoney);\n\n%>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>保险公司</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= result.company_name %></td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>精算详细列表</td>\n    </tr>\n</table>\n<table  class="insurance-price-detail bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td></td>\n        <th colspan="2">标准保费</th>\n        <th colspan="2">优惠保费</th>\n    </tr>\n    <% if( standard_compulsory != 0 ){ %>\n    <tr>\n        <th>交强险</th>\n        <td colspan="2"><%= standard_compulsory.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_compulsory.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_damage != 0 ){ %>\n    <tr>\n        <th>车损险</th>\n        <td colspan="2"><%= standard_damage.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_damage.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_third != 0 ){ %>\n    <tr>\n        <%\n            var standard_third_str = null;\n            var after_discount_third_str = null;\n            if(standard_third < 0){\n                standard_third_str = \'待算\';\n                after_discount_third_str = \'待算\';\n            }else{\n                standard_third_str = standard_third.toFixed(2);\n                after_discount_third_str = after_discount_third.toFixed(2);\n            }\n        %>\n        <th>第三者险</th>\n        <td colspan="2"><%= standard_third_str %></td>\n        <td colspan="2"><%= after_discount_third.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_driver != 0 ){ %>\n    <tr>\n        <th>司机座位险</th>\n        <td colspan="2"><%= standard_driver.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_driver.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_passenger != 0 ){ %>\n    <tr>\n        <th>乘客座位险</th>\n        <td colspan="2"><%= standard_passenger.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_passenger.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_robbery != 0 ){ %>\n    <tr>\n        <th>盗抢险</th>\n        <td colspan="2"><%= standard_robbery.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_robbery.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_glass != 0 ){ %>\n    <tr>\n        <th>玻璃单独破损险</th>\n        <td colspan="2"><%= standard_glass.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_glass.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_scratch != 0 ){ %>\n    <tr>\n        <th>划痕</th>\n        <td colspan="2"><%= standard_scratch.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_scratch.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_self_ignition != 0 ){ %>\n    <tr>\n        <th>自然</th>\n        <td colspan="2"><%= standard_self_ignition.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_self_ignition.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_optional_deductible != 0 ){ %>\n    <tr>\n        <th>可选免赔</th>\n        <td colspan="2"><%= standard_optional_deductible.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_optional_deductible.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <% if( standard_not_deductible != 0 ){ %>\n    <tr>\n        <th>不计免赔</th>\n        <td colspan="2"><%= standard_not_deductible.toFixed(2) %></td>\n        <td colspan="2"><%= after_discount_not_deductible.toFixed(2) %></td>\n    </tr>\n    <% } %>\n    <tr>\n        <th style="background-color: orangered">总价</th>\n        <td colspan="2"><%= total_standard.toFixed(2) %></td>\n        <td colspan="2"><%= total_after_discount.toFixed(2) %></td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>出单赠送礼包金额</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= gift_money.toFixed(2) %></td>\n    </tr>\n</table>'}),define("views/insurance/FinalParityPageView",["jquery","underscore","backbone","models/insurance/PolicyFormModel","collections/insurance/FinalResultCollection","text!templates/insurance/final_parity_price_page.html","text!templates/insurance/result_detail.html","jqplot_bar","base64"],function(e,t,n,r,i,s,o){e(s).appendTo("body");var u=n.View.extend({el:"#insurance_final_parity_price_page",initialize:function(n){this.form_model=new r,this.actuary_results=new i,this.plot_actual_amount_data=[0],this.plot_discount_data=[0],this.plot_gift_money_data=[0],this.plot_ticks=[],this.plot=e.jqplot("insurance_final_parity_price_chart_container",[this.plot_actual_amount_data,this.plot_gift_money_data],{title:"精算比价",animate:!1,stackSeries:!0,captureRightClick:!0,seriesDefaults:{renderer:e.jqplot.BarRenderer,rendererOptions:{barMargin:10,highlightMouseDown:!0},pointLabels:{show:!0}},axes:{xaxis:{renderer:e.jqplot.CategoryAxisRenderer,ticks:this.plot_ticks,label:"点击柱状图,显示精算详情"},yaxis:{rendererOptions:{forceTickAt0:!0},padMin:0}},legend:{labels:["实际只需","礼包"],show:!0,location:"se",placement:"inside"}}),this.result_detail_tpl=t.template(o),this.listenTo(this.actuary_results,"reset",this._render),this.listenTo(this.form_model,"invalid",this._onFormInvalid),this.listenTo(this.form_model,"sync",this._onApplyPolicySuccess)},events:{"jqplotDataClick #insurance_final_parity_price_chart_container":"_onChartSeriesClick","click .apply-policy-btn":"_onApplyPolicyBtnClick"},_onChartSeriesClick:function(e,t,n,r){var i=this.actuary_results.models[n].attributes;this.form_model.set("company_id",i.company_id),this.form_model.set("result_id",i.result_id),this.$el.find(".result-detail").empty().append(this.result_detail_tpl({result:i}))},_onApplyPolicyBtnClick:function(e){this.form_model.isValid()&&this.form_model.save()},_onFormInvalid:function(t,n){e.cm.toast({msg:n})},_onApplyPolicySuccess:function(e,t,n){t.success&&this.trigger("uri",this,"insurance/"+this.form_model.get("info_id")+"/pay_order")},_render:function(e,t){var n=e.models,r=n.length;this.plot_actual_amount_data.splice(0,this.plot_actual_amount_data.length),this.plot_gift_money_data.splice(0,this.plot_gift_money_data.length),this.plot_ticks.splice(0,this.plot_ticks.length);for(var i=0;i<r;i++){var s=n[i].attributes;this.plot_actual_amount_data.push(Number(Number(s.totalAfterDiscount-s.giftMoney).toFixed(2))),this.plot_discount_data.push(Number(Number(s.totalStandard-s.totalAfterDiscount).toFixed(2))),this.plot_gift_money_data.push(Number(s.giftMoney)),this.plot_ticks.push(s.company_short_name)}this.plot.replot({data:[this.plot_actual_amount_data,this.plot_gift_money_data],resetAxes:!0,axes:{xaxis:{ticks:this.plot_ticks}}})},loadInfo:function(e){this._clear(),this.form_model.set("info_id",e,{silent:!0}),this.actuary_results.setInfoId(e),this.actuary_results.fetch({reset:!0})},_clear:function(){this.form_model.clear(),this.$el.find(".result-detail").empty()}});return u}),define("models/insurance/InsuranceActualFormModel",["underscore","backbone"],function(e,t){var n=t.Model.extend({url:"/insurance/actual",parse:function(e,t){return e.row||{}},validate:function(t,n){var r=/\d{11}/,i=/^[\u4e00-\u9fa5][A-Z][A-Za-z\d]{5}$/,s=/^[\u4e00-\u9fa5]+$/,o=/^\d{17}[\d\w]$/;if(!e.isUndefined(t.phone)&&!r.test(t.phone))return"手机号码不合法";if(e.isUndefined(t.no_hphm)&&!e.isUndefined(t.hphm)&&!t.hphm)return"请填写车牌号";if(!e.isUndefined(t.hphm)&&!i.test(t.hphm))return"号牌号码不正确";if(!e.isUndefined(t.auto_name)&&!t.auto_name)return"请填写车辆品牌种类(车型)";if(!e.isUndefined(t.frame_number)&&!t.frame_number)return"请填写车架号";if(!e.isUndefined(t.engine_number)&&!t.engine_number)return"请填写发动机号";if(!e.isUndefined(t.user_name)&&(!t.user_name||!s.test(t.user_name)))return"请填写真实姓名";if(!e.isUndefined(t.sfzh)&&(!t.sfzh||!o.test(t.sfzh)))return"请填写正确的身份证号";if(!e.isUndefined(t.driving_license_a)&&!t.driving_license_a)return"请上传行车证正面";if(!e.isUndefined(t.driving_license_b)&&!t.driving_license_b)return"请上传行车证反面";if(!e.isUndefined(t.idcard)&&!t.idcard)return"请上传身份证正面"}});return n}),define("models/activity/ActivityPuserModel",["backbone"],function(e){var t=e.Model.extend({url:function(){return"/activity/"+this.get("aid")+"/"+this.get("user_id")+"/puser"},parse:function(e,t){return t.collection?e:e.row}});return t}),define("text!templates/insurance/apply_actual_page.html",[],function(){return'<!--新保险申请精算页面-->\n<div data-role="page" id="insurance_apply_actual_page" data-theme="a" style="padding-top: 44px; padding-bottom: 44px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>申请精算</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <div class="fb_box">\n            <div class="fb_box_bt">邀请码:\n                <input name="invitation_code" type="text" class="fb_box_input" style="width: 60%; float: right" />\n            </div>\n            <div class="fb_box_bt">联系电话:\n                <input name="phone" type="text" class="fb_box_input" style="width: 60%; float: right" />\n            </div>\n            <div class="fb_box_bt">微信号(选填):\n                <input name="weixin" type="text" class="fb_box_input" style="width: 60%; float: right" />\n            </div>\n        </div>\n        <div class="manual-form">\n            <div class="fb_box">\n                <div class="fb_box_bt">车牌号:\n                    <input name="hphm" type="text" class="fb_box_input" style="width: 40%; float: right"/>\n                    <select name="hphm_header" data-ignore style="width:20%; float:right">\n                        <option value="云" selected>云</option>\n                    </select>\n                </div>\n                <div class="fb_box_bt">车辆品牌型号:\n                    <input name="auto_name" type="text" class="fb_box_input" style="width: 60%; float: right"/>\n                </div>\n                <div class="fb_box_bt" style="text-align:right">\n                    <input name="no_hphm" type="checkbox" /><span>还未获取牌照</span>\n                </div>\n                <div class="fb_box_bt">车架号:<input name="frame_number" type="text" class="fb_box_input" style="width: 60%; float: right"/>\n                </div>\n                <div class="fb_box_bt">发动机号:\n                    <input name="engine_number" type="text" class="fb_box_input" style="width: 60%; float: right"/>\n                </div>\n                <div class="fb_box_bt">车主姓名:\n                    <input name="user_name" type="text" class="fb_box_input" style="width: 60%; float: right"/>\n                </div>\n                <div class="fb_box_bt">身份证号:\n                    <input name="sfzh" type="text" class="fb_box_input" style="width: 60%; float: right"/>\n                </div>\n                <div class="fb_box_bt">\n                    <table style="width:100%">\n                        <tr>\n                            <td style="width:115px">注册日期:</td>\n                            <td>\n                                <select name="first_year" type="text" class="fb_box_input2" style="width:45%; text-align: center; float:none"></select>\n                                <select name="first_month" type="text" class="fb_box_input2" style="width:45%; text-align: center; float:none"></select>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="width:115px">保险生效日期<br/>(针对新车):</td>\n                            <td>\n                                <select name="insurance_year" type="text" class="fb_box_input2" style="width:45%; text-align: center; float:none">\n                                    <option value=""></option>\n                                </select>\n                                <select name="insurance_month" type="text" class="fb_box_input2" style="width:45%; text-align: center; float:none">\n                                    <option value=""></option>\n                                </select>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                <button class="to-file" data-theme="f" style="width:30%; float: right">上传资料更方便&gt&gt&gt</button>\n            </div>\n        </div>\n        <div class="file-form" style="display:none">\n            <div class="fb_box">\n                <div class="fb_box_bt">行驶证正本\n                    <input class="upload-license-a-btn bx_fb_box_button no-enhance" type="button"  value="上传照片"/>\n                    <input name="driving_license_a" type="hidden"/>\n                    <input class="driving-license-a-file" type="file" style="display:none"/>\n                </div>\n                <div class="fb_box_bt" style="text-align:center">\n                    <canvas class="thumbnail thumbnail-license-a" width="640" height="480" style="width:100px; height:100px"></canvas>\n                    <img class="thumbnail thumbnail-license-a" data-rel="canvas.thumbnail-license-a" src="" style="display:none" />\n                </div>\n                <div class="fb_box_bt">行驶证副本\n                    <input class="upload-license-b-btn bx_fb_box_button no-enhance" type="button"  value="上传照片"/>\n                    <input name="driving_license_b" type="hidden"/>\n                    <input class="driving-license-b-file" type="file" style="display:none"/>\n                </div>\n                <div class="fb_box_bt" style="text-align:center">\n                    <canvas class="thumbnail thumbnail-license-b" width="640" height="480" style="width:100px; height:100px"></canvas>\n                    <img class="thumbnail thumbnail-license-b" data-rel="canvas.thumbnail-license-b" src="" style="display:none" />\n                </div>\n                <div class="fb_box_bt">身份证正面\n                    <input class="upload-idcard-btn bx_fb_box_button no-enhance" type="button" value="上传照片"/>\n                    <input name="idcard" type="hidden"/>\n                    <input class="idcard-file" type="file" style="display:none"/>\n                </div>\n                <div class="fb_box_bt" style="text-align:center">\n                    <canvas class="thumbnail thumbnail-idcard" width="640" height="480" style="width:100px; height:100px"></canvas>\n                    <img class="thumbnail thumbnail-idcard" data-rel="canvas.thumbnail-idcard" src="" style="display:none" />\n                </div>\n                <div class="fb_box_bt">保险卡(可选)\n                    <input class="upload-insurance-card-btn bx_fb_box_button no-enhance" type="button" value="上传照片"/>\n                    <input name="insurance_card" type="hidden"/>\n                    <input class="insurance-card-file" type="file" style="display:none"/>\n                </div>\n                <div class="fb_box_bt" style="text-align:center">\n                    <canvas class="thumbnail thumbnail-insurance-card" width="640" height="480" style="width:100px; height:100px"></canvas>\n                    <img class="thumbnail thumbnail-insurance-card" data-rel="canvas.thumbnail-insurance-card" src="" style="display:none" />\n                </div>\n                <div class="fb_box_bt">\n                    <table style="width:100%">\n                        <tr>\n                            <td style="width:115px">保险生效日期<br/>(针对新车):</td>\n                            <td>\n                                <select name="insurance_year" type="text" class="fb_box_input2" style="width:45%; text-align: center; float:none">\n                                    <option value=""></option>\n                                </select>\n                                <select name="insurance_month" type="text" class="fb_box_input2" style="width:45%; text-align: center; float:none">\n                                    <option value=""></option>\n                                </select>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                <button class="to-manual" data-theme="f" style="width:30%; float: left">&lt&lt&lt没有资料照片</button>\n            </div>\n        </div>\n    </div>\n    <div data-role="popup" id="insurance_attach_preview_popup" data-overlay-theme="g" data-theme="a" data-corners="true" data-enhance="false">\n        <a href="#" data-rel="back" data-theme="j" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" style="background-color: #333; color: #FFF; border-color:#666; border-radius: 25em; position: absolute; right: -12px; top:-12px;"></a>\n        <img id="insurance_attach_preview_img" src="" style="width:100%;"/>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <a class="apply-actual-btn" data-theme="g" style="padding:0.7em 0.5%;width: 99%;color:white;">申请精算</a>\n    </div>\n</div>'}),define("views/insurance/ApplyActualPageView",["jquery","underscore","backbone","models/insurance/InsuranceActualFormModel","models/activity/ActivityPuserModel","text!templates/insurance/apply_actual_page.html"],function(e,t,n,r,i,s){e(s).appendTo("body");var o=n.View.extend({el:"#insurance_apply_actual_page",initialize:function(){this.model=new r,this.activity_puser_model=new i,this.listenTo(this.model,"change:info_id",this._render),this.listenTo(this.model,"invalid",this._onFormModelInvalid),this.listenTo(this.activity_puser_model,"change:invitation_code",this._renderInvitationCode),this.$el.find("img.thumbnail").bind("load",t.bind(this._onThumbnailImageLoad,this)),navigator.userAgent.indexOf("Android")!=-1&&this.$el.find(".to-file").hide(),this._renderSelect()},events:{"click .to-file":"_onToFileClick","click .to-manual":"_onToManualClick","click .upload-license-a-btn":"_onUploadLicenseABtnClick","click .upload-license-b-btn":"_onUploadLicenseBBtnClick","click .upload-idcard-btn":"_onUploadIdCardBtnClick","click .upload-insurance-card-btn":"_onUploadInsuranceCardBtnClick","click .apply-actual-btn":"_onApplyActualClick","click canvas.thumbnail":"_onThumbnailClick",'change [name="no_hphm"]':"_onNoHphmChange","change .driving-license-a-file":"_onLicenseAFileChange","change .driving-license-b-file":"_onLicenseBFileChange","change .idcard-file":"_onIdcardFileChange","change .insurance-card-file":"_onInsuranceCardFileChange"},_onToFileClick:function(e){this.$el.find(".manual-form").hide(),this.$el.find(".file-form").show()},_onToManualClick:function(e){this.$el.find(".file-form").hide(),this.$el.find(".manual-form").show()},_onUploadLicenseABtnClick:function(e){this.$el.find(".driving-license-a-file").click()},_onUploadLicenseBBtnClick:function(e){this.$el.find(".driving-license-b-file").click()},_onUploadIdCardBtnClick:function(e){this.$el.find(".idcard-file").click()},_onUploadInsuranceCardBtnClick:function(e){this.$el.find(".insurance-card-file").click()},_onThumbnailClick:function(e){var t=e.target;this.$el.find("#insurance_attach_preview_img").attr("src",t.toDataURL()),this.$el.find("#insurance_attach_preview_popup").popup("open")},_onNoHphmChange:function(t){var n=e(t.target).prop("checked");n?this.$el.find('[name="hphm"]').prop("disabled",!0).attr("placeholder","还未获取牌照,不需填写").text(""):this.$el.find('[name="hphm"]').prop("disabled",!1).attr("placeholder","")},_onLicenseAFileChange:function(t,n){var r=this;if(n)r.$el.find("img.thumbnail-license-a").attr("src","data:image/png;base64,"+decodeURIComponent(n.result));else{var i=e(t.target).prop("files")[0],s=new FileReader;s.onload=function(e){var t=e.target.result;r.$el.find("img.thumbnail-license-a").attr("src",t)},s.readAsDataURL(i)}},_onLicenseBFileChange:function(t,n){var r=this;if(n)r.$el.find("img.thumbnail-license-b").attr("src","data:image/png;base64,"+decodeURIComponent(n.result));else{var i=e(t.target).prop("files")[0],s=new FileReader;s.onload=function(e){var t=e.target.result;r.$el.find("img.thumbnail-license-b").attr("src",t)},s.readAsDataURL(i)}},_onIdcardFileChange:function(t,n){var r=this;if(n)r.$el.find("img.thumbnail-idcard").attr("src","data:image/png;base64,"+decodeURIComponent(n.result));else{var i=e(t.target).prop("files")[0],s=new FileReader;s.onload=function(e){var t=e.target.result;r.$el.find("img.thumbnail-idcard").attr("src",t)},s.readAsDataURL(i)}},_onInsuranceCardFileChange:function(t,n){var r=this;if(n)r.$el.find("img.thumbnail-insurance-card").attr("src","data:image/png;base64,"+decodeURIComponent(n.result));else{var i=e(t.target).prop("files")[0],s=new FileReader;s.onload=function(e){var t=e.target.result;r.$el.find("img.thumbnail-insurance-card").attr("src",t)},s.readAsDataURL(i)}},_onThumbnailImageLoad:function(t){var n=t.target,r=n.width,i=n.height,s=640,o=480,u=e(t.target).attr("data-rel"),a=this.$el.find(u)[0],f=a.getContext("2d"),l=0,c=0,h=0,p=0;r>i?(h=s,p=s/r*i,c=(o-p)/2):(p=o,h=o/i*r,l=(s-h)/2),f.clearRect(0,0,a.width,a.height),f.drawImage(n,l,c,h,p),e(a).attr("data-ready","true")},_onApplyActualClick:function(e){this._collectionFormData(),this.model.isValid()&&this.model.save()},_render:function(e,t){this.$el.find("[name=phone]").val(G.user.phone||""),this.is_compulsory?this.$el.find(".apply-actual-btn").text("我要投保"):this.$el.find(".apply-actual-btn").text("我要精算")},_renderSelect:function(){var e=new Date,t=e.getFullYear(),n=t-25;for(var r=t;r>=n;r--)this.$el.find("[name=first_year]").append('<option value="'+r+'">'+r+"年</option>"),this.$el.find("[name=insurance_year]").append('<option value="'+r+'">'+r+"年</option>");for(var i=12;i>=1;i--)this.$el.find("[name=first_month]").append('<option value="'+i+'">'+i+"月</option>"),this.$el.find("[name=insurance_month]").append('<option value="'+i+'">'+i+"月</option>")},_onFormModelInvalid:function(t,n){e.cm.toast({msg:n})},_renderInvitationCode:function(e,t,n){this.$el.find('[name="invitation_code"]').val(t).prop("disabled",!0)},_collectionFormData:function(){var t=this,n=this.model.get("info_id");this.model.clear({silent:!0}),this.model.set("info_id",n,{silent:!0});var t=this;this.$el.find("[name]:visible:not([data-ignore])").each(function(n,r){if(e(r).is("input:checkbox")&&!e(r).prop("checked"))return;var i=e(r).attr("name"),s=e(r).val();i=="hphm"&&s&&(s=t.$el.find("[name=hphm_header]").val()+s),t.model.set(i,s,{silent:!0})});if(this.$el.find(".file-form").is(":visible")){var r=null,i=null,s=null,o=null;if(this.$el.find("canvas.thumbnail-license-a").attr("data-ready")==="true"){var u=this.$el.find("canvas.thumbnail-license-a")[0];r=u.toDataURL().match(/data:image\/.*;base64,(.*)/)[1]}if(this.$el.find("canvas.thumbnail-license-b").attr("data-ready")==="true"){var a=this.$el.find("canvas.thumbnail-license-b")[0];i=a.toDataURL().match(/data:image\/.*;base64,(.*)/)[1]}if(this.$el.find("canvas.thumbnail-idcard").attr("data-ready")==="true"){var f=this.$el.find("canvas.thumbnail-idcard")[0];s=f.toDataURL().match(/data:image\/.*;base64,(.*)/)[1]}if(this.$el.find("canvas.thumbnail-insurance-card").attr("data-ready")==="true"){var l=this.$el.find("canvas.thumbnail-insurance-card")[0];o=l.toDataURL().match(/data:image\/.*;base64,(.*)/)[1]}this.model.set({driving_license_a:r,driving_license_b:i,idcard:s,insurance_card:o},{silent:!0})}},reset:function(){this.$el.find('[name="invitation_code"]').val("").prop("disabled",!1),this.activity_puser_model.set("aid",228),this.activity_puser_model.set("user_id",G.user.user_id),this.activity_puser_model.fetch()}});return o}),define("models/insurance/InsuranceOrderInfoModel",["backbone"],function(e){var t=e.Model.extend({url:function(){return"/insurance/"+this.get("insurance_info_id")+"/order_info"},parse:function(e,t){return t.collection?e:e.row||{}},validate:function(e,t){if(!e.address||!e.province_id||!e.city_id)return"请填写收单地址"}});return t}),define("models/CityModel",["backbone"],function(e){var t=e.Model.extend({});return t}),define("collections/CityCollection",["backbone","models/CityModel"],function(e,t){var n=e.Collection.extend({initialize:function(){this.province_id=null},model:t,url:function(){return"/citise/"+this.province_id},parse:function(e,t){return e.rows},setProvinceId:function(e){return this.province_id==e?this:(this.province_id=e,this.fetch({reset:!0}),this.trigger("change:province_id",this,e),this)}});return n}),define("models/ProvinceModel",["backbone"],function(e){var t=e.Model.extend({});return t}),define("collections/ProvinceCollection",["backbone","models/ProvinceModel"],function(e,t){var n=e.Collection.extend({model:t,url:function(){return"/provinces"},parse:function(e,t){return e.rows}});return n}),define("text!templates/insurance/pay_order_page.html",[],function(){return'<!--新保险确认下单页面-->\n<div data-role="page" id="insurance_pay_order_page" data-theme="a" style="padding-top: 44px; padding-bottom: 44px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>保险巨惠-我要下单</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <div class="order-info-detail"></div>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <button class="certain-policy-btn" data-theme="g" style="padding:0.7em 0.5%;width: 99%;color:white;">确认下单</button>\n    </div>\n</div>'}),define("text!templates/insurance/order_info_detail.html",[],function(){return'<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>订单号</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= order_no %></td>\n    </tr>\n</table>\n<br/>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>下单时间</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= new Date(last_modified_time || create_date).toString(\'yyyy-MM-dd\') %></td>\n    </tr>\n</table>\n<br/>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>车牌号</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= hphm %></td>\n    </tr>\n</table>\n<br/>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>保险公司</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= company_name %></td>\n    </tr>\n</table>\n<br/>\n<table  class="bx_xxnr_div_table">\n\n    <tr>\n        <td>出单价</td>\n    </tr>\n\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td>￥<%= totalAfterDiscount %></td>\n    </tr>\n</table><br/>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>出单赠送礼包</td>\n    </tr>\n\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= giftMoney %></td>\n    </tr>\n</table>\n<br/>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>联系电话</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= phone %></td>\n    </tr>\n</table>\n<br/>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>联系人</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td><%= user_name %></td>\n    </tr>\n</table>\n<br/>\n<table  class="bx_xxnr_div_table">\n    <tr>\n        <td>收单地址</td>\n    </tr>\n</table>\n<table  class="bx_xxnr_div_table_txt" align="center">\n    <tr>\n        <td style="width:auto">\n            <select name="province_id" class="province-select"></select><select name="city_id" class="city-select"></select>\n        </td>\n        <td>\n            <input name="address" class="address" type="text" style="width: 90%" />\n        </td>\n    </tr>\n</table>'}),define("views/insurance/PayOrderPageView",["jquery","underscore","backbone","models/insurance/InsuranceOrderInfoModel","collections/CityCollection","collections/ProvinceCollection","text!templates/insurance/pay_order_page.html","text!templates/insurance/order_info_detail.html"],function(e,t,n,r,i,s,o,u){e(o).appendTo("body");var a=n.View.extend({model:new r,el:"#insurance_pay_order_page",initialize:function(e){this.city_collection=new i,this.province_collection=new s,this.order_info_deital_tpl=t.template(u),this.listenTo(this.model,"change:id",this._render),this.listenTo(this.model,"invalid",this._onModelInvalid),this.listenTo(this.city_collection,"reset",this._renderCitySelect),this.listenTo(this.province_collection,"reset",this._renderProvinceSelect)},events:{"change .province-select":"_onProvinceSelectChange","change .city-select":"_onCitySelectChange","click .certain-policy-btn":"_onCertainPolicyBtnClick"},_onProvinceSelectChange:function(t){var n=e(t.target),r=n.val();this.city_collection.setProvinceId(r)},_onCitySelectChange:function(t){this.$el.find(".city-select").attr("data-value",e(t.target).val())},_onCertainPolicyBtnClick:function(t){this._collectionFormData();if(this.model.isValid()){var n=this;this.model.save(this.model.attributes,{success:function(t,r,i){if(!r.success)return;if(G.user_id=="WEIBO_ACCOUNT"){e.cm.toast({msg:"请使用线下付款方式"}),this.trigger("uri",n,"insurances/4");return}var s="<root><orderId>"+n.model.get("order_id")+"</orderId><orderNo>"+n.model.get("order_no")+"</orderNo><orderFee>"+n.model.get("order_fee")+"</orderFee><payType><offline>1</offline><alipay>1</alipay><wxpay>1</wxpay></payType><des>"+encodeURIComponent("保险保费")+"</des></root>";window.location.href="pay://yn.122.net/?ordername="+encodeURIComponent("保险保费")+"&orderinfo="+encodeURIComponent(base64encode(s))}})}},_onModelInvalid:function(t,n){e.cm.toast({msg:n})},_render:function(e,t,n){this.$el.find(".order-info-detail").empty().append(this.order_info_deital_tpl(this.model.toJSON())),this.province_collection.fetch({reset:!0})},_renderCitySelect:function(t,n){var r=this.$el.find(".city-select");r.empty(),e.each(t.models,function(e,t){var n=t.get("id"),i=t.get("name"),s="";n==(r.attr("data-value")||G.user.city_id)&&(s="selected"),r.append('<option value="'+n+'" '+s+">"+i+"</option>")})},_renderProvinceSelect:function(t,n){var r=this.$el.find(".province-select");r.empty(),e.each(t.models,function(e,t){var n=t.get("id"),i=t.get("name"),s="";n==(G.user.province_id||1)&&(s="selected"),r.append('<option value="'+n+'" '+s+">"+i+"</option>")}),r.change()},_collectionFormData:function(){var e=this.$el.find(".province-select").val(),t=this.$el.find(".city-select").val(),n=this.$el.find(".address").val();this.model.set("province_id",e,{silent:!0}),this.model.set("city_id",t,{silent:!0}),this.model.set("address",n,{silent:!0})},loadOrderInfo:function(e){this.model.clear({silent:!0}),this.$el.find(".order-info-detail").empty(),this.model.set("insurance_info_id",e,{silent:!0}),this.model.fetch()}});return a}),define("text!templates/insurance/insurance_list_page.html",[],function(){return'<!--保险保单列表页面-->\n<div data-role="page" id="insurance_list_page" data-theme="a" style="padding-top: 95px;">\n    <div data-role="header" class="cm-fixed" data-theme="g" style="padding-bottom: 0px;">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>本地惠-保险订单</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n        <div id="insurance_navbar" data-role="navbar" class="" cellpadding="0" cellspacing="8">\n            <ul>\n                <li><a data-tap-index="1" href="#insurance/list/1">已自算</a></li>\n                <li><a data-tap-index="2" href="#insurance/list/2">待精算</a></li>\n                <li><a data-tap-index="3" href="#insurance/list/3">已精算</a></li>\n                <li><a data-tap-index="4" href="#insurance/list/4">已下单</a></li>\n                <li><a data-tap-index="5" href="#insurance/list/5">已出单</a></li>\n            </ul>\n        </div>\n    </div>\n    <div role="main" class="ui-content">\n        <table id="insurance_list_view_1" class="list_cd_box_div2" cellpadding="0" cellspacing="0">\n            <tr>\n                <td class="item-container">\n\n                </td>\n            </tr>\n            <tr><td><div class="pager ui-btn ui-btn-a" style="display:none"><span>加载更多</span></div></td></tr>\n        </table>\n        <table id="insurance_list_view_2" class="list_cd_box_div2" cellpadding="0" cellspacing="0">\n            <tr>\n                <td class="item-container">\n\n                </td>\n            </tr>\n            <tr><td><div class="pager ui-btn ui-btn-a" style="display:none"><span>加载更多</span></div></td></tr>\n        </table>\n        <table id="insurance_list_view_3" class="list_cd_box_div2" cellpadding="0" cellspacing="0">\n            <tr>\n                <td class="item-container">\n\n                </td>\n            </tr>\n            <tr><td><div class="pager ui-btn ui-btn-a" style="display:none"><span>加载更多</span></div></td></tr>\n        </table>\n        <table id="insurance_list_view_4" class="list_cd_box_div2" cellpadding="0" cellspacing="0">\n            <tr>\n                <td class="item-container">\n\n                </td>\n            </tr>\n            <tr><td><div class="pager ui-btn ui-btn-a" style="display:none"><span>加载更多</span></div></td></tr>\n        </table>\n        <table id="insurance_list_view_5" class="list_cd_box_div2" cellpadding="0" cellspacing="0">\n            <tr>\n                <td class="item-container">\n\n                </td>\n            </tr>\n            <tr><td><div class="pager ui-btn ui-btn-a" style="display:none"><span>加载更多</span></div></td></tr>\n        </table>\n    </div>\n</div>'}),define("text!templates/insurance/insurance_list_item_1.html",[],function(){return'<div class="fs_list_box">\n    <a class="cm-block cm-span12" href="#insurance/price/<%= id %>">\n        <table style="width: 100%">\n            <tr>\n                <td valign="top">\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">自算时间:</span><%= new Date(create_date).toString(\'yyyy-MM-dd\') %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">比价最低：</span><%= min_after_discount %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">预计出单赠送礼包：</span><%= gift_money %>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </a>\n</div>\n<div class="fs_list_box_fgx"></div>'}),define("text!templates/insurance/insurance_list_item_2.html",[],function(){return'<div class="fs_list_box">\n    <a class="cm-block cm-span12" href="#insurance/price/<%= id %>">\n        <table style="width: 100%">\n            <tr>\n                <td valign="top">\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">申请精算时间:</span><%= new Date(last_modified_time).toString(\'yyyy-MM-dd\') %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">比价最低：</span><%= min_after_discount %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">预计出单赠送礼包：</span><%= gift_money %>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </a>\n</div>\n<div class="fs_list_box_fgx"></div>'}),define("text!templates/insurance/insurance_list_item_3.html",[],function(){return'<div class="fs_list_box">\n    <a class="cm-block cm-span12" href="#insurance/actuary_price/<%= id %>">\n        <table style="width: 100%">\n            <tr>\n                <td valign="top">\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">精算时间:</span><%= new Date(last_modified_time || create_date).toString(\'yyyy-MM-dd\') %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">标准保费：</span><%= total_standard %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">车优惠出单价最低：</span><%= min_total_after_discount %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">出单赠送礼包最高：</span><%= max_gift_money %>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </a>\n</div>\n<div class="fs_list_box_fgx"></div>'}),define("text!templates/insurance/insurance_list_item_4.html",[],function(){return'<%\nvar order_info_xml = \'<root><orderId>\' + order_id + \'<orderId><orderNo>\' + order_no + \'</orderNo><orderFee>\' + order_fee + \'</orderFee><payType><offline>1</offline><alipay>1</alipay><wxpay>1</wxpay></payType><des>\' + encodeURIComponent(\'保险保费\') + \'</des></root>\';\n\nvar pay_uri = \'pay://yn.122.net/?ordername=\' + encodeURIComponent(\'保险保费\') + \'&orderinfo=\' + encodeURIComponent(base64encode(order_info_xml));\n%>\n\n<div class="fs_list_box">\n    <a class="cm-block cm-span12" href="#insurance/<%= info_id %>/actuary_result/">\n        <table style="width: 100%">\n            <tr>\n                <td valign="top">\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">下单时间:</span><%= new Date(last_modified_time || create_date).toString(\'yyyy-MM-dd\') %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">订单号：</span><%= order_no %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">订单状态：</span><%= order_state? \'已支付\' : \'未支付\' %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">标准保费：</span><%= totalStandard %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">车优惠出单价：</span><%= totalAfterDiscount %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">出单赠送礼包：</span><%= giftMoney %>\n                    </div>\n                </td>\n                <td style="text-align: center">\n                    <% if(!order_state){ %>\n                    <a href="<%= pay_uri %>" target="_blank" class="cm-btn cm-radius-s" style="background-color: orange; color:white; font-size: 0.75rem;">支付</a><br/>\n                    <% }else{ %>\n                    <span style="color:steelblue">等待出单</span><br/>\n                    <% } %>\n                    <a href="#insurance/<%= info_id %>/pay_order" class="cm-btn cm-radius-s cm-bg-prim" style="color:white; margin-top: 5px; font-size: 0.75rem;">详情</a>\n                </td>\n            </tr>\n        </table>\n    </a>\n</div>\n<div class="fs_list_box_fgx"></div>'}),define("text!templates/insurance/insurance_list_item_5.html",[],function(){return'<div class="fs_list_box">\n    <a class="cm-block cm-span12" href="#insurances/5">\n        <table style="width: 100%">\n            <tr>\n                <td valign="top">\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">出单时间:</span><%= new Date(issuing_time || last_modified_time || create_date).toString(\'yyyy-MM-dd\') %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">保单号：</span><%= insurance_no %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-label cm-bg-prim">保险公司：</span><%= company_name %>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </a>\n</div>\n<div class="fs_list_box_fgx"></div>'}),define("collections/insurance/InsuranceInfoCollection",["collections/PaginationCollection","models/insurance/InsuranceInfoModel"],function(e,t){var n=e.extend({model:t,initialize:function(t,n){n||(n={}),e.prototype.initialize.call(this,t,n),this.type=n.type||"1"},url:function(){return"/insurances/"+this.type}});return n}),define("text!templates/insurance/insurance_list_item.html",[],function(){return'<%\nvar img_src = null;\nif (pic_data) {\nimg_src = \'data:image/png;base64,\' + pic_data;\n} else {\nimg_src = \'/assets/img/spimg2.jpg\';\n}\n\nvar date_str = \'\';\nvar state_str = \'\';\nvar label_bg_color = \'\';\n\nif (state == 2) {\n    state_str = \'已过期\';\n    label_bg_color = \'red\';\n} else if(state == 3) {\n    state_str = \'审核中\';\n    label_bg_color = \'yellow\';\n}\ndate_str = new Date(start_date).toString(\'yyyy-MM-dd\') + \'至\' + new Date(end_date).toString(\'yyyy-MM-dd\');\n\n%>\n\n<div class="fs_list_box">\n    <a class="cm-block cm-span12" href="#activity/detail/<%= id %>">\n        <table style="width: 100%">\n            <tr>\n                <td style="width: 100px">\n                    <img src="<%= img_src %>" width="100" height="100" />\n                </td>\n                <td valign="top">\n                    <div class="fs_list_box_bt ">\n                        <%= name %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        时间：<%= date_str %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        地点：<%= place %>\n                    </div>\n                    <div class="fs_list_box_bt ">\n                        <span class="cm-left">报名人数：<%= user_num %>人</span>\n                        <span class="cm-label cm-right" style="background-color:<%= label_bg_color %>">\n                            <%= state_str %>\n                        </span>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </a>\n</div>\n<div class="fs_list_box_fgx"></div>'}),define("views/insurance/InsuranceListView",["views/BaseListView","text!templates/insurance/insurance_list_item.html"],function(e,t){var n=e.extend({initialize:function(n){n||(n={}),n.item_tpl||(n.item_tpl=t),e.prototype.initialize.call(this,n)}});return n}),define("views/insurance/InsuranceListPageView",["jquery","backbone","text!templates/insurance/insurance_list_page.html","text!templates/insurance/insurance_list_item_1.html","text!templates/insurance/insurance_list_item_2.html","text!templates/insurance/insurance_list_item_3.html","text!templates/insurance/insurance_list_item_4.html","text!templates/insurance/insurance_list_item_5.html","collections/insurance/InsuranceInfoCollection","views/insurance/InsuranceListView"],function(e,t,n,r,i,s,o,u,a,f){e(n).appendTo("body");var l=t.View.extend({el:"#insurance_list_page",initialize:function(){this.activeTapIndex=1,this.insurance_list_view_1=new f({el:"#insurance_list_view_1",item_tpl:r,collection:new a([],{type:1})}),this.insurance_list_view_2=new f({el:"#insurance_list_view_2",item_tpl:i,collection:new a([],{type:2})}),this.insurance_list_view_3=new f({el:"#insurance_list_view_3",item_tpl:s,collection:new a([],{type:3})}),this.insurance_list_view_4=new f({el:"#insurance_list_view_4",item_tpl:o,collection:new a([],{type:4})}),this.insurance_list_view_5=new f({el:"#insurance_list_view_5",item_tpl:u,collection:new a([],{type:5})})},events:{},changeTap:function(e){typeof this.activeTapIndex!="undefined"&&(this.$el.find("#insurance_list_view_"+this.activeTapIndex).hide(),this.$el.find("[data-tap-index="+this.activeTapIndex+"]").removeClass("ui-btn-active")),this.activeTapIndex=e,this.$el.find("#insurance_list_view_"+e).show(),this.$el.find("[data-tap-index="+e+"]").addClass("ui-btn-active"),this["insurance_list_view_"+e].collection.fetch()},reset:function(){this.insurance_list_view_1.collection.reset(),this.insurance_list_view_2.collection.reset(),this.insurance_list_view_3.collection.reset(),this.insurance_list_view_4.collection.reset(),this.insurance_list_view_5.collection.reset()}});return l}),define("routers/NewInsuranceRouter",["jquery","backbone","views/insurance/InsurancePageView","views/insurance/CompulsorySetPageView","views/insurance/ValueSetPageView","views/insurance/FullSetPageView","views/insurance/ProfitSetPageView","views/insurance/ReservationPageView","views/insurance/ParityPageView","views/insurance/FinalParityPageView","views/insurance/ApplyActualPageView","views/insurance/PayOrderPageView","views/insurance/InsuranceListPageView"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=t.Router.extend({initialize:function(){this.insurance_page_view=new n,this.insurance_compulsory_set_page_view=new r,this.insurance_value_set_page_view=new i,this.insurance_full_set_page_view=new s,this.insurance_profit_set_page_view=new o,this.insurance_reservation_page_view=new u,this.parity_page_view=new a,this.final_parity_page_view=new f,this.apply_actual_page_view=new l,this.pay_order_page_view=new c,this.insurance_list_page_view=new h,this.listenTo(this.insurance_value_set_page_view,"invalid",this._onFormModelInvalid),this.listenTo(this.insurance_full_set_page_view,"invalid",this._onFormModelInvalid),this.listenTo(this.insurance_page_view,"uri",this._onRequestUri),this.listenTo(this.insurance_compulsory_set_page_view,"uri",this._onRequestUri),this.listenTo(this.insurance_value_set_page_view,"uri",this._onRequestUri),this.listenTo(this.insurance_full_set_page_view,"uri",this._onRequestUri),this.listenTo(this.insurance_profit_set_page_view,"uri",this._onRequestUri),this.listenTo(this.parity_page_view,"uri",this._onRequestUri),this.listenTo(this.pay_order_page_view,"uri",this._onRequestUri),this.listenTo(this.final_parity_page_view,"uri",this._onRequestUri)},_onFormModelInvalid:function(t,n){e.cm.toast({msg:n})},_onRequestUri:function(e,t,n){this.navigate(t,{trigger:!0})},routes:{insurance:"index","insurance/set(/:type)(/:state_id)":"firstCalc","insurance/reservation":"reservation","insurance/price/:info_id":"parityPrice","insurance/actuary_price/:info_id":"finalParityPrice","insurance/apply_actual/:info_id(/:is_compulsory)":"applyActual","insurance/:info_id/actuary_result/":"actuaryResult","insurance/:info_id/pay_order":"payOrder","insurance/list(/:state)":"insurances"},index:function(){e(":mobile-pagecontainer").pagecontainer("change","#insurance_page")},firstCalc:function(t,n){e(":mobile-pagecontainer").pagecontainer("change","#insurance_"+t+"_set_page"),this["insurance_"+t+"_set_page_view"]&&this["insurance_"+t+"_set_page_view"].reset&&this["insurance_"+t+"_set_page_view"].reset(n)},firstPrice:function(t){e(":mobile-pagecontainer").pagecontainer("change","#insurance_first_price_page"),this.first_price_page_view.loadInfo(t)},reservation:function(){e(":mobile-pagecontainer").pagecontainer("change","#insurance_reservation_page"),this.insurance_reservation_page_view.reset()},parityPrice:function(t){e(":mobile-pagecontainer").pagecontainer("change","#insurance_parity_price_page"),this.parity_page_view.loadInfo(t)},finalParityPrice:function(t){e(":mobile-pagecontainer").pagecontainer("change","#insurance_final_parity_price_page"),this.final_parity_page_view.loadInfo(t)},applyActual:function(t,n){if(G.user.user_id==="INSURANCE_ACCOUNT"){e.cm.toast({msg:"请下载车友惠App进行精算"}),window.history.back();return}e(":mobile-pagecontainer").pagecontainer("change","#insurance_apply_actual_page"),this.apply_actual_page_view.is_compulsory=n,this.apply_actual_page_view.model.set("info_id",t),this.apply_actual_page_view.reset()},actuaryPrice:function(t){e(":mobile-pagecontainer").pagecontainer("change","#insurance_actuary_price_page"),this.actuary_price_page_view.loadInfo(t)},payOrder:function(t){e(":mobile-pagecontainer").pagecontainer("change","#insurance_pay_order_page"),this.pay_order_page_view.loadOrderInfo(t)},insurances:function(t){if(G.user.user_id=="WEIBO_ACCOUNT"){e.cm.toast({msg:"游客不可查看订单"});return}e(":mobile-pagecontainer").pagecontainer("change","#insurance_list_page");var n=t||1;t||this.insurance_list_page_view.reset(),this.insurance_list_page_view.changeTap(n)}});return p}),/*define("text!/activity",[],function(){return"111\n"}),*/define("models/activity/ActivityModel",["backbone"],function(e){var t=e.Model.extend({urlRoot:"/activity/",parse:function(e,t){return t.collection?e:e.row}});return t}),define("collections/activity/ActivityCollection",["collections/PaginationCollection","models/activity/ActivityModel"],function(e,t){var n=e.extend({model:t,initialize:function(t,n){n||(n={}),e.prototype.initialize.call(this,t,n),this.type=n.type||"all"},url:function(){if(this.type=="all")return"/activitise";if(this.type=="my")return"/activitise/my"}});return n}),define("text!templates/activity/activity_list_item.html",[],function(){return"<%\nvar img_src = null;\nif (pic_data) {\nimg_src = 'data:image/png;base64,' + pic_data;\n} else {\nimg_src = '/assets/img/DefaultFavour.jpg';\n}\n\nvar date_str = '';\nvar state_str = '';\nvar label_bg_color = '';\n\nif (state == 2) {\n    state_str = '已过期';\n    label_bg_color = 'red';\n} else if(state == 3) {\n    state_str = '审核中';\n    label_bg_color = 'yellow';\n}\ndate_str = new Date(start_date).toString('yyyy-MM-dd') + '至' + new Date(end_date).toString('yyyy-MM-dd');\n\nvar target_url = '';\nif(type == 2)\n{\n    if(url.indexOf('?') == -1)\n    {\n        target_url = url + '?ssid=' + G.user.session_id;\n    }\n    else\n    {\n        var url_parts = url.split('#');\n        url_parts[0] = url_parts[0] + '&ssid=' + G.user.session_id;\n        target_url =  url_parts.join('#');\n    }\n}\nelse\n{\n    target_url = '#activity/detail/' + id;    \n}\n\n\n%>\n\n<div class=\"fs_list_box\">\n    <a class=\"cm-block cm-span12\" href=\"<%= target_url %>\">\n        <table style=\"width: 100%\">\n            <tr>\n                <td style=\"width: 100px\">\n                    <img src=\"<%= img_src %>\" width=\"100\" height=\"100\" />\n                </td>\n                <td valign=\"top\">\n                    <div class=\"fs_list_box_bt \">\n                        <%= name %>\n                    </div>\n                    <div class=\"fs_list_box_bt \">\n                        时间：<%= date_str %>\n                    </div>\n                    <div class=\"fs_list_box_bt \">\n                        地点：<%= place %>\n                    </div>\n                    <% if(type != 2) { %>\n                    <div class=\"fs_list_box_bt \">\n                        <span class=\"cm-left\">报名人数：<%= user_num %>人</span>\n                        <span class=\"cm-label cm-right\" style=\"background-color:<%= label_bg_color %>\">\n                            <%= state_str %>\n                        </span>\n                    </div>\n                    <% } %>\n                </td>\n            </tr>\n        </table>\n    </a>\n</div>\n<div class=\"fs_list_box_fgx\"></div>\n"}),define("views/activity/ActivityListView",["views/BaseListView","text!templates/activity/activity_list_item.html"],function(e,t){var n=e.extend({initialize:function(n){n||(n={}),n.item_tpl||(n.item_tpl=t),e.prototype.initialize.call(this,n)}});return n}),define("models/activity/ActivityPubFormModel",["backbone"],function(e){var t=e.Model.extend({urlRoot:"/activity",validate:function(e,t){if(!e.name||e.name&&e.name.length<10)return"活动名称必须在10个字以上!";if(!e.start_date||!e.end_date)return"请设置开始和结束时间!";if(!e.place)return"请填写活动地点!";if(!e.contents||e.contents&&e.contents<16)return"内容必须在16个字以上!"}});return t}),define("views/activity/ActivityPubFormView",["jquery","backbone","models/activity/ActivityPubFormModel","jqm","datetimepicker"],function(e,t,n){var r=t.View.extend({model:new n,initialize:function(){this.$el.find('[name="start_date"]').datetimepicker({lang:"ch",format:"Y-m-d",formatDate:"Y/m/d",timepicker:!1}),this.$el.find('[name="end_date"]').datetimepicker({lang:"ch",format:"Y-m-d",formatDate:"Y/m/d",timepicker:!1}),this.listenTo(this.model,"change:activity_id",this._onNewActivityPubed),this.listenTo(this.model,"invalid",this._onPubModelInvalid)},events:{"click .submit-btn":"_onSubmitBtnClick"},_onSubmitBtnClick:function(e){this._collectionData(),this.model.isValid()&&this.model.save()},_onNewActivityPubed:function(e,t){this.trigger("activitygen",this,this.model.get("activity_id"))},_onPubModelInvalid:function(e,t){this.trigger("invalid:pub",this,t)},_collectionData:function(){var t=this;this.model.clear({silent:!0}),this.$el.find("[name]").each(function(n,r){if(e(r).is(":radio")&&!e(r).is(":checked"))return;var i=e(r).attr("name"),s=e(r).val();t.model.set(i,s,{silent:!0})}),t.model.set("pub_user",G.user.user_id,{silent:!0})}});return r}),define("models/activity/ActivitySignFormModel",["backbone"],function(e){var t=e.Model.extend({urlRoot:"/activity/sign_up/",_cn_str_reg:/^[\u4e00-\u9fa5]+$/,_phone_reg:/^\d{11}$/,_id_no_reg:/^\d{17}[\d\w]$/,_number_reg:/\d+/,validate:function(e,t){if(typeof e.user_id!="undefined"&&e.user_id=="")return"请输入用户名!";if(typeof e.uname!="undefined"&&(e.uname==""||!this._cn_str_reg.test(e.uname)))return"请输入真实姓名!";if(typeof e.idno!="undefined"&&(e.idno==""||!this._id_no_reg.test(e.idno)))return"请输入真实有效的生分证号!";if(typeof e.phone!="undefined"&&(e.phone==""||!this._phone_reg.test(e.phone)))return"请输入正确的手机号";if(typeof e.people!="undefined"&&(!this._number_reg.test(e.people)||e.people<=0))return"请输入正确人数";if(typeof e.pay_items!="undefined"&&e.pay_items.length<1)return"请确认收费项目"}});return t}),define("text!templates/activity/activity_detail_page.html",[],function(){return'<!-- 活动详情页面 -->\n<div data-role="page" id="activity_detail_page" data-theme="a" style="padding: 51px 0px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#" onclick="window.history.back();return false;"></a>\n        <h1>本地惠-活动详情</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <div class="detail-container" style="padding: 0px 1%; width: 98%">\n\n        </div>\n    </div>\n    <div data-role="popup" id="activity_sign_up_popup" data-overlay-theme="g" data-theme="a" data-corners="true" data-enhance="false">\n        <a href="#" data-rel="back" data-theme="j" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right" style="background-color: #333; color: #FFF; border-color:#666; border-radius: 25em; position: absolute; right: -12px; top:-12px;"></a>\n        <div id="activity_sign_up_form_container" style="background-color: #eee; border-radius: 0.5em;">\n            <table style="padding:10px">\n                <tr class="fb_box_bt" data-field="id">\n                    <td style="width: 30%">用户名：</td><td><input name="user_id" type="text" value="" disabled/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="uname">\n                    <td style="width: 30%">真实姓名：</td>\n                    <td><input name="uname" type="text" value=""/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="sex">\n                    <td style="width: 30%">性别：</td>\n                    <td>\n                        <input type="radio" name="sex" value="1" checked/>男\n                        <input type="radio" name="sex" value="2"/>女\n                    </td>\n                </tr>\n                <tr class="fb_box_bt" data-field="idcardno">\n                    <td style="width: 30%">身份证号：</td>\n                    <td><input name="idno" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="pca">\n                    <td style="width: 30%">省市区：</td>\n                    <td>\n                        <select id="activity_province" name="province" class="cm-span4"></select>\n                        <select id="activity_city" name="city" class="cm-span4"></select>\n                        <select id="activity_area" name="area" class="cm-span3"></select>\n                    </td>\n                </tr>\n                <tr class="fb_box_bt" data-field="address">\n                    <td style="width: 30%">详细地址：</td>\n                    <td><input name="address" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="phone">\n                    <td style="width: 30%">电话/手机：</td>\n                    <td><input name="phone" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="sinaWeibo">\n                    <td style="width: 30%">新浪微博昵称：</td>\n                    <td><input name="sina_weibo" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="weixin">\n                    <td style="width: 30%">微信昵称：</td>\n                    <td><input name="weixin" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="hphm">\n                    <td style="width: 30%">车牌：</td>\n                    <td><input name="hphm" type="text"/></td>\n                </tr>\n\n                <tr class="fb_box_bt" data-field="people">\n                    <td style="width: 30%">人数：</td>\n                    <td><input name="people" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="qqNum">\n                    <td style="width: 30%">QQ号：</td>\n                    <td><input name="qq_num" type="text"/></td>\n                </tr>\n                <tr class="fb_box_bt" data-field="auto">\n                    <td style="width:30%">其他：</td>\n                    <td>\n                        <p id="activity_option_label"></p>\n                        <input name="options" type="text"/>\n                    </td>\n                </tr>\n                <tr class="fb_box_bt" data-field="select">\n                    <td style="width:30%">我选:</td>\n                    <td>\n                        <p id="activity_select_label"></p>\n                        <select name="selected"></select>\n                    </td>\n                </tr>\n\n                <tr class="fb_box_bt" data-field="pay_items">\n                    <td style="width: 30%">\n                        付款项目:\n                    </td>\n                    <td>\n                        <table id="activity_pay_items_container">\n\n                        </table>\n                    </td>\n                </tr>\n                <tr class="fb_box_bt" data-field="total_fee">\n                    <td style="width: 30%">总价：</td>\n                    <td>\n                        <span name="total_fee" class="cm-color-money" style="font-weight:bold"></span>\n                    </td>\n                </tr>\n                <tr class="fb_box_bt">\n                    <td colspan="2">\n                        <button id="activity_sign_up_submit_btn" data-theme="g">提交</button>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n    <div data-role="footer" class="cm-fixed" style="background-color: rgba(0,0,0,0.2)">\n        <a id="activity_sign_up_btn" data-theme="g" style="padding:0.7em 0.5%;width: 99%;color:white">我要报名</a>\n    </div>\n</div>'}),define("text!templates/activity/activity_detail.html",[],function(){return'<%\nvar date_str = \'\';\n\nif (state == 2) {\ndate_str = \'已过期\';\n} else {\ndate_str = new Date(start_date).toString(\'yyyy-MM-dd\') + \'至\' + new Date(end_date).toString(\'yyyy-MM-dd\');\n}\n\nvar sign_date_str = \'\';\n\nif(sign_end_date)\n{\n    var sign_end_date = new Date(sign_end_date);\n    var sign_start_date = new Date(sign_start_date);\n    sign_date_str = sign_start_date.toString(\'yyyy-MM-dd\') + \'至\' + sign_end_date.toString(\'yyyy-MM-dd\');\n}\n%>\n<table class="fb_box" style="padding: 10px">\n    <tr class="fb_box_bt">\n        <td style="width:30%"><span class="cm-label cm-bg-prim">活动名称</span></td>\n        <td style="line-height: 1em;"><%= name %></td>\n    </tr>\n    <tr class="fb_box_bt" >\n        <td><span class="cm-label cm-bg-prim">活动内容</span></td>\n        <td></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td colspan="2">\n            <%= contents %>\n        </td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td><span class="cm-label cm-bg-prim">活动时间</span></td>\n        <td><%= date_str %></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td><span class="cm-label cm-bg-prim">报名时间</span></td>\n        <td><%= sign_date_str %></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td><span class="cm-label cm-bg-prim">活动地点</span></td>\n        <td><%= place %></td>\n    </tr>\n    <tr class="fb_box_bt">\n        <td><span class="cm-label cm-bg-prim">支付款项</span></td>\n        <td>\n            <% for(var i = 0; i < goods.length; i++){ %>\n            <span><%= goods[i].name %>:<%= goods[i].price %></span>\n            <% } %>\n        </td>\n    </tr>\n</table>'}),define("views/activity/ActivityDetailPageView",["jquery","underscore","backbone","models/activity/ActivityModel","models/activity/ActivitySignFormModel","text!templates/activity/activity_detail_page.html","text!templates/activity/activity_detail.html","pcas","jqm"],function(e,t,n,r,i,s,o,u){e(s).appendTo("body");var a=n.View.extend({detail_tpl:t.template(o),model:new r,sign_form_model:new i,el:"#activity_detail_page",initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.sign_form_model,"invalid",this.onSignModelInValid),this.listenTo(this.sign_form_model,"change:order_info",this.onSignModelOrderInfoChange),new u("activity_province","activity_city","activity_area")},render:function(t,n){this.$el.find(".detail-container").empty(),this.$el.find("#activity_sign_up_btn").hide();if(t.keys().length==0)return;e("title").text(this.model.get("name")),this.$el.find(".detail-container").append(this.detail_tpl(t.toJSON()));var r=t.get("state"),i=t.get("sign_start_date"),s=t.get("sign_end_date"),o=new Date(i),u=new Date(s),a=Date.today();r!=1||i&&Date.compare(o,a)==1||s&&Date.compare(u,a)==-1?this.$el.find("#activity_sign_up_btn").hide():this.$el.find("#activity_sign_up_btn").show();var f=t.get("infos")||"";this.$el.find("#activity_sign_up_form_container [data-field]").each(function(t,n){var r=e(n).attr("data-field");f.indexOf(r)!=-1?e(n).show():e(n).hide()}),e('[data-field="auto"]').find("#activity_option_label").text(t.get("option")),e('[data-field="select"]').find("#activity_select_label").text(t.get("sel_name")),this.$el.find("[name=selected]").empty();var l=t.get("sel_items_text"),c=t.get("sel_items_value");if(l){var h=l.split(","),p=c.split(","),d=p.length;for(var v=0;v<d;v++)this.$el.find("[name=selected]").append('<option value="'+p[v]+'">'+h[v]+"</option>")}e('[name="user_id"]').val(G.user.user_id),e('[name="uname"]').val(G.user.uname||""),e('[name="phone"]').val(G.user.phone||"");var m=t.get("need_pay");if(m==1){e('#activity_sign_up_form_container [data-field="pay_items"]').show(),e('#activity_sign_up_form_container [data-field="total_fee"]').show(),e('#activity_sign_up_form_container [name="total_fee"]').text("0.00");var g=t.get("goods"),y=g.length;e("#activity_pay_items_container").empty();for(var v=0;v<y;v++){var b=e('<tr class="activity-pay-item" data-id="'+g[v].id+'" data-price="'+g[v].price+'"></tr>');e("#activity_pay_items_container").append(b),b.append("<td>"+g[v].name+"</td>"),b.append('<td class="cm-color-money">'+g[v].price+"</td>"),b.append('<td class="cm-numberspinner cm-span6 activity-pay-item-number"></td>'),b.find(".cm-numberspinner").numberspinner({change:function(t,n){var r=0;e("#activity_pay_items_container .activity-pay-item").each(function(t,n){var i=Number(e(n).attr("data-price")),s=e(n).find(".activity-pay-item-number").numberspinner("getValue");r+=i*s}),e('#activity_sign_up_form_container [name="total_fee"]').text(Number(r).toFixed(2))}}),v==0&&b.find(".cm-numberspinner .cm-plus-btn").click()}}else e('#activity_sign_up_form_container [data-field="pay_items"]').hide()},events:{"click #activity_sign_up_btn":"onSignUpBtnClick","click #activity_sign_up_submit_btn":"onSignUpSubmit",'change [name="pay_type"]':"onPayTypeChange"},onSignUpBtnClick:function(t){return t.preventDefault(),e("#activity_sign_up_popup").popup("open"),!1},onPeopleNumberInput:function(e){var t=this.$el.find('[name="people"]').val(),n=this.$el.find('[name="deposit"]').val(),r=Number(t)*Number(n);this.$el.find("total_fee").val(r.toFixed(2))},onSignUpSubmit:function(e){return this._collectFormData(),this.sign_form_model.isValid()&&this.sign_form_model.save(),!1},onSignModelInValid:function(e,t){this.trigger("invalid:sign",this,t)},onSignModelOrderInfoChange:function(e,t){this.trigger("ordergen",this,this._getOrderInfo())},_collectFormData:function(){this.sign_form_model.clear({silent:!0});var t=this;e("[name]:visible").each(function(n,r){if(e(r).is("radio")&&e(r).prop("checked")==0)return;var i=e(r).attr("name"),s=e(r).val();t.sign_form_model.set(i,s,{silent:!0})});if(this.model.get("need_pay")==1){var n=[];e("#activity_pay_items_container .activity-pay-item").each(function(t,r){var i=e(r).find(".activity-pay-item-number").numberspinner("getValue");if(i==0)return;var s={};s.id=e(r).attr("data-id"),s.number=i,n.push(s)}),t.sign_form_model.set("pay_items",n)}t.sign_form_model.set("aid",this.model.get("id")),t.sign_form_model.set("user_id",G.user.user_id)},_getOrderInfo:function(){var e=this.sign_form_model.get("order_info"),t=this.model.get("pay_types");if(e&&e instanceof Object){e.pay_type={offline:0,alipay:0,wxpay:0};if(t.indexOf("CASH")!=-1||t.indexOf("POS")!=-1||t.indexOf("TRANSFER")!=-1)e.pay_type.offline=1;t.indexOf("ONLINE")!=-1&&(e.pay_type.alipay=1,e.pay_type.wxpay=1)}var n=this.model.get("name");return e.order_des=n=="t1"?"活动名称":"for auto life",e}});return a}),define("routers/ActivityRouter",["jquery","backbone","text!/activity","collections/activity/ActivityCollection","views/activity/ActivityListView","views/activity/ActivityPubFormView","views/activity/ActivityDetailPageView","jqm","base64"],function(e,t,n,r,i,s,o){var u=t.Router.extend({initialize:function(){e(n).appendTo("body"),this.activity_all_list_view=new i({el:"#activity_list_view_all",collection:new r(null,{type:"all"})}),this.activity_my_list_view=new i({el:"#activity_list_view_my",collection:new r(null,{type:"my"})}),this.$navbar=e("#activity_navbar"),e("#activity_pub_btn").click(e.proxy(this._onActivityPubBtnClick,this)),this.activity_pub_form_view=new s({el:"#activity_pub_form_container"}),this.listenTo(this.activity_pub_form_view,"invalid:pub",this._onPubInvalid),this.listenTo(this.activity_pub_form_view,"activitygen",this._onNewActivityGen),this.activity_detail_page_view=new o,this.listenTo(this.activity_detail_page_view,"invalid:sign",this._onSignInValid),this.listenTo(this.activity_detail_page_view,"ordergen",this._onNewOrderGen)},_onActivityPubBtnClick:function(t){return e("#activity_pub_popup").popup("open"),!1},_onSignInValid:function(t,n){e.cm.toast({msg:n})},_onPubInvalid:function(t,n){e.cm.toast({msg:n})},_onNewActivityGen:function(e,t){this.navigate("activitise/my",{trigger:!0})},_onNewOrderGen:function(e,t){if(!t)return;var n="<root><orderId>"+t.order_id+"<orderId><orderNo>"+t.order_no+"</orderNo><orderFee>"+t.order_fee+"</orderFee><payType><offline>"+t.pay_type.offline+"</offline><alipay>"+t.pay_type.alipay+"</alipay><wxpay>"+t.pay_type.wxpay+"</wxpay></payType><des>"+encodeURIComponent(t.order_des)+"</des></root>";window.location.href="pay://yn.122.net/?ordername="+encodeURIComponent("活动收费项")+"&orderinfo="+encodeURIComponent(base64encode(n))},routes:{"activitise(/:type)":"index","activity/detail(/:id)":"activityDetail"},index:function(t){e(":mobile-pagecontainer").pagecontainer("change","#activitise_page"),t||(this.activity_all_list_view.collection.reset(),this.activity_my_list_view.collection.reset()),!t||t=="all"?(this.activity_all_list_view.collection.fetch(),this.activity_all_list_view.$el.show(),this.activity_my_list_view.$el.hide(),this.$navbar.find('[data-type-id="my"]').removeClass("ui-btn-active"),this.$navbar.find('[data-type-id="all"]').addClass("ui-btn-active")):t=="my"&&(this.activity_my_list_view.collection.fetch(),this.activity_my_list_view.$el.show(),this.activity_all_list_view.$el.hide(),this.$navbar.find('[data-type-id="all"]').removeClass("ui-btn-active"),this.$navbar.find('[data-type-id="my"]').addClass("ui-btn-active"))},activityDetail:function(t){e(":mobile-pagecontainer").pagecontainer("change","#activity_detail_page"),this.activity_detail_page_view.model.clear(),this.activity_detail_page_view.model.set({id:t},{silent:!0}),this.activity_detail_page_view.model.fetch()}});return u}),define("text!templates/collection/collection_page.html",[],function(){return'<!-- 我的收藏列表页面 -->\n<div data-role="page" id="collection_page" data-theme="a" style="padding-top: 44px; padding-bottom: 0px;">\n    <div data-role="header" class="cm-fixed" data-theme="g">\n        <a class="ui-btn-left ui-btn ui-icon-md-chevron-left ui-btn-icon-notext" href="#"></a>\n        <h1>本地惠-我的收藏</h1>\n        <a class="ui-btn-right ui-btn ui-icon-md-menu ui-btn-icon-notext" href="#menu"><i class="icon-reorder"></i></a>\n    </div>\n    <div role="main" class="ui-content">\n        <table id="collection_list_view" class="list_cd_box_div2" cellpadding="0" cellspacing="0">\n            <tr>\n                <td class="item-container">\n\n                </td>\n            </tr>\n            <tr><td><div class="pager ui-btn ui-btn-a" style="display:none"><span>加载更多</span></div></td></tr>\n        </table>\n    </div>\n</div>'}),define("models/collection/CollectionModel",["backbone"],function(e){var t=e.Model.extend({urlRoot:"/collection/",parse:function(e,t){return t.collection?e:e.row}});return t}),define("collections/collection/CollectionCollection",["collections/PaginationCollection","models/collection/CollectionModel"],function(e,t){var n=e.extend({model:t,initialize:function(t,n){n||(n={}),e.prototype.initialize.call(this,t,n)},url:function(){return"/collection/list"}});return n}),define("text!templates/collection/collection_list_item.html",[],function(){return'<%\nvar url = null;\n\nif(type == \'activity\')\n{\n    url = \'#activity/detail/\' + rel_id;\n}\nelse if(type == \'discovery\')\n{\n    url = \'#discovery/\' + rel_id;\n}\nelse if(type == \'tour\')\n{\n    url = \'#tour/detail/\' + rel_id;\n}\n%>\n\n<div class="fs_list_box">\n    <a class="cm-block cm-span12" href="<%= url %>">\n        <table style="width: 100%">\n            <tr>\n                <td style="width: 100px">\n                    <img src="<%= img %>" width="100%" height="auto" />\n                </td>\n                <td valign="center">\n                    <div class="fs_list_box_bt ">\n                        <%= title %>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </a>\n</div>\n<div class="fs_list_box_fgx"></div>\n'}),define("views/collection/CollectionListView",["views/BaseListView","text!templates/collection/collection_list_item.html"],function(e,t){var n=e.extend({initialize:function(n){n||(n={}),n.item_tpl||(n.item_tpl=t),e.prototype.initialize.call(this,n)}});return n}),define("views/collection/CollectionPageView",["jquery","backbone","text!templates/collection/collection_page.html","collections/collection/CollectionCollection","views/collection/CollectionListView"],function(e,t,n,r,i){e(n).appendTo("body");var s=t.View.extend({initialize:function(){this.collection_list_view=new i({el:"#collection_list_view",collection:new r})},reset:function(){this.collection_list_view.collection.reset(),this.collection_list_view.collection.fetch()}});return s}),define("routers/CollectionRouter",["jquery","backbone","views/collection/CollectionPageView","jqm"],function(e,t,n){var r=t.Router.extend({initialize:function(){this.collection_page_view=new n},routes:{"collection/list":"index"},index:function(){e(":mobile-pagecontainer").pagecontainer("change","#collection_page"),this.collection_page_view.reset()}});return r});